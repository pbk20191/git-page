import{t as Gt,a as Mt}from"../chunks/Ea50xoAq.js";import"../chunks/C8hlWbzK.js";import{w as re,ab as ne,h as ie,ax as oe,p as ae,y as At,a as ue,$ as fe,c as Bt,s as Wt,al as Nt,ak as Lt,a9 as $t,r as Dt,t as Jt}from"../chunks/9F2vzMZ2.js";import{l as se,e as le,s as ce}from"../chunks/DDleSGqJ.js";import{i as Qt}from"../chunks/DgeTr_Ph.js";import{h as he}from"../chunks/Do36sPF_.js";import{r as Zt,s as de}from"../chunks/DvF3j95z.js";import{i as pe}from"../chunks/CKQyVXh9.js";import{a as me}from"../chunks/D7XNQ8p4.js";function _e(et,kt,m=kt){var B=oe();se(et,"input",b=>{var f=b?et.defaultValue:et.value;if(f=Yt(et)?Vt(f):f,m(f),B&&f!==(f=kt())){var a=et.selectionStart,n=et.selectionEnd;et.value=f??"",n!==null&&(et.selectionStart=a,et.selectionEnd=Math.min(n,et.value.length))}}),(ie&&et.defaultValue!==et.value||re(kt)==null&&et.value)&&m(Yt(et)?Vt(et.value):et.value),ne(()=>{var b=kt();Yt(et)&&b===Vt(et.value)||et.type==="date"&&!b&&!et.value||b!==et.value&&(et.value=b??"")})}function Kt(et,kt,m=kt){se(et,"change",B=>{var b=B?et.defaultChecked:et.checked;m(b)}),(ie&&et.defaultChecked!==et.checked||re(kt)==null)&&m(et.checked),ne(()=>{var B=kt();et.checked=!!B})}function Yt(et){var kt=et.type;return kt==="number"||kt==="range"}function Vt(et){return et===""?null:+et}var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ve(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function ge(et){if(Object.prototype.hasOwnProperty.call(et,"__esModule"))return et;var kt=et.default;if(typeof kt=="function"){var m=function B(){return this instanceof B?Reflect.construct(kt,arguments,this.constructor):kt.apply(this,arguments)};m.prototype=kt.prototype}else m={};return Object.defineProperty(m,"__esModule",{value:!0}),Object.keys(et).forEach(function(B){var b=Object.getOwnPropertyDescriptor(et,B);Object.defineProperty(m,B,b.get?b:{enumerable:!0,get:function(){return et[B]}})}),m}var Ut={exports:{}};const we={},ye=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Ft=ge(ye);/**
 * workerpool.js
 * https://github.com/josdejong/workerpool
 *
 * Offload tasks to a pool of workers on node.js and in the browser.
 *
 * @version 9.2.0
 * @date    2024-10-11
 *
 * @license
 * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */var be=Ut.exports,te;function ke(){return te||(te=1,function(et,kt){(function(m,B){B(kt)})(be,function(m){var B={},b={exports:{}};(function(u){var O=function(P){return typeof P<"u"&&P.versions!=null&&P.versions.node!=null&&P+""=="[object process]"};u.exports.isNode=O,u.exports.platform=typeof process<"u"&&O(process)?"node":"browser";var A=u.exports.platform==="node"&&Ft;u.exports.isMainThread=u.exports.platform==="node"?(!A||A.isMainThread)&&!process.connected:typeof Window<"u",u.exports.cpus=u.exports.platform==="browser"?self.navigator.hardwareConcurrency:Ft.cpus().length})(b);var f=b.exports,a={},n;function c(){if(n)return a;n=1;function u(P,Z){var E=this;if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(typeof P!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var X=[],tt=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var rt=function(N,V){X.push(N),tt.push(V)};this.then=function(q,N){return new u(function(V,ot){var dt=q?O(q,V,ot):V,wt=N?O(N,V,ot):ot;rt(dt,wt)},E)};var vt=function(N){return E.resolved=!0,E.rejected=!1,E.pending=!1,X.forEach(function(V){V(N)}),rt=function(ot,dt){ot(N)},vt=K=function(){},E},K=function(N){return E.resolved=!1,E.rejected=!0,E.pending=!1,tt.forEach(function(V){V(N)}),rt=function(ot,dt){dt(N)},vt=K=function(){},E};this.cancel=function(){return Z?Z.cancel():K(new A),E},this.timeout=function(q){if(Z)Z.timeout(q);else{var N=setTimeout(function(){K(new k("Promise timed out after "+q+" ms"))},q);E.always(function(){clearTimeout(N)})}return E},P(function(q){vt(q)},function(q){K(q)})}function O(P,Z,E){return function(X){try{var tt=P(X);tt&&typeof tt.then=="function"&&typeof tt.catch=="function"?tt.then(Z,E):Z(tt)}catch(rt){E(rt)}}}u.prototype.catch=function(P){return this.then(null,P)},u.prototype.always=function(P){return this.then(P,P)},u.prototype.finally=function(P){var Z=this,E=function(){return new u(function(tt){return tt()}).then(P).then(function(){return Z})};return this.then(E,E)},u.all=function(P){return new u(function(Z,E){var X=P.length,tt=[];X?P.forEach(function(rt,vt){rt.then(function(K){tt[vt]=K,X--,X==0&&Z(tt)},function(K){X=0,E(K)})}):Z(tt)})},u.defer=function(){var P={};return P.promise=new u(function(Z,E){P.resolve=Z,P.reject=E}),P};function A(P){this.message=P||"promise cancelled",this.stack=new Error().stack}A.prototype=new Error,A.prototype.constructor=Error,A.prototype.name="CancellationError",u.CancellationError=A;function k(P){this.message=P||"timeout exceeded",this.stack=new Error().stack}return k.prototype=new Error,k.prototype.constructor=Error,k.prototype.name="TimeoutError",u.TimeoutError=k,a.Promise=u,a}function g(u,O){(O==null||O>u.length)&&(O=u.length);for(var A=0,k=Array(O);A<O;A++)k[A]=u[A];return k}function x(u,O){var A=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!A){if(Array.isArray(u)||(A=s(u))||O){A&&(u=A);var k=0,P=function(){};return{s:P,n:function(){return k>=u.length?{done:!0}:{done:!1,value:u[k++]}},e:function(tt){throw tt},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,E=!0,X=!1;return{s:function(){A=A.call(u)},n:function(){var tt=A.next();return E=tt.done,tt},e:function(tt){X=!0,Z=tt},f:function(){try{E||A.return==null||A.return()}finally{if(X)throw Z}}}}function _(u,O,A){return(O=r(O))in u?Object.defineProperty(u,O,{value:A,enumerable:!0,configurable:!0,writable:!0}):u[O]=A,u}function w(u,O){var A=Object.keys(u);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(u);O&&(k=k.filter(function(P){return Object.getOwnPropertyDescriptor(u,P).enumerable})),A.push.apply(A,k)}return A}function i(u){for(var O=1;O<arguments.length;O++){var A=arguments[O]!=null?arguments[O]:{};O%2?w(Object(A),!0).forEach(function(k){_(u,k,A[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(A)):w(Object(A)).forEach(function(k){Object.defineProperty(u,k,Object.getOwnPropertyDescriptor(A,k))})}return u}function p(u,O){if(typeof u!="object"||!u)return u;var A=u[Symbol.toPrimitive];if(A!==void 0){var k=A.call(u,O);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(u)}function r(u){var O=p(u,"string");return typeof O=="symbol"?O:O+""}function l(u){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},l(u)}function s(u,O){if(u){if(typeof u=="string")return g(u,O);var A={}.toString.call(u).slice(8,-1);return A==="Object"&&u.constructor&&(A=u.constructor.name),A==="Map"||A==="Set"?Array.from(u):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?g(u,O):void 0}}var h={exports:{}},y={},T;function S(){return T||(T=1,y.validateOptions=function(O,A,k){if(O){var P=O?Object.keys(O):[],Z=P.find(function(X){return!A.includes(X)});if(Z)throw new Error('Object "'+k+'" contains an unknown option "'+Z+'"');var E=A.find(function(X){return Object.prototype[X]&&!P.includes(X)});if(E)throw new Error('Object "'+k+'" contains an inherited option "'+E+'" which is not defined in the object itself but in its prototype. Only plain objects are allowed. Please remove the option from the prototype or override it with a value "undefined".');return O}},y.workerOptsNames=["credentials","name","type"],y.forkOptsNames=["cwd","detached","env","execPath","execArgv","gid","serialization","signal","killSignal","silent","stdio","uid","windowsVerbatimArguments","timeout"],y.workerThreadOptsNames=["argv","env","eval","execArgv","stdin","stdout","stderr","workerData","trackUnmanagedFds","transferList","resourceLimits","name"]),y}var D,R;function U(){return R||(R=1,D=`!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).worker=n()}(this,(function(){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={};var r=function(e,n){this.message=e,this.transfer=n},o={};function i(e,n){var t=this;if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");var r=[],o=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var a=function(e,n){r.push(e),o.push(n)};this.then=function(e,n){return new i((function(t,r){var o=e?u(e,t,r):t,i=n?u(n,t,r):r;a(o,i)}),t)};var f=function(e){return t.resolved=!0,t.rejected=!1,t.pending=!1,r.forEach((function(n){n(e)})),a=function(n,t){n(e)},f=d=function(){},t},d=function(e){return t.resolved=!1,t.rejected=!0,t.pending=!1,o.forEach((function(n){n(e)})),a=function(n,t){t(e)},f=d=function(){},t};this.cancel=function(){return n?n.cancel():d(new s),t},this.timeout=function(e){if(n)n.timeout(e);else{var r=setTimeout((function(){d(new c("Promise timed out after "+e+" ms"))}),e);t.always((function(){clearTimeout(r)}))}return t},e((function(e){f(e)}),(function(e){d(e)}))}function u(e,n,t){return function(r){try{var o=e(r);o&&"function"==typeof o.then&&"function"==typeof o.catch?o.then(n,t):n(o)}catch(e){t(e)}}}function s(e){this.message=e||"promise cancelled",this.stack=(new Error).stack}function c(e){this.message=e||"timeout exceeded",this.stack=(new Error).stack}return i.prototype.catch=function(e){return this.then(null,e)},i.prototype.always=function(e){return this.then(e,e)},i.prototype.finally=function(e){var n=this,t=function(){return new i((function(e){return e()})).then(e).then((function(){return n}))};return this.then(t,t)},i.all=function(e){return new i((function(n,t){var r=e.length,o=[];r?e.forEach((function(e,i){e.then((function(e){o[i]=e,0==--r&&n(o)}),(function(e){r=0,t(e)}))})):n(o)}))},i.defer=function(){var e={};return e.promise=new i((function(n,t){e.resolve=n,e.reject=t})),e},s.prototype=new Error,s.prototype.constructor=Error,s.prototype.name="CancellationError",i.CancellationError=s,c.prototype=new Error,c.prototype.constructor=Error,c.prototype.name="TimeoutError",i.TimeoutError=c,o.Promise=i,function(n){var t=r,i=o.Promise,u="__workerpool-cleanup__",s={exit:function(){}},c={addAbortListener:function(e){s.abortListeners.push(e)},emit:s.emit};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)s.on=function(e,n){addEventListener(e,(function(e){n(e.data)}))},s.send=function(e,n){n?postMessage(e,n):postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");var a;try{a=require("worker_threads")}catch(n){if("object"!==e(n)||null===n||"MODULE_NOT_FOUND"!==n.code)throw n}if(a&&null!==a.parentPort){var f=a.parentPort;s.send=f.postMessage.bind(f),s.on=f.on.bind(f),s.exit=process.exit.bind(process)}else s.on=process.on.bind(process),s.send=function(e){process.send(e)},s.on("disconnect",(function(){process.exit(1)})),s.exit=process.exit.bind(process)}function d(e){return Object.getOwnPropertyNames(e).reduce((function(n,t){return Object.defineProperty(n,t,{value:e[t],enumerable:!0})}),{})}function l(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}s.methods={},s.methods.run=function(e,n){var t=new Function("return ("+e+").apply(this, arguments);");return t.worker=c,t.apply(t,n)},s.methods.methods=function(){return Object.keys(s.methods)},s.terminationHandler=void 0,s.abortListenerTimeout=1e3,s.abortListeners=[],s.terminateAndExit=function(e){var n=function(){s.exit(e)};if(!s.terminationHandler)return n();var t=s.terminationHandler(e);return l(t)?(t.then(n,n),t):(n(),new i((function(e,n){n(new Error("Worker terminating"))})))},s.cleanup=function(e){if(!s.abortListeners.length)return s.send({id:e,method:u,error:d(new Error("Worker terminating"))}),new i((function(e){e()}));var n,t=s.abortListeners.map((function(e){return e()})),r=new i((function(e,t){n=setTimeout((function(){t(new Error("Timeout occured waiting for abort handler, killing worker"))}),s.abortListenerTimeout)})),o=i.all(t).then((function(){clearTimeout(n),s.abortListeners.length||(s.abortListeners=[])}),(function(){clearTimeout(n),s.exit()}));return i.all([o,r]).then((function(){s.send({id:e,method:u,error:null})}),(function(n){s.send({id:e,method:u,error:n?d(n):null})}))};var p=null;s.on("message",(function(e){if("__workerpool-terminate__"===e)return s.terminateAndExit(0);if(e.method===u)return s.cleanup(e.id);try{var n=s.methods[e.method];if(!n)throw new Error('Unknown method "'+e.method+'"');p=e.id;var r=n.apply(n,e.params);l(r)?r.then((function(n){n instanceof t?s.send({id:e.id,result:n.message,error:null},n.transfer):s.send({id:e.id,result:n,error:null}),p=null})).catch((function(n){s.send({id:e.id,result:null,error:d(n)}),p=null})):(r instanceof t?s.send({id:e.id,result:r.message,error:null},r.transfer):s.send({id:e.id,result:r,error:null}),p=null)}catch(n){s.send({id:e.id,result:null,error:d(n)})}})),s.register=function(e,n){if(e)for(var t in e)e.hasOwnProperty(t)&&(s.methods[t]=e[t],s.methods[t].worker=c);n&&(s.terminationHandler=n.onTerminate,s.abortListenerTimeout=n.abortListenerTimeout||1e3),s.send("ready")},s.emit=function(e){if(p){if(e instanceof t)return void s.send({id:p,isEvent:!0,payload:e.message},e.transfer);s.send({id:p,isEvent:!0,payload:e})}},n.add=s.register,n.emit=s.emit}(t),n(t)}));
//# sourceMappingURL=worker.min.js.map
`),D}var j;function G(){if(j)return h.exports;j=1;var u=c(),O=u.Promise,A=f,k=S(),P=k.validateOptions,Z=k.forkOptsNames,E=k.workerThreadOptsNames,X=k.workerOptsNames,tt="__workerpool-terminate__",rt="__workerpool-cleanup__";function vt(){var it=q();if(!it)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return it}function K(){if(typeof Worker!="function"&&((typeof Worker>"u"?"undefined":l(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function q(){try{return Ft}catch(it){if(l(it)==="object"&&it!==null&&it.code==="MODULE_NOT_FOUND")return null;throw it}}function N(){if(A.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var it=new Blob([U()],{type:"text/javascript"});return window.URL.createObjectURL(it)}else return __dirname+"/worker.js"}function V(it,ut){if(ut.workerType==="web")return K(),ot(it,ut.workerOpts,Worker);if(ut.workerType==="thread")return $=vt(),dt(it,$,ut);if(ut.workerType==="process"||!ut.workerType)return wt(it,St(ut),Ft);if(A.platform==="browser")return K(),ot(it,ut.workerOpts,Worker);var $=q();return $?dt(it,$,ut):wt(it,St(ut),Ft)}function ot(it,ut,$){P(ut,X,"workerOpts");var ft=new $(it,ut);return ft.isBrowserWorker=!0,ft.on=function(ct,_t){this.addEventListener(ct,function(gt){_t(gt.data)})},ft.send=function(ct,_t){this.postMessage(ct,_t)},ft}function dt(it,ut,$){var ft,ct;P($==null?void 0:$.workerThreadOpts,E,"workerThreadOpts");var _t=new ut.Worker(it,i({stdout:(ft=$==null?void 0:$.emitStdStreams)!==null&&ft!==void 0?ft:!1,stderr:(ct=$==null?void 0:$.emitStdStreams)!==null&&ct!==void 0?ct:!1},$==null?void 0:$.workerThreadOpts));return _t.isWorkerThread=!0,_t.send=function(gt,pt){this.postMessage(gt,pt)},_t.kill=function(){return this.terminate(),!0},_t.disconnect=function(){this.terminate()},$!=null&&$.emitStdStreams&&(_t.stdout.on("data",function(gt){return _t.emit("stdout",gt)}),_t.stderr.on("data",function(gt){return _t.emit("stderr",gt)})),_t}function wt(it,ut,$){P(ut.forkOpts,Z,"forkOpts");var ft=$.fork(it,ut.forkArgs,ut.forkOpts),ct=ft.send;return ft.send=function(_t){return ct.call(ft,_t)},ut.emitStdStreams&&(ft.stdout.on("data",function(_t){return ft.emit("stdout",_t)}),ft.stderr.on("data",function(_t){return ft.emit("stderr",_t)})),ft.isChildProcess=!0,ft}function St(it){it=it||{};var ut=process.execArgv.join(" "),$=ut.indexOf("--inspect")!==-1,ft=ut.indexOf("--debug-brk")!==-1,ct=[];return $&&(ct.push("--inspect="+it.debugPort),ft&&ct.push("--debug-brk")),process.execArgv.forEach(function(_t){_t.indexOf("--max-old-space-size")>-1&&ct.push(_t)}),Object.assign({},it,{forkArgs:it.forkArgs,forkOpts:Object.assign({},it.forkOpts,{execArgv:(it.forkOpts&&it.forkOpts.execArgv||[]).concat(ct),stdio:it.emitStdStreams?"pipe":void 0})})}function zt(it){for(var ut=new Error(""),$=Object.keys(it),ft=0;ft<$.length;ft++)ut[$[ft]]=it[$[ft]];return ut}function Ct(it,ut){if(Object.keys(it.processing).length===1){var $=Object.values(it.processing)[0];$.options&&typeof $.options.on=="function"&&$.options.on(ut)}}function jt(it,ut){var $=this,ft=ut||{};this.script=it||N(),this.worker=V(this.script,ft),this.debugPort=ft.debugPort,this.forkOpts=ft.forkOpts,this.forkArgs=ft.forkArgs,this.workerOpts=ft.workerOpts,this.workerThreadOpts=ft.workerThreadOpts,this.workerTerminateTimeout=ft.workerTerminateTimeout,it||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("stdout",function(pt){Ct($,{stdout:pt.toString()})}),this.worker.on("stderr",function(pt){Ct($,{stderr:pt.toString()})}),this.worker.on("message",function(pt){if(!$.terminated)if(typeof pt=="string"&&pt==="ready")$.worker.ready=!0,_t();else{var Tt=pt.id,xt=$.processing[Tt];if(xt!==void 0&&(pt.isEvent?xt.options&&typeof xt.options.on=="function"&&xt.options.on(pt.payload):(delete $.processing[Tt],$.terminating===!0&&$.terminate(),pt.error?xt.resolver.reject(zt(pt.error)):xt.resolver.resolve(pt.result))),pt.method===rt){var It=$.tracking[pt.id];It!==void 0&&(pt.error?(clearTimeout(It.timeoutId),It.resolver.reject(zt(pt.error))):($.tracking&&clearTimeout(It.timeoutId),It.resolver.resolve(It.result))),delete $.tracking[Tt]}}});function ct(pt){$.terminated=!0;for(var Tt in $.processing)$.processing[Tt]!==void 0&&$.processing[Tt].resolver.reject(pt);$.processing=Object.create(null)}function _t(){var pt=x($.requestQueue.splice(0)),Tt;try{for(pt.s();!(Tt=pt.n()).done;){var xt=Tt.value;$.worker.send(xt.message,xt.transfer)}}catch(It){pt.e(It)}finally{pt.f()}}var gt=this.worker;this.worker.on("error",ct),this.worker.on("exit",function(pt,Tt){var xt=`Workerpool Worker terminated Unexpectedly
`;xt+="    exitCode: `"+pt+"`\n",xt+="    signalCode: `"+Tt+"`\n",xt+="    workerpool.script: `"+$.script+"`\n",xt+="    spawnArgs: `"+gt.spawnargs+"`\n",xt+="    spawnfile: `"+gt.spawnfile+"`\n",xt+="    stdout: `"+gt.stdout+"`\n",xt+="    stderr: `"+gt.stderr+"`\n",ct(new Error(xt))}),this.processing=Object.create(null),this.tracking=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}return jt.prototype.methods=function(){return this.exec("methods")},jt.prototype.exec=function(it,ut,$,ft){$||($=O.defer());var ct=++this.lastId;this.processing[ct]={id:ct,resolver:$,options:ft};var _t={message:{id:ct,method:it,params:ut},transfer:ft&&ft.transfer};this.terminated?$.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(_t.message,_t.transfer):this.requestQueue.push(_t);var gt=this;return $.promise.catch(function(pt){if(pt instanceof O.CancellationError||pt instanceof O.TimeoutError)return gt.tracking[ct]={id:ct,resolver:O.defer()},delete gt.processing[ct],gt.tracking[ct].resolver.promise=gt.tracking[ct].resolver.promise.catch(function(Tt){delete gt.tracking[ct];var xt=gt.terminateAndNotify(!0).then(function(){throw Tt},function(It){throw It});return xt}),gt.worker.send({id:ct,method:rt}),gt.tracking[ct].timeoutId=setTimeout(function(){gt.tracking[ct].resolver.reject(pt)},gt.workerTerminateTimeout),gt.tracking[ct].resolver.promise;throw pt})},jt.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},jt.prototype.terminate=function(it,ut){var $=this;if(it){for(var ft in this.processing)this.processing[ft]!==void 0&&this.processing[ft].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}for(var ct=0,_t=Object.values($.tracking);ct<_t.length;ct++){var gt=_t[ct];clearTimeout(gt.timeoutId),gt.resolver.reject(new Error("Worker Terminating"))}if($.tracking=Object.create(null),typeof ut=="function"&&(this.terminationHandler=ut),this.busy())this.terminating=!0;else{var pt=function(It){if($.terminated=!0,$.cleaning=!1,$.worker!=null&&$.worker.removeAllListeners&&$.worker.removeAllListeners("message"),$.worker=null,$.terminating=!1,$.terminationHandler)$.terminationHandler(It,$);else if(It)throw It};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){pt(new Error("worker already killed!"));return}var Tt=setTimeout(function(){$.worker&&$.worker.kill()},this.workerTerminateTimeout);this.worker.once("exit",function(){clearTimeout(Tt),$.worker&&($.worker.killed=!0),pt()}),this.worker.ready?this.worker.send(tt):this.requestQueue.push({message:tt}),this.cleaning=!0;return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");pt()}},jt.prototype.terminateAndNotify=function(it,ut){var $=O.defer();return ut&&$.promise.timeout(ut),this.terminate(it,function(ft,ct){ft?$.reject(ft):$.resolve(ct)}),$.promise},h.exports=jt,h.exports._tryRequireWorkerThreads=q,h.exports._setupProcessWorker=wt,h.exports._setupBrowserWorker=ot,h.exports._setupWorkerThreadWorker=dt,h.exports.ensureWorkerThreads=vt,h.exports}var Q,v;function W(){if(v)return Q;v=1;var u=65535;Q=O;function O(){this.ports=Object.create(null),this.length=0}return O.prototype.nextAvailableStartingAt=function(A){for(;this.ports[A]===!0;)A++;if(A>=u)throw new Error("WorkerPool debug port limit reached: "+A+">= "+u);return this.ports[A]=!0,this.length++,A},O.prototype.releasePort=function(A){delete this.ports[A],this.length--},Q}var e,F;function at(){if(F)return e;F=1;var u=c(),O=u.Promise,A=G(),k=f,P=W(),Z=new P;function E(K,q){typeof K=="string"?this.script=K||null:(this.script=null,q=K),this.workers=[],this.tasks=[],q=q||{},this.forkArgs=Object.freeze(q.forkArgs||[]),this.forkOpts=Object.freeze(q.forkOpts||{}),this.workerOpts=Object.freeze(q.workerOpts||{}),this.workerThreadOpts=Object.freeze(q.workerThreadOpts||{}),this.debugPortStart=q.debugPortStart||43210,this.nodeWorker=q.nodeWorker,this.workerType=q.workerType||q.nodeWorker||"auto",this.maxQueueSize=q.maxQueueSize||1/0,this.workerTerminateTimeout=q.workerTerminateTimeout||1e3,this.onCreateWorker=q.onCreateWorker||function(){return null},this.onTerminateWorker=q.onTerminateWorker||function(){return null},this.emitStdStreams=q.emitStdStreams||!1,q&&"maxWorkers"in q?(X(q.maxWorkers),this.maxWorkers=q.maxWorkers):this.maxWorkers=Math.max((k.cpus||4)-1,1),q&&"minWorkers"in q&&(q.minWorkers==="max"?this.minWorkers=this.maxWorkers:(tt(q.minWorkers),this.minWorkers=q.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&A.ensureWorkerThreads()}E.prototype.exec=function(K,q,N){if(q&&!Array.isArray(q))throw new TypeError('Array expected as argument "params"');if(typeof K=="string"){var V=O.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var ot=this.tasks,dt={method:K,params:q,resolver:V,timeout:null,options:N};ot.push(dt);var wt=V.promise.timeout;return V.promise.timeout=function(zt){return ot.indexOf(dt)!==-1?(dt.timeout=zt,V.promise):wt.call(V.promise,zt)},this._next(),V.promise}else{if(typeof K=="function")return this.exec("run",[String(K),q],N);throw new TypeError('Function or string expected as argument "method"')}},E.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var K=this;return this.exec("methods").then(function(q){var N={};return q.forEach(function(V){N[V]=function(){return K.exec(V,Array.prototype.slice.call(arguments))}}),N})},E.prototype._next=function(){if(this.tasks.length>0){var K=this._getWorker();if(K){var q=this,N=this.tasks.shift();if(N.resolver.promise.pending){var V=K.exec(N.method,N.params,N.resolver,N.options).then(q._boundNext).catch(function(){if(K.terminated)return q._removeWorker(K)}).then(function(){q._next()});typeof N.timeout=="number"&&V.timeout(N.timeout)}else q._next()}}},E.prototype._getWorker=function(){for(var K=this.workers,q=0;q<K.length;q++){var N=K[q];if(N.busy()===!1)return N}return K.length<this.maxWorkers?(N=this._createWorkerHandler(),K.push(N),N):null},E.prototype._removeWorker=function(K){var q=this;return Z.releasePort(K.debugPort),this._removeWorkerFromList(K),this._ensureMinWorkers(),new O(function(N,V){K.terminate(!1,function(ot){q.onTerminateWorker({forkArgs:K.forkArgs,forkOpts:K.forkOpts,workerThreadOpts:K.workerThreadOpts,script:K.script}),ot?V(ot):N(K)})})},E.prototype._removeWorkerFromList=function(K){var q=this.workers.indexOf(K);q!==-1&&this.workers.splice(q,1)},E.prototype.terminate=function(K,q){var N=this;this.tasks.forEach(function(St){St.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var V=function(zt){Z.releasePort(zt.debugPort),this._removeWorkerFromList(zt)},ot=V.bind(this),dt=[],wt=this.workers.slice();return wt.forEach(function(St){var zt=St.terminateAndNotify(K,q).then(ot).always(function(){N.onTerminateWorker({forkArgs:St.forkArgs,forkOpts:St.forkOpts,workerThreadOpts:St.workerThreadOpts,script:St.script})});dt.push(zt)}),O.all(dt)},E.prototype.stats=function(){var K=this.workers.length,q=this.workers.filter(function(N){return N.busy()}).length;return{totalWorkers:K,busyWorkers:q,idleWorkers:K-q,pendingTasks:this.tasks.length,activeTasks:q}},E.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var K=this.workers.length;K<this.minWorkers;K++)this.workers.push(this._createWorkerHandler())},E.prototype._createWorkerHandler=function(){var K=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerOpts:this.workerOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new A(K.script||this.script,{forkArgs:K.forkArgs||this.forkArgs,forkOpts:K.forkOpts||this.forkOpts,workerOpts:K.workerOpts||this.workerOpts,workerThreadOpts:K.workerThreadOpts||this.workerThreadOpts,debugPort:Z.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout,emitStdStreams:this.emitStdStreams})};function X(K){if(!rt(K)||!vt(K)||K<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function tt(K){if(!rt(K)||!vt(K)||K<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function rt(K){return typeof K=="number"}function vt(K){return Math.round(K)==K}return e=E,e}var M={},lt,H;function st(){if(H)return lt;H=1;function u(O,A){this.message=O,this.transfer=A}return lt=u,lt}var C;function z(){return C||(C=1,function(u){var O=st(),A=c().Promise,k="__workerpool-terminate__",P="__workerpool-cleanup__",Z=1e3,E={exit:function(){}},X={addAbortListener:function(V){E.abortListeners.push(V)},emit:E.emit};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")E.on=function(N,V){addEventListener(N,function(ot){V(ot.data)})},E.send=function(N,V){V?postMessage(N,V):postMessage(N)};else if(typeof process<"u"){var tt;try{tt=Ft}catch(N){if(!(l(N)==="object"&&N!==null&&N.code==="MODULE_NOT_FOUND"))throw N}if(tt&&tt.parentPort!==null){var rt=tt.parentPort;E.send=rt.postMessage.bind(rt),E.on=rt.on.bind(rt),E.exit=process.exit.bind(process)}else E.on=process.on.bind(process),E.send=function(N){process.send(N)},E.on("disconnect",function(){process.exit(1)}),E.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function vt(N){return Object.getOwnPropertyNames(N).reduce(function(V,ot){return Object.defineProperty(V,ot,{value:N[ot],enumerable:!0})},{})}function K(N){return N&&typeof N.then=="function"&&typeof N.catch=="function"}E.methods={},E.methods.run=function(V,ot){var dt=new Function("return ("+V+").apply(this, arguments);");return dt.worker=X,dt.apply(dt,ot)},E.methods.methods=function(){return Object.keys(E.methods)},E.terminationHandler=void 0,E.abortListenerTimeout=Z,E.abortListeners=[],E.terminateAndExit=function(N){var V=function(){E.exit(N)};if(!E.terminationHandler)return V();var ot=E.terminationHandler(N);return K(ot)?(ot.then(V,V),ot):(V(),new A(function(dt,wt){wt(new Error("Worker terminating"))}))},E.cleanup=function(N){if(!E.abortListeners.length)return E.send({id:N,method:P,error:vt(new Error("Worker terminating"))}),new A(function(Ct){Ct()});var V=function(){E.exit()},ot=function(){E.abortListeners.length||(E.abortListeners=[])},dt=E.abortListeners.map(function(Ct){return Ct()}),wt,St=new A(function(Ct,jt){wt=setTimeout(function(){jt(new Error("Timeout occured waiting for abort handler, killing worker"))},E.abortListenerTimeout)}),zt=A.all(dt).then(function(){clearTimeout(wt),ot()},function(){clearTimeout(wt),V()});return A.all([zt,St]).then(function(){E.send({id:N,method:P,error:null})},function(Ct){E.send({id:N,method:P,error:Ct?vt(Ct):null})})};var q=null;E.on("message",function(N){if(N===k)return E.terminateAndExit(0);if(N.method===P)return E.cleanup(N.id);try{var V=E.methods[N.method];if(V){q=N.id;var ot=V.apply(V,N.params);K(ot)?ot.then(function(dt){dt instanceof O?E.send({id:N.id,result:dt.message,error:null},dt.transfer):E.send({id:N.id,result:dt,error:null}),q=null}).catch(function(dt){E.send({id:N.id,result:null,error:vt(dt)}),q=null}):(ot instanceof O?E.send({id:N.id,result:ot.message,error:null},ot.transfer):E.send({id:N.id,result:ot,error:null}),q=null)}else throw new Error('Unknown method "'+N.method+'"')}catch(dt){E.send({id:N.id,result:null,error:vt(dt)})}}),E.register=function(N,V){if(N)for(var ot in N)N.hasOwnProperty(ot)&&(E.methods[ot]=N[ot],E.methods[ot].worker=X);V&&(E.terminationHandler=V.onTerminate,E.abortListenerTimeout=V.abortListenerTimeout||Z),E.send("ready")},E.emit=function(N){if(q){if(N instanceof O){E.send({id:q,isEvent:!0,payload:N.message},N.transfer);return}E.send({id:q,isEvent:!0,payload:N})}},u.add=E.register,u.emit=E.emit}(M)),M}var nt=f.platform,J=f.isMainThread,Y=f.cpus;function yt(u,O){var A=at();return new A(u,O)}var Ot=B.pool=yt;function ht(u,O){var A=z();A.add(u,O)}var mt=B.worker=ht;function Et(u){var O=z();O.emit(u)}var bt=B.workerEmit=Et,Rt=c(),Pt=Rt.Promise,t=B.Promise=Pt,L=B.Transfer=st(),I=B.platform=nt,d=B.isMainThread=J,o=B.cpus=Y;m.Promise=t,m.Transfer=L,m.cpus=o,m.default=B,m.isMainThread=d,m.platform=I,m.pool=Ot,m.worker=mt,m.workerEmit=bt,Object.defineProperty(m,"__esModule",{value:!0})})}(Ut,Ut.exports)),Ut.exports}var xe=ke();const Ee=""+new URL("../workers/heic-D2eE92H2.js",import.meta.url).href;function qt(et){throw new Error('Could not dynamically require "'+et+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var ee;function Oe(){return ee||(ee=1,function(et,kt){(function(m){et.exports=m()})(function(){return function m(B,b,f){function a(g,x){if(!b[g]){if(!B[g]){var _=typeof qt=="function"&&qt;if(!x&&_)return _(g,!0);if(n)return n(g,!0);var w=new Error("Cannot find module '"+g+"'");throw w.code="MODULE_NOT_FOUND",w}var i=b[g]={exports:{}};B[g][0].call(i.exports,function(p){var r=B[g][1][p];return a(r||p)},i,i.exports,m,B,b,f)}return b[g].exports}for(var n=typeof qt=="function"&&qt,c=0;c<f.length;c++)a(f[c]);return a}({1:[function(m,B,b){var f=m("./utils"),a=m("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(c){for(var g,x,_,w,i,p,r,l=[],s=0,h=c.length,y=h,T=f.getTypeOf(c)!=="string";s<c.length;)y=h-s,_=T?(g=c[s++],x=s<h?c[s++]:0,s<h?c[s++]:0):(g=c.charCodeAt(s++),x=s<h?c.charCodeAt(s++):0,s<h?c.charCodeAt(s++):0),w=g>>2,i=(3&g)<<4|x>>4,p=1<y?(15&x)<<2|_>>6:64,r=2<y?63&_:64,l.push(n.charAt(w)+n.charAt(i)+n.charAt(p)+n.charAt(r));return l.join("")},b.decode=function(c){var g,x,_,w,i,p,r=0,l=0,s="data:";if(c.substr(0,s.length)===s)throw new Error("Invalid base64 input, it looks like a data url.");var h,y=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===n.charAt(64)&&y--,c.charAt(c.length-2)===n.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=a.uint8array?new Uint8Array(0|y):new Array(0|y);r<c.length;)g=n.indexOf(c.charAt(r++))<<2|(w=n.indexOf(c.charAt(r++)))>>4,x=(15&w)<<4|(i=n.indexOf(c.charAt(r++)))>>2,_=(3&i)<<6|(p=n.indexOf(c.charAt(r++))),h[l++]=g,i!==64&&(h[l++]=x),p!==64&&(h[l++]=_);return h}},{"./support":30,"./utils":32}],2:[function(m,B,b){var f=m("./external"),a=m("./stream/DataWorker"),n=m("./stream/Crc32Probe"),c=m("./stream/DataLengthProbe");function g(x,_,w,i,p){this.compressedSize=x,this.uncompressedSize=_,this.crc32=w,this.compression=i,this.compressedContent=p}g.prototype={getContentWorker:function(){var x=new a(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),_=this;return x.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new a(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(x,_,w){return x.pipe(new n).pipe(new c("uncompressedSize")).pipe(_.compressWorker(w)).pipe(new c("compressedSize")).withStreamInfo("compression",_)},B.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,B,b){var f=m("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},b.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,B,b){var f=m("./utils"),a=function(){for(var n,c=[],g=0;g<256;g++){n=g;for(var x=0;x<8;x++)n=1&n?3988292384^n>>>1:n>>>1;c[g]=n}return c}();B.exports=function(n,c){return n!==void 0&&n.length?f.getTypeOf(n)!=="string"?function(g,x,_,w){var i=a,p=w+_;g^=-1;for(var r=w;r<p;r++)g=g>>>8^i[255&(g^x[r])];return-1^g}(0|c,n,n.length,0):function(g,x,_,w){var i=a,p=w+_;g^=-1;for(var r=w;r<p;r++)g=g>>>8^i[255&(g^x.charCodeAt(r))];return-1^g}(0|c,n,n.length,0):0}},{"./utils":32}],5:[function(m,B,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(m,B,b){var f=null;f=typeof Promise<"u"?Promise:m("lie"),B.exports={Promise:f}},{lie:37}],7:[function(m,B,b){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=m("pako"),n=m("./utils"),c=m("./stream/GenericWorker"),g=f?"uint8array":"array";function x(_,w){c.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=w,this.meta={}}b.magic="\b\0",n.inherits(x,c),x.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(g,_.data),!1)},x.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(w){_.push({data:w,meta:_.meta})}},b.compressWorker=function(_){return new x("Deflate",_)},b.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,B,b){function f(i,p){var r,l="";for(r=0;r<p;r++)l+=String.fromCharCode(255&i),i>>>=8;return l}function a(i,p,r,l,s,h){var y,T,S=i.file,D=i.compression,R=h!==g.utf8encode,U=n.transformTo("string",h(S.name)),j=n.transformTo("string",g.utf8encode(S.name)),G=S.comment,Q=n.transformTo("string",h(G)),v=n.transformTo("string",g.utf8encode(G)),W=j.length!==S.name.length,e=v.length!==G.length,F="",at="",M="",lt=S.dir,H=S.date,st={crc32:0,compressedSize:0,uncompressedSize:0};p&&!r||(st.crc32=i.crc32,st.compressedSize=i.compressedSize,st.uncompressedSize=i.uncompressedSize);var C=0;p&&(C|=8),R||!W&&!e||(C|=2048);var z=0,nt=0;lt&&(z|=16),s==="UNIX"?(nt=798,z|=function(Y,yt){var Ot=Y;return Y||(Ot=yt?16893:33204),(65535&Ot)<<16}(S.unixPermissions,lt)):(nt=20,z|=function(Y){return 63&(Y||0)}(S.dosPermissions)),y=H.getUTCHours(),y<<=6,y|=H.getUTCMinutes(),y<<=5,y|=H.getUTCSeconds()/2,T=H.getUTCFullYear()-1980,T<<=4,T|=H.getUTCMonth()+1,T<<=5,T|=H.getUTCDate(),W&&(at=f(1,1)+f(x(U),4)+j,F+="up"+f(at.length,2)+at),e&&(M=f(1,1)+f(x(Q),4)+v,F+="uc"+f(M.length,2)+M);var J="";return J+=`
\0`,J+=f(C,2),J+=D.magic,J+=f(y,2),J+=f(T,2),J+=f(st.crc32,4),J+=f(st.compressedSize,4),J+=f(st.uncompressedSize,4),J+=f(U.length,2),J+=f(F.length,2),{fileRecord:_.LOCAL_FILE_HEADER+J+U+F,dirRecord:_.CENTRAL_FILE_HEADER+f(nt,2)+J+f(Q.length,2)+"\0\0\0\0"+f(z,4)+f(l,4)+U+F+Q}}var n=m("../utils"),c=m("../stream/GenericWorker"),g=m("../utf8"),x=m("../crc32"),_=m("../signature");function w(i,p,r,l){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=r,this.encodeFileName=l,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(w,c),w.prototype.push=function(i){var p=i.meta.percent||0,r=this.entriesCount,l=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,c.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:r?(p+100*(r-l-1))/r:100}}))},w.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var p=this.streamFiles&&!i.file.dir;if(p){var r=a(i,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(i){this.accumulate=!1;var p=this.streamFiles&&!i.file.dir,r=a(i,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),p)this.push({data:function(l){return _.DATA_DESCRIPTOR+f(l.crc32,4)+f(l.compressedSize,4)+f(l.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var i=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var r=this.bytesWritten-i,l=function(s,h,y,T,S){var D=n.transformTo("string",S(T));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(s,2)+f(s,2)+f(h,4)+f(y,4)+f(D.length,2)+D}(this.dirRecords.length,r,i,this.zipComment,this.encodeFileName);this.push({data:l,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(i){this._sources.push(i);var p=this;return i.on("data",function(r){p.processChunk(r)}),i.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),i.on("error",function(r){p.error(r)}),this},w.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(i){var p=this._sources;if(!c.prototype.error.call(this,i))return!1;for(var r=0;r<p.length;r++)try{p[r].error(i)}catch{}return!0},w.prototype.lock=function(){c.prototype.lock.call(this);for(var i=this._sources,p=0;p<i.length;p++)i[p].lock()},B.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,B,b){var f=m("../compressions"),a=m("./ZipFileWorker");b.generateWorker=function(n,c,g){var x=new a(c.streamFiles,g,c.platform,c.encodeFileName),_=0;try{n.forEach(function(w,i){_++;var p=function(h,y){var T=h||y,S=f[T];if(!S)throw new Error(T+" is not a valid compression method !");return S}(i.options.compression,c.compression),r=i.options.compressionOptions||c.compressionOptions||{},l=i.dir,s=i.date;i._compressWorker(p,r).withStreamInfo("file",{name:w,dir:l,date:s,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(x)}),x.entriesCount=_}catch(w){x.error(w)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,B,b){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new f;for(var n in this)typeof this[n]!="function"&&(a[n]=this[n]);return a}}(f.prototype=m("./object")).loadAsync=m("./load"),f.support=m("./support"),f.defaults=m("./defaults"),f.version="3.10.1",f.loadAsync=function(a,n){return new f().loadAsync(a,n)},f.external=m("./external"),B.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,B,b){var f=m("./utils"),a=m("./external"),n=m("./utf8"),c=m("./zipEntries"),g=m("./stream/Crc32Probe"),x=m("./nodejsUtils");function _(w){return new a.Promise(function(i,p){var r=w.decompressed.getContentWorker().pipe(new g);r.on("error",function(l){p(l)}).on("end",function(){r.streamInfo.crc32!==w.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}B.exports=function(w,i){var p=this;return i=f.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),x.isNode&&x.isStream(w)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",w,!0,i.optimizedBinaryString,i.base64).then(function(r){var l=new c(i);return l.load(r),l}).then(function(r){var l=[a.Promise.resolve(r)],s=r.files;if(i.checkCRC32)for(var h=0;h<s.length;h++)l.push(_(s[h]));return a.Promise.all(l)}).then(function(r){for(var l=r.shift(),s=l.files,h=0;h<s.length;h++){var y=s[h],T=y.fileNameStr,S=f.resolve(y.fileNameStr);p.file(S,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:i.createFolders}),y.dir||(p.file(S).unsafeOriginalName=T)}return l.zipComment.length&&(p.comment=l.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,B,b){var f=m("../utils"),a=m("../stream/GenericWorker");function n(c,g){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(g)}f.inherits(n,a),n.prototype._bindStream=function(c){var g=this;(this._stream=c).pause(),c.on("data",function(x){g.push({data:x,meta:{percent:0}})}).on("error",function(x){g.isPaused?this.generatedError=x:g.error(x)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},n.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},B.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,B,b){var f=m("readable-stream").Readable;function a(n,c,g){f.call(this,c),this._helper=n;var x=this;n.on("data",function(_,w){x.push(_)||x._helper.pause(),g&&g(w)}).on("error",function(_){x.emit("error",_)}).on("end",function(){x.push(null)})}m("../utils").inherits(a,f),a.prototype._read=function(){this._helper.resume()},B.exports=a},{"../utils":32,"readable-stream":16}],14:[function(m,B,b){B.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,a);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,a)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var a=new Buffer(f);return a.fill(0),a},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(m,B,b){function f(S,D,R){var U,j=n.getTypeOf(D),G=n.extend(R||{},x);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(S=s(S)),G.createFolders&&(U=l(S))&&h.call(this,U,!0);var Q=j==="string"&&G.binary===!1&&G.base64===!1;R&&R.binary!==void 0||(G.binary=!Q),(D instanceof _&&D.uncompressedSize===0||G.dir||!D||D.length===0)&&(G.base64=!1,G.binary=!0,D="",G.compression="STORE",j="string");var v=null;v=D instanceof _||D instanceof c?D:p.isNode&&p.isStream(D)?new r(S,D):n.prepareContent(S,D,G.binary,G.optimizedBinaryString,G.base64);var W=new w(S,v,G);this.files[S]=W}var a=m("./utf8"),n=m("./utils"),c=m("./stream/GenericWorker"),g=m("./stream/StreamHelper"),x=m("./defaults"),_=m("./compressedObject"),w=m("./zipObject"),i=m("./generate"),p=m("./nodejsUtils"),r=m("./nodejs/NodejsStreamInputAdapter"),l=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var D=S.lastIndexOf("/");return 0<D?S.substring(0,D):""},s=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},h=function(S,D){return D=D!==void 0?D:x.createFolders,S=s(S),this.files[S]||f.call(this,S,null,{dir:!0,createFolders:D}),this.files[S]};function y(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var D,R,U;for(D in this.files)U=this.files[D],(R=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&S(R,U)},filter:function(S){var D=[];return this.forEach(function(R,U){S(R,U)&&D.push(U)}),D},file:function(S,D,R){if(arguments.length!==1)return S=this.root+S,f.call(this,S,D,R),this;if(y(S)){var U=S;return this.filter(function(G,Q){return!Q.dir&&U.test(G)})}var j=this.files[this.root+S];return j&&!j.dir?j:null},folder:function(S){if(!S)return this;if(y(S))return this.filter(function(j,G){return G.dir&&S.test(j)});var D=this.root+S,R=h.call(this,D),U=this.clone();return U.root=R.name,U},remove:function(S){S=this.root+S;var D=this.files[S];if(D||(S.slice(-1)!=="/"&&(S+="/"),D=this.files[S]),D&&!D.dir)delete this.files[S];else for(var R=this.filter(function(j,G){return G.name.slice(0,S.length)===S}),U=0;U<R.length;U++)delete this.files[R[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var D,R={};try{if((R=n.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");n.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var U=R.comment||this.comment||"";D=i.generateWorker(this,R,U)}catch(j){(D=new c("error")).error(j)}return new g(D,R.type||"string",R.mimeType)},generateAsync:function(S,D){return this.generateInternalStream(S).accumulate(D)},generateNodeStream:function(S,D){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(D)}};B.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,B,b){B.exports=m("stream")},{stream:void 0}],17:[function(m,B,b){var f=m("./DataReader");function a(n){f.call(this,n);for(var c=0;c<this.data.length;c++)n[c]=255&n[c]}m("../utils").inherits(a,f),a.prototype.byteAt=function(n){return this.data[this.zero+n]},a.prototype.lastIndexOfSignature=function(n){for(var c=n.charCodeAt(0),g=n.charCodeAt(1),x=n.charCodeAt(2),_=n.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===c&&this.data[w+1]===g&&this.data[w+2]===x&&this.data[w+3]===_)return w-this.zero;return-1},a.prototype.readAndCheckSignature=function(n){var c=n.charCodeAt(0),g=n.charCodeAt(1),x=n.charCodeAt(2),_=n.charCodeAt(3),w=this.readData(4);return c===w[0]&&g===w[1]&&x===w[2]&&_===w[3]},a.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},B.exports=a},{"../utils":32,"./DataReader":18}],18:[function(m,B,b){var f=m("../utils");function a(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var c,g=0;for(this.checkOffset(n),c=this.index+n-1;c>=this.index;c--)g=(g<<8)+this.byteAt(c);return this.index+=n,g},readString:function(n){return f.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},B.exports=a},{"../utils":32}],19:[function(m,B,b){var f=m("./Uint8ArrayReader");function a(n){f.call(this,n)}m("../utils").inherits(a,f),a.prototype.readData=function(n){this.checkOffset(n);var c=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},B.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,B,b){var f=m("./DataReader");function a(n){f.call(this,n)}m("../utils").inherits(a,f),a.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},a.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},a.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},a.prototype.readData=function(n){this.checkOffset(n);var c=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},B.exports=a},{"../utils":32,"./DataReader":18}],21:[function(m,B,b){var f=m("./ArrayReader");function a(n){f.call(this,n)}m("../utils").inherits(a,f),a.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},B.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(m,B,b){var f=m("../utils"),a=m("../support"),n=m("./ArrayReader"),c=m("./StringReader"),g=m("./NodeBufferReader"),x=m("./Uint8ArrayReader");B.exports=function(_){var w=f.getTypeOf(_);return f.checkSupport(w),w!=="string"||a.uint8array?w==="nodebuffer"?new g(_):a.uint8array?new x(f.transformTo("uint8array",_)):new n(f.transformTo("array",_)):new c(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,B,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,B,b){var f=m("./GenericWorker"),a=m("../utils");function n(c){f.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(n,f),n.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},B.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(m,B,b){var f=m("./GenericWorker"),a=m("../crc32");function n(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(n,f),n.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},B.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,B,b){var f=m("../utils"),a=m("./GenericWorker");function n(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}f.inherits(n,a),n.prototype.processChunk=function(c){if(c){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+c.data.length}a.prototype.processChunk.call(this,c)},B.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(m,B,b){var f=m("../utils"),a=m("./GenericWorker");function n(c){a.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(x){g.dataIsReady=!0,g.data=x,g.max=x&&x.length||0,g.type=f.getTypeOf(x),g.isPaused||g._tickAndRepeat()},function(x){g.error(x)})}f.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,g);break;case"uint8array":c=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":c=this.data.slice(this.index,g)}return this.index=g,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},B.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(m,B,b){function f(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,n){return this._listeners[a].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,n){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,n)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var n=this;return a.on("data",function(c){n.processChunk(c)}),a.on("end",function(){n.end()}),a.on("error",function(c){n.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,n){return this.extraStreamInfo[a]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},B.exports=f},{}],29:[function(m,B,b){var f=m("../utils"),a=m("./ConvertWorker"),n=m("./GenericWorker"),c=m("../base64"),g=m("../support"),x=m("../external"),_=null;if(g.nodestream)try{_=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(p,r){return new x.Promise(function(l,s){var h=[],y=p._internalType,T=p._outputType,S=p._mimeType;p.on("data",function(D,R){h.push(D),r&&r(R)}).on("error",function(D){h=[],s(D)}).on("end",function(){try{var D=function(R,U,j){switch(R){case"blob":return f.newBlob(f.transformTo("arraybuffer",U),j);case"base64":return c.encode(U);default:return f.transformTo(R,U)}}(T,function(R,U){var j,G=0,Q=null,v=0;for(j=0;j<U.length;j++)v+=U[j].length;switch(R){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(Q=new Uint8Array(v),j=0;j<U.length;j++)Q.set(U[j],G),G+=U[j].length;return Q;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+R+"'")}}(y,h),S);l(D)}catch(R){s(R)}h=[]}).resume()})}function i(p,r,l){var s=r;switch(r){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=r,this._mimeType=l,f.checkSupport(s),this._worker=p.pipe(new a(s)),p.lock()}catch(h){this._worker=new n("error"),this._worker.error(h)}}i.prototype={accumulate:function(p){return w(this,p)},on:function(p,r){var l=this;return p==="data"?this._worker.on(p,function(s){r.call(l,s.data,s.meta)}):this._worker.on(p,function(){f.delay(r,arguments,l)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},p)}},B.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,B,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=typeof Buffer<"u",b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var f=new ArrayBuffer(0);try{b.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(f),b.blob=a.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!m("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(m,B,b){for(var f=m("./utils"),a=m("./support"),n=m("./nodejsUtils"),c=m("./stream/GenericWorker"),g=new Array(256),x=0;x<256;x++)g[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;g[254]=g[254]=1;function _(){c.call(this,"utf-8 decode"),this.leftOver=null}function w(){c.call(this,"utf-8 encode")}b.utf8encode=function(i){return a.nodebuffer?n.newBufferFrom(i,"utf-8"):function(p){var r,l,s,h,y,T=p.length,S=0;for(h=0;h<T;h++)(64512&(l=p.charCodeAt(h)))==55296&&h+1<T&&(64512&(s=p.charCodeAt(h+1)))==56320&&(l=65536+(l-55296<<10)+(s-56320),h++),S+=l<128?1:l<2048?2:l<65536?3:4;for(r=a.uint8array?new Uint8Array(S):new Array(S),h=y=0;y<S;h++)(64512&(l=p.charCodeAt(h)))==55296&&h+1<T&&(64512&(s=p.charCodeAt(h+1)))==56320&&(l=65536+(l-55296<<10)+(s-56320),h++),l<128?r[y++]=l:(l<2048?r[y++]=192|l>>>6:(l<65536?r[y++]=224|l>>>12:(r[y++]=240|l>>>18,r[y++]=128|l>>>12&63),r[y++]=128|l>>>6&63),r[y++]=128|63&l);return r}(i)},b.utf8decode=function(i){return a.nodebuffer?f.transformTo("nodebuffer",i).toString("utf-8"):function(p){var r,l,s,h,y=p.length,T=new Array(2*y);for(r=l=0;r<y;)if((s=p[r++])<128)T[l++]=s;else if(4<(h=g[s]))T[l++]=65533,r+=h-1;else{for(s&=h===2?31:h===3?15:7;1<h&&r<y;)s=s<<6|63&p[r++],h--;1<h?T[l++]=65533:s<65536?T[l++]=s:(s-=65536,T[l++]=55296|s>>10&1023,T[l++]=56320|1023&s)}return T.length!==l&&(T.subarray?T=T.subarray(0,l):T.length=l),f.applyFromCharCode(T)}(i=f.transformTo(a.uint8array?"uint8array":"array",i))},f.inherits(_,c),_.prototype.processChunk=function(i){var p=f.transformTo(a.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var r=p;(p=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),p.set(r,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var l=function(h,y){var T;for((y=y||h.length)>h.length&&(y=h.length),T=y-1;0<=T&&(192&h[T])==128;)T--;return T<0||T===0?y:T+g[h[T]]>y?T:y}(p),s=p;l!==p.length&&(a.uint8array?(s=p.subarray(0,l),this.leftOver=p.subarray(l,p.length)):(s=p.slice(0,l),this.leftOver=p.slice(l,p.length))),this.push({data:b.utf8decode(s),meta:i.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=_,f.inherits(w,c),w.prototype.processChunk=function(i){this.push({data:b.utf8encode(i.data),meta:i.meta})},b.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,B,b){var f=m("./support"),a=m("./base64"),n=m("./nodejsUtils"),c=m("./external");function g(r){return r}function x(r,l){for(var s=0;s<r.length;++s)l[s]=255&r.charCodeAt(s);return l}m("setimmediate"),b.newBlob=function(r,l){b.checkSupport("blob");try{return new Blob([r],{type:l})}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(r),s.getBlob(l)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(r,l,s){var h=[],y=0,T=r.length;if(T<=s)return String.fromCharCode.apply(null,r);for(;y<T;)l==="array"||l==="nodebuffer"?h.push(String.fromCharCode.apply(null,r.slice(y,Math.min(y+s,T)))):h.push(String.fromCharCode.apply(null,r.subarray(y,Math.min(y+s,T)))),y+=s;return h.join("")},stringifyByChar:function(r){for(var l="",s=0;s<r.length;s++)l+=String.fromCharCode(r[s]);return l},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}}()}};function w(r){var l=65536,s=b.getTypeOf(r),h=!0;if(s==="uint8array"?h=_.applyCanBeUsed.uint8array:s==="nodebuffer"&&(h=_.applyCanBeUsed.nodebuffer),h)for(;1<l;)try{return _.stringifyByChunk(r,s,l)}catch{l=Math.floor(l/2)}return _.stringifyByChar(r)}function i(r,l){for(var s=0;s<r.length;s++)l[s]=r[s];return l}b.applyFromCharCode=w;var p={};p.string={string:g,array:function(r){return x(r,new Array(r.length))},arraybuffer:function(r){return p.string.uint8array(r).buffer},uint8array:function(r){return x(r,new Uint8Array(r.length))},nodebuffer:function(r){return x(r,n.allocBuffer(r.length))}},p.array={string:w,array:g,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return n.newBufferFrom(r)}},p.arraybuffer={string:function(r){return w(new Uint8Array(r))},array:function(r){return i(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:g,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return n.newBufferFrom(new Uint8Array(r))}},p.uint8array={string:w,array:function(r){return i(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:g,nodebuffer:function(r){return n.newBufferFrom(r)}},p.nodebuffer={string:w,array:function(r){return i(r,new Array(r.length))},arraybuffer:function(r){return p.nodebuffer.uint8array(r).buffer},uint8array:function(r){return i(r,new Uint8Array(r.length))},nodebuffer:g},b.transformTo=function(r,l){if(l=l||"",!r)return l;b.checkSupport(r);var s=b.getTypeOf(l);return p[s][r](l)},b.resolve=function(r){for(var l=r.split("/"),s=[],h=0;h<l.length;h++){var y=l[h];y==="."||y===""&&h!==0&&h!==l.length-1||(y===".."?s.pop():s.push(y))}return s.join("/")},b.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":f.nodebuffer&&n.isBuffer(r)?"nodebuffer":f.uint8array&&r instanceof Uint8Array?"uint8array":f.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(r){if(!f[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(r){var l,s,h="";for(s=0;s<(r||"").length;s++)h+="\\x"+((l=r.charCodeAt(s))<16?"0":"")+l.toString(16).toUpperCase();return h},b.delay=function(r,l,s){setImmediate(function(){r.apply(s||null,l||[])})},b.inherits=function(r,l){function s(){}s.prototype=l.prototype,r.prototype=new s},b.extend=function(){var r,l,s={};for(r=0;r<arguments.length;r++)for(l in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],l)&&s[l]===void 0&&(s[l]=arguments[r][l]);return s},b.prepareContent=function(r,l,s,h,y){return c.Promise.resolve(l).then(function(T){return f.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(S,D){var R=new FileReader;R.onload=function(U){S(U.target.result)},R.onerror=function(U){D(U.target.error)},R.readAsArrayBuffer(T)}):T}).then(function(T){var S=b.getTypeOf(T);return S?(S==="arraybuffer"?T=b.transformTo("uint8array",T):S==="string"&&(y?T=a.decode(T):s&&h!==!0&&(T=function(D){return x(D,f.uint8array?new Uint8Array(D.length):new Array(D.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,B,b){var f=m("./reader/readerFor"),a=m("./utils"),n=m("./signature"),c=m("./zipEntry"),g=m("./support");function x(_){this.files=[],this.loadOptions=_}x.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(w)+", expected "+a.pretty(_)+")")}},isSignature:function(_,w){var i=this.reader.index;this.reader.setIndex(_);var p=this.reader.readString(4)===w;return this.reader.setIndex(i),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),w=g.uint8array?"uint8array":"array",i=a.transformTo(w,_);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,w,i,p=this.zip64EndOfCentralSize-44;0<p;)_=this.reader.readInt(2),w=this.reader.readInt(4),i=this.reader.readData(w),this.zip64ExtensibleData[_]={id:_,length:w,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,w;for(_=0;_<this.files.length;_++)w=this.files[_],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(_=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var w=_;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var p=w-i;if(0<p)this.isSignature(w,n.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(_){this.reader=f(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},B.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,B,b){var f=m("./reader/readerFor"),a=m("./utils"),n=m("./compressedObject"),c=m("./crc32"),g=m("./utf8"),x=m("./compressions"),_=m("./support");function w(i,p){this.options=i,this.loadOptions=p}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var p,r;if(i.skip(22),this.fileNameLength=i.readInt(2),r=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(l){for(var s in x)if(Object.prototype.hasOwnProperty.call(x,s)&&x[s].magic===l)return x[s];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,p,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var p=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(p),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=f(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var p,r,l,s=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<s;)p=i.readInt(2),r=i.readInt(2),l=i.readData(r),this.extraFields[p]={id:p,length:r,value:l};i.setIndex(s)},handleUTF8:function(){var i=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var r=a.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var l=this.findExtraFieldUnicodeComment();if(l!==null)this.fileCommentStr=l;else{var s=a.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var p=f(i.value);return p.readInt(1)!==1||c(this.fileName)!==p.readInt(4)?null:g.utf8decode(p.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var p=f(i.value);return p.readInt(1)!==1||c(this.fileComment)!==p.readInt(4)?null:g.utf8decode(p.readData(i.length-5))}return null}},B.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,B,b){function f(p,r,l){this.name=p,this.dir=l.dir,this.date=l.date,this.comment=l.comment,this.unixPermissions=l.unixPermissions,this.dosPermissions=l.dosPermissions,this._data=r,this._dataBinary=l.binary,this.options={compression:l.compression,compressionOptions:l.compressionOptions}}var a=m("./stream/StreamHelper"),n=m("./stream/DataWorker"),c=m("./utf8"),g=m("./compressedObject"),x=m("./stream/GenericWorker");f.prototype={internalStream:function(p){var r=null,l="string";try{if(!p)throw new Error("No output type specified.");var s=(l=p.toLowerCase())==="string"||l==="text";l!=="binarystring"&&l!=="text"||(l="string"),r=this._decompressWorker();var h=!this._dataBinary;h&&!s&&(r=r.pipe(new c.Utf8EncodeWorker)),!h&&s&&(r=r.pipe(new c.Utf8DecodeWorker))}catch(y){(r=new x("error")).error(y)}return new a(r,l,"")},async:function(p,r){return this.internalStream(p).accumulate(r)},nodeStream:function(p,r){return this.internalStream(p||"nodebuffer").toNodejsStream(r)},_compressWorker:function(p,r){if(this._data instanceof g&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var l=this._decompressWorker();return this._dataBinary||(l=l.pipe(new c.Utf8EncodeWorker)),g.createWorkerFrom(l,p,r)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof x?this._data:new n(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<_.length;i++)f.prototype[_[i]]=w;B.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,B,b){(function(f){var a,n,c=f.MutationObserver||f.WebKitMutationObserver;if(c){var g=0,x=new c(p),_=f.document.createTextNode("");x.observe(_,{characterData:!0}),a=function(){_.data=g=++g%2}}else if(f.setImmediate||f.MessageChannel===void 0)a="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var r=f.document.createElement("script");r.onreadystatechange=function(){p(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},f.document.documentElement.appendChild(r)}:function(){setTimeout(p,0)};else{var w=new f.MessageChannel;w.port1.onmessage=p,a=function(){w.port2.postMessage(0)}}var i=[];function p(){var r,l;n=!0;for(var s=i.length;s;){for(l=i,i=[],r=-1;++r<s;)l[r]();s=i.length}n=!1}B.exports=function(r){i.push(r)!==1||n||a()}}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(m,B,b){var f=m("immediate");function a(){}var n={},c=["REJECTED"],g=["FULFILLED"],x=["PENDING"];function _(s){if(typeof s!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,s!==a&&r(this,s)}function w(s,h,y){this.promise=s,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function i(s,h,y){f(function(){var T;try{T=h(y)}catch(S){return n.reject(s,S)}T===s?n.reject(s,new TypeError("Cannot resolve promise with itself")):n.resolve(s,T)})}function p(s){var h=s&&s.then;if(s&&(typeof s=="object"||typeof s=="function")&&typeof h=="function")return function(){h.apply(s,arguments)}}function r(s,h){var y=!1;function T(R){y||(y=!0,n.reject(s,R))}function S(R){y||(y=!0,n.resolve(s,R))}var D=l(function(){h(S,T)});D.status==="error"&&T(D.value)}function l(s,h){var y={};try{y.value=s(h),y.status="success"}catch(T){y.status="error",y.value=T}return y}(B.exports=_).prototype.finally=function(s){if(typeof s!="function")return this;var h=this.constructor;return this.then(function(y){return h.resolve(s()).then(function(){return y})},function(y){return h.resolve(s()).then(function(){throw y})})},_.prototype.catch=function(s){return this.then(null,s)},_.prototype.then=function(s,h){if(typeof s!="function"&&this.state===g||typeof h!="function"&&this.state===c)return this;var y=new this.constructor(a);return this.state!==x?i(y,this.state===g?s:h,this.outcome):this.queue.push(new w(y,s,h)),y},w.prototype.callFulfilled=function(s){n.resolve(this.promise,s)},w.prototype.otherCallFulfilled=function(s){i(this.promise,this.onFulfilled,s)},w.prototype.callRejected=function(s){n.reject(this.promise,s)},w.prototype.otherCallRejected=function(s){i(this.promise,this.onRejected,s)},n.resolve=function(s,h){var y=l(p,h);if(y.status==="error")return n.reject(s,y.value);var T=y.value;if(T)r(s,T);else{s.state=g,s.outcome=h;for(var S=-1,D=s.queue.length;++S<D;)s.queue[S].callFulfilled(h)}return s},n.reject=function(s,h){s.state=c,s.outcome=h;for(var y=-1,T=s.queue.length;++y<T;)s.queue[y].callRejected(h);return s},_.resolve=function(s){return s instanceof this?s:n.resolve(new this(a),s)},_.reject=function(s){var h=new this(a);return n.reject(h,s)},_.all=function(s){var h=this;if(Object.prototype.toString.call(s)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=s.length,T=!1;if(!y)return this.resolve([]);for(var S=new Array(y),D=0,R=-1,U=new this(a);++R<y;)j(s[R],R);return U;function j(G,Q){h.resolve(G).then(function(v){S[Q]=v,++D!==y||T||(T=!0,n.resolve(U,S))},function(v){T||(T=!0,n.reject(U,v))})}},_.race=function(s){var h=this;if(Object.prototype.toString.call(s)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=s.length,T=!1;if(!y)return this.resolve([]);for(var S=-1,D=new this(a);++S<y;)R=s[S],h.resolve(R).then(function(U){T||(T=!0,n.resolve(D,U))},function(U){T||(T=!0,n.reject(D,U))});var R;return D}},{immediate:36}],38:[function(m,B,b){var f={};(0,m("./lib/utils/common").assign)(f,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),B.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,B,b){var f=m("./zlib/deflate"),a=m("./utils/common"),n=m("./utils/strings"),c=m("./zlib/messages"),g=m("./zlib/zstream"),x=Object.prototype.toString,_=0,w=-1,i=0,p=8;function r(s){if(!(this instanceof r))return new r(s);this.options=a.assign({level:w,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},s||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var y=f.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(y!==_)throw new Error(c[y]);if(h.header&&f.deflateSetHeader(this.strm,h.header),h.dictionary){var T;if(T=typeof h.dictionary=="string"?n.string2buf(h.dictionary):x.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(y=f.deflateSetDictionary(this.strm,T))!==_)throw new Error(c[y]);this._dict_set=!0}}function l(s,h){var y=new r(h);if(y.push(s,!0),y.err)throw y.msg||c[y.err];return y.result}r.prototype.push=function(s,h){var y,T,S=this.strm,D=this.options.chunkSize;if(this.ended)return!1;T=h===~~h?h:h===!0?4:0,typeof s=="string"?S.input=n.string2buf(s):x.call(s)==="[object ArrayBuffer]"?S.input=new Uint8Array(s):S.input=s,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(D),S.next_out=0,S.avail_out=D),(y=f.deflate(S,T))!==1&&y!==_)return this.onEnd(y),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&y!==1);return T===4?(y=f.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===_):T!==2||(this.onEnd(_),!(S.avail_out=0))},r.prototype.onData=function(s){this.chunks.push(s)},r.prototype.onEnd=function(s){s===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},b.Deflate=r,b.deflate=l,b.deflateRaw=function(s,h){return(h=h||{}).raw=!0,l(s,h)},b.gzip=function(s,h){return(h=h||{}).gzip=!0,l(s,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,B,b){var f=m("./zlib/inflate"),a=m("./utils/common"),n=m("./utils/strings"),c=m("./zlib/constants"),g=m("./zlib/messages"),x=m("./zlib/zstream"),_=m("./zlib/gzheader"),w=Object.prototype.toString;function i(r){if(!(this instanceof i))return new i(r);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},r||{});var l=this.options;l.raw&&0<=l.windowBits&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(0<=l.windowBits&&l.windowBits<16)||r&&r.windowBits||(l.windowBits+=32),15<l.windowBits&&l.windowBits<48&&(15&l.windowBits)==0&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var s=f.inflateInit2(this.strm,l.windowBits);if(s!==c.Z_OK)throw new Error(g[s]);this.header=new _,f.inflateGetHeader(this.strm,this.header)}function p(r,l){var s=new i(l);if(s.push(r,!0),s.err)throw s.msg||g[s.err];return s.result}i.prototype.push=function(r,l){var s,h,y,T,S,D,R=this.strm,U=this.options.chunkSize,j=this.options.dictionary,G=!1;if(this.ended)return!1;h=l===~~l?l:l===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof r=="string"?R.input=n.binstring2buf(r):w.call(r)==="[object ArrayBuffer]"?R.input=new Uint8Array(r):R.input=r,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(U),R.next_out=0,R.avail_out=U),(s=f.inflate(R,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&j&&(D=typeof j=="string"?n.string2buf(j):w.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,s=f.inflateSetDictionary(this.strm,D)),s===c.Z_BUF_ERROR&&G===!0&&(s=c.Z_OK,G=!1),s!==c.Z_STREAM_END&&s!==c.Z_OK)return this.onEnd(s),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&s!==c.Z_STREAM_END&&(R.avail_in!==0||h!==c.Z_FINISH&&h!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=n.utf8border(R.output,R.next_out),T=R.next_out-y,S=n.buf2string(R.output,y),R.next_out=T,R.avail_out=U-T,T&&a.arraySet(R.output,R.output,y,T,0),this.onData(S)):this.onData(a.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(G=!0)}while((0<R.avail_in||R.avail_out===0)&&s!==c.Z_STREAM_END);return s===c.Z_STREAM_END&&(h=c.Z_FINISH),h===c.Z_FINISH?(s=f.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===c.Z_OK):h!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(R.avail_out=0))},i.prototype.onData=function(r){this.chunks.push(r)},i.prototype.onEnd=function(r){r===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},b.Inflate=i,b.inflate=p,b.inflateRaw=function(r,l){return(l=l||{}).raw=!0,p(r,l)},b.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,B,b){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(c){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var x=g.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var _ in x)x.hasOwnProperty(_)&&(c[_]=x[_])}}return c},b.shrinkBuf=function(c,g){return c.length===g?c:c.subarray?c.subarray(0,g):(c.length=g,c)};var a={arraySet:function(c,g,x,_,w){if(g.subarray&&c.subarray)c.set(g.subarray(x,x+_),w);else for(var i=0;i<_;i++)c[w+i]=g[x+i]},flattenChunks:function(c){var g,x,_,w,i,p;for(g=_=0,x=c.length;g<x;g++)_+=c[g].length;for(p=new Uint8Array(_),g=w=0,x=c.length;g<x;g++)i=c[g],p.set(i,w),w+=i.length;return p}},n={arraySet:function(c,g,x,_,w){for(var i=0;i<_;i++)c[w+i]=g[x+i]},flattenChunks:function(c){return[].concat.apply([],c)}};b.setTyped=function(c){c?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,a)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,n))},b.setTyped(f)},{}],42:[function(m,B,b){var f=m("./common"),a=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var c=new f.Buf8(256),g=0;g<256;g++)c[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function x(_,w){if(w<65537&&(_.subarray&&n||!_.subarray&&a))return String.fromCharCode.apply(null,f.shrinkBuf(_,w));for(var i="",p=0;p<w;p++)i+=String.fromCharCode(_[p]);return i}c[254]=c[254]=1,b.string2buf=function(_){var w,i,p,r,l,s=_.length,h=0;for(r=0;r<s;r++)(64512&(i=_.charCodeAt(r)))==55296&&r+1<s&&(64512&(p=_.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(w=new f.Buf8(h),r=l=0;l<h;r++)(64512&(i=_.charCodeAt(r)))==55296&&r+1<s&&(64512&(p=_.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),r++),i<128?w[l++]=i:(i<2048?w[l++]=192|i>>>6:(i<65536?w[l++]=224|i>>>12:(w[l++]=240|i>>>18,w[l++]=128|i>>>12&63),w[l++]=128|i>>>6&63),w[l++]=128|63&i);return w},b.buf2binstring=function(_){return x(_,_.length)},b.binstring2buf=function(_){for(var w=new f.Buf8(_.length),i=0,p=w.length;i<p;i++)w[i]=_.charCodeAt(i);return w},b.buf2string=function(_,w){var i,p,r,l,s=w||_.length,h=new Array(2*s);for(i=p=0;i<s;)if((r=_[i++])<128)h[p++]=r;else if(4<(l=c[r]))h[p++]=65533,i+=l-1;else{for(r&=l===2?31:l===3?15:7;1<l&&i<s;)r=r<<6|63&_[i++],l--;1<l?h[p++]=65533:r<65536?h[p++]=r:(r-=65536,h[p++]=55296|r>>10&1023,h[p++]=56320|1023&r)}return x(h,p)},b.utf8border=function(_,w){var i;for((w=w||_.length)>_.length&&(w=_.length),i=w-1;0<=i&&(192&_[i])==128;)i--;return i<0||i===0?w:i+c[_[i]]>w?i:w}},{"./common":41}],43:[function(m,B,b){B.exports=function(f,a,n,c){for(var g=65535&f|0,x=f>>>16&65535|0,_=0;n!==0;){for(n-=_=2e3<n?2e3:n;x=x+(g=g+a[c++]|0)|0,--_;);g%=65521,x%=65521}return g|x<<16|0}},{}],44:[function(m,B,b){B.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,B,b){var f=function(){for(var a,n=[],c=0;c<256;c++){a=c;for(var g=0;g<8;g++)a=1&a?3988292384^a>>>1:a>>>1;n[c]=a}return n}();B.exports=function(a,n,c,g){var x=f,_=g+c;a^=-1;for(var w=g;w<_;w++)a=a>>>8^x[255&(a^n[w])];return-1^a}},{}],46:[function(m,B,b){var f,a=m("../utils/common"),n=m("./trees"),c=m("./adler32"),g=m("./crc32"),x=m("./messages"),_=0,w=4,i=0,p=-2,r=-1,l=4,s=2,h=8,y=9,T=286,S=30,D=19,R=2*T+1,U=15,j=3,G=258,Q=G+j+1,v=42,W=113,e=1,F=2,at=3,M=4;function lt(t,L){return t.msg=x[L],L}function H(t){return(t<<1)-(4<t?9:0)}function st(t){for(var L=t.length;0<=--L;)t[L]=0}function C(t){var L=t.state,I=L.pending;I>t.avail_out&&(I=t.avail_out),I!==0&&(a.arraySet(t.output,L.pending_buf,L.pending_out,I,t.next_out),t.next_out+=I,L.pending_out+=I,t.total_out+=I,t.avail_out-=I,L.pending-=I,L.pending===0&&(L.pending_out=0))}function z(t,L){n._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,L),t.block_start=t.strstart,C(t.strm)}function nt(t,L){t.pending_buf[t.pending++]=L}function J(t,L){t.pending_buf[t.pending++]=L>>>8&255,t.pending_buf[t.pending++]=255&L}function Y(t,L){var I,d,o=t.max_chain_length,u=t.strstart,O=t.prev_length,A=t.nice_match,k=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,P=t.window,Z=t.w_mask,E=t.prev,X=t.strstart+G,tt=P[u+O-1],rt=P[u+O];t.prev_length>=t.good_match&&(o>>=2),A>t.lookahead&&(A=t.lookahead);do if(P[(I=L)+O]===rt&&P[I+O-1]===tt&&P[I]===P[u]&&P[++I]===P[u+1]){u+=2,I++;do;while(P[++u]===P[++I]&&P[++u]===P[++I]&&P[++u]===P[++I]&&P[++u]===P[++I]&&P[++u]===P[++I]&&P[++u]===P[++I]&&P[++u]===P[++I]&&P[++u]===P[++I]&&u<X);if(d=G-(X-u),u=X-G,O<d){if(t.match_start=L,A<=(O=d))break;tt=P[u+O-1],rt=P[u+O]}}while((L=E[L&Z])>k&&--o!=0);return O<=t.lookahead?O:t.lookahead}function yt(t){var L,I,d,o,u,O,A,k,P,Z,E=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=E+(E-Q)){for(a.arraySet(t.window,t.window,E,E,0),t.match_start-=E,t.strstart-=E,t.block_start-=E,L=I=t.hash_size;d=t.head[--L],t.head[L]=E<=d?d-E:0,--I;);for(L=I=E;d=t.prev[--L],t.prev[L]=E<=d?d-E:0,--I;);o+=E}if(t.strm.avail_in===0)break;if(O=t.strm,A=t.window,k=t.strstart+t.lookahead,P=o,Z=void 0,Z=O.avail_in,P<Z&&(Z=P),I=Z===0?0:(O.avail_in-=Z,a.arraySet(A,O.input,O.next_in,Z,k),O.state.wrap===1?O.adler=c(O.adler,A,Z,k):O.state.wrap===2&&(O.adler=g(O.adler,A,Z,k)),O.next_in+=Z,O.total_in+=Z,Z),t.lookahead+=I,t.lookahead+t.insert>=j)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+j-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<j)););}while(t.lookahead<Q&&t.strm.avail_in!==0)}function Ot(t,L){for(var I,d;;){if(t.lookahead<Q){if(yt(t),t.lookahead<Q&&L===_)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=j&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),I!==0&&t.strstart-I<=t.w_size-Q&&(t.match_length=Y(t,I)),t.match_length>=j)if(d=n._tr_tally(t,t.strstart-t.match_start,t.match_length-j),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=j){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else d=n._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(d&&(z(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<j-1?t.strstart:j-1,L===w?(z(t,!0),t.strm.avail_out===0?at:M):t.last_lit&&(z(t,!1),t.strm.avail_out===0)?e:F}function ht(t,L){for(var I,d,o;;){if(t.lookahead<Q){if(yt(t),t.lookahead<Q&&L===_)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=j&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=j-1,I!==0&&t.prev_length<t.max_lazy_match&&t.strstart-I<=t.w_size-Q&&(t.match_length=Y(t,I),t.match_length<=5&&(t.strategy===1||t.match_length===j&&4096<t.strstart-t.match_start)&&(t.match_length=j-1)),t.prev_length>=j&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-j,d=n._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-j),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=j-1,t.strstart++,d&&(z(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((d=n._tr_tally(t,0,t.window[t.strstart-1]))&&z(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(d=n._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<j-1?t.strstart:j-1,L===w?(z(t,!0),t.strm.avail_out===0?at:M):t.last_lit&&(z(t,!1),t.strm.avail_out===0)?e:F}function mt(t,L,I,d,o){this.good_length=t,this.max_lazy=L,this.nice_length=I,this.max_chain=d,this.func=o}function Et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),st(this.dyn_ltree),st(this.dyn_dtree),st(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*T+1),st(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),st(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function bt(t){var L;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=s,(L=t.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?v:W,t.adler=L.wrap===2?0:1,L.last_flush=_,n._tr_init(L),i):lt(t,p)}function Rt(t){var L=bt(t);return L===i&&function(I){I.window_size=2*I.w_size,st(I.head),I.max_lazy_match=f[I.level].max_lazy,I.good_match=f[I.level].good_length,I.nice_match=f[I.level].nice_length,I.max_chain_length=f[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=j-1,I.match_available=0,I.ins_h=0}(t.state),L}function Pt(t,L,I,d,o,u){if(!t)return p;var O=1;if(L===r&&(L=6),d<0?(O=0,d=-d):15<d&&(O=2,d-=16),o<1||y<o||I!==h||d<8||15<d||L<0||9<L||u<0||l<u)return lt(t,p);d===8&&(d=9);var A=new Et;return(t.state=A).strm=t,A.wrap=O,A.gzhead=null,A.w_bits=d,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=o+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+j-1)/j),A.window=new a.Buf8(2*A.w_size),A.head=new a.Buf16(A.hash_size),A.prev=new a.Buf16(A.w_size),A.lit_bufsize=1<<o+6,A.pending_buf_size=4*A.lit_bufsize,A.pending_buf=new a.Buf8(A.pending_buf_size),A.d_buf=1*A.lit_bufsize,A.l_buf=3*A.lit_bufsize,A.level=L,A.strategy=u,A.method=I,Rt(t)}f=[new mt(0,0,0,0,function(t,L){var I=65535;for(I>t.pending_buf_size-5&&(I=t.pending_buf_size-5);;){if(t.lookahead<=1){if(yt(t),t.lookahead===0&&L===_)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var d=t.block_start+I;if((t.strstart===0||t.strstart>=d)&&(t.lookahead=t.strstart-d,t.strstart=d,z(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Q&&(z(t,!1),t.strm.avail_out===0))return e}return t.insert=0,L===w?(z(t,!0),t.strm.avail_out===0?at:M):(t.strstart>t.block_start&&(z(t,!1),t.strm.avail_out),e)}),new mt(4,4,8,4,Ot),new mt(4,5,16,8,Ot),new mt(4,6,32,32,Ot),new mt(4,4,16,16,ht),new mt(8,16,32,32,ht),new mt(8,16,128,128,ht),new mt(8,32,128,256,ht),new mt(32,128,258,1024,ht),new mt(32,258,258,4096,ht)],b.deflateInit=function(t,L){return Pt(t,L,h,15,8,0)},b.deflateInit2=Pt,b.deflateReset=Rt,b.deflateResetKeep=bt,b.deflateSetHeader=function(t,L){return t&&t.state?t.state.wrap!==2?p:(t.state.gzhead=L,i):p},b.deflate=function(t,L){var I,d,o,u;if(!t||!t.state||5<L||L<0)return t?lt(t,p):p;if(d=t.state,!t.output||!t.input&&t.avail_in!==0||d.status===666&&L!==w)return lt(t,t.avail_out===0?-5:p);if(d.strm=t,I=d.last_flush,d.last_flush=L,d.status===v)if(d.wrap===2)t.adler=0,nt(d,31),nt(d,139),nt(d,8),d.gzhead?(nt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),nt(d,255&d.gzhead.time),nt(d,d.gzhead.time>>8&255),nt(d,d.gzhead.time>>16&255),nt(d,d.gzhead.time>>24&255),nt(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),nt(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(nt(d,255&d.gzhead.extra.length),nt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(t.adler=g(t.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(nt(d,0),nt(d,0),nt(d,0),nt(d,0),nt(d,0),nt(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),nt(d,3),d.status=W);else{var O=h+(d.w_bits-8<<4)<<8;O|=(2<=d.strategy||d.level<2?0:d.level<6?1:d.level===6?2:3)<<6,d.strstart!==0&&(O|=32),O+=31-O%31,d.status=W,J(d,O),d.strstart!==0&&(J(d,t.adler>>>16),J(d,65535&t.adler)),t.adler=1}if(d.status===69)if(d.gzhead.extra){for(o=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>o&&(t.adler=g(t.adler,d.pending_buf,d.pending-o,o)),C(t),o=d.pending,d.pending!==d.pending_buf_size));)nt(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>o&&(t.adler=g(t.adler,d.pending_buf,d.pending-o,o)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(d.status===73)if(d.gzhead.name){o=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>o&&(t.adler=g(t.adler,d.pending_buf,d.pending-o,o)),C(t),o=d.pending,d.pending===d.pending_buf_size)){u=1;break}u=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,nt(d,u)}while(u!==0);d.gzhead.hcrc&&d.pending>o&&(t.adler=g(t.adler,d.pending_buf,d.pending-o,o)),u===0&&(d.gzindex=0,d.status=91)}else d.status=91;if(d.status===91)if(d.gzhead.comment){o=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>o&&(t.adler=g(t.adler,d.pending_buf,d.pending-o,o)),C(t),o=d.pending,d.pending===d.pending_buf_size)){u=1;break}u=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,nt(d,u)}while(u!==0);d.gzhead.hcrc&&d.pending>o&&(t.adler=g(t.adler,d.pending_buf,d.pending-o,o)),u===0&&(d.status=103)}else d.status=103;if(d.status===103&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&C(t),d.pending+2<=d.pending_buf_size&&(nt(d,255&t.adler),nt(d,t.adler>>8&255),t.adler=0,d.status=W)):d.status=W),d.pending!==0){if(C(t),t.avail_out===0)return d.last_flush=-1,i}else if(t.avail_in===0&&H(L)<=H(I)&&L!==w)return lt(t,-5);if(d.status===666&&t.avail_in!==0)return lt(t,-5);if(t.avail_in!==0||d.lookahead!==0||L!==_&&d.status!==666){var A=d.strategy===2?function(k,P){for(var Z;;){if(k.lookahead===0&&(yt(k),k.lookahead===0)){if(P===_)return e;break}if(k.match_length=0,Z=n._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,Z&&(z(k,!1),k.strm.avail_out===0))return e}return k.insert=0,P===w?(z(k,!0),k.strm.avail_out===0?at:M):k.last_lit&&(z(k,!1),k.strm.avail_out===0)?e:F}(d,L):d.strategy===3?function(k,P){for(var Z,E,X,tt,rt=k.window;;){if(k.lookahead<=G){if(yt(k),k.lookahead<=G&&P===_)return e;if(k.lookahead===0)break}if(k.match_length=0,k.lookahead>=j&&0<k.strstart&&(E=rt[X=k.strstart-1])===rt[++X]&&E===rt[++X]&&E===rt[++X]){tt=k.strstart+G;do;while(E===rt[++X]&&E===rt[++X]&&E===rt[++X]&&E===rt[++X]&&E===rt[++X]&&E===rt[++X]&&E===rt[++X]&&E===rt[++X]&&X<tt);k.match_length=G-(tt-X),k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=j?(Z=n._tr_tally(k,1,k.match_length-j),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(Z=n._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),Z&&(z(k,!1),k.strm.avail_out===0))return e}return k.insert=0,P===w?(z(k,!0),k.strm.avail_out===0?at:M):k.last_lit&&(z(k,!1),k.strm.avail_out===0)?e:F}(d,L):f[d.level].func(d,L);if(A!==at&&A!==M||(d.status=666),A===e||A===at)return t.avail_out===0&&(d.last_flush=-1),i;if(A===F&&(L===1?n._tr_align(d):L!==5&&(n._tr_stored_block(d,0,0,!1),L===3&&(st(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),C(t),t.avail_out===0))return d.last_flush=-1,i}return L!==w?i:d.wrap<=0?1:(d.wrap===2?(nt(d,255&t.adler),nt(d,t.adler>>8&255),nt(d,t.adler>>16&255),nt(d,t.adler>>24&255),nt(d,255&t.total_in),nt(d,t.total_in>>8&255),nt(d,t.total_in>>16&255),nt(d,t.total_in>>24&255)):(J(d,t.adler>>>16),J(d,65535&t.adler)),C(t),0<d.wrap&&(d.wrap=-d.wrap),d.pending!==0?i:1)},b.deflateEnd=function(t){var L;return t&&t.state?(L=t.state.status)!==v&&L!==69&&L!==73&&L!==91&&L!==103&&L!==W&&L!==666?lt(t,p):(t.state=null,L===W?lt(t,-3):i):p},b.deflateSetDictionary=function(t,L){var I,d,o,u,O,A,k,P,Z=L.length;if(!t||!t.state||(u=(I=t.state).wrap)===2||u===1&&I.status!==v||I.lookahead)return p;for(u===1&&(t.adler=c(t.adler,L,Z,0)),I.wrap=0,Z>=I.w_size&&(u===0&&(st(I.head),I.strstart=0,I.block_start=0,I.insert=0),P=new a.Buf8(I.w_size),a.arraySet(P,L,Z-I.w_size,I.w_size,0),L=P,Z=I.w_size),O=t.avail_in,A=t.next_in,k=t.input,t.avail_in=Z,t.next_in=0,t.input=L,yt(I);I.lookahead>=j;){for(d=I.strstart,o=I.lookahead-(j-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[d+j-1])&I.hash_mask,I.prev[d&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=d,d++,--o;);I.strstart=d,I.lookahead=j-1,yt(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=j-1,I.match_available=0,t.next_in=A,t.input=k,t.avail_in=O,I.wrap=u,i},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,B,b){B.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,B,b){B.exports=function(f,a){var n,c,g,x,_,w,i,p,r,l,s,h,y,T,S,D,R,U,j,G,Q,v,W,e,F;n=f.state,c=f.next_in,e=f.input,g=c+(f.avail_in-5),x=f.next_out,F=f.output,_=x-(a-f.avail_out),w=x+(f.avail_out-257),i=n.dmax,p=n.wsize,r=n.whave,l=n.wnext,s=n.window,h=n.hold,y=n.bits,T=n.lencode,S=n.distcode,D=(1<<n.lenbits)-1,R=(1<<n.distbits)-1;t:do{y<15&&(h+=e[c++]<<y,y+=8,h+=e[c++]<<y,y+=8),U=T[h&D];e:for(;;){if(h>>>=j=U>>>24,y-=j,(j=U>>>16&255)===0)F[x++]=65535&U;else{if(!(16&j)){if((64&j)==0){U=T[(65535&U)+(h&(1<<j)-1)];continue e}if(32&j){n.mode=12;break t}f.msg="invalid literal/length code",n.mode=30;break t}G=65535&U,(j&=15)&&(y<j&&(h+=e[c++]<<y,y+=8),G+=h&(1<<j)-1,h>>>=j,y-=j),y<15&&(h+=e[c++]<<y,y+=8,h+=e[c++]<<y,y+=8),U=S[h&R];r:for(;;){if(h>>>=j=U>>>24,y-=j,!(16&(j=U>>>16&255))){if((64&j)==0){U=S[(65535&U)+(h&(1<<j)-1)];continue r}f.msg="invalid distance code",n.mode=30;break t}if(Q=65535&U,y<(j&=15)&&(h+=e[c++]<<y,(y+=8)<j&&(h+=e[c++]<<y,y+=8)),i<(Q+=h&(1<<j)-1)){f.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=j,y-=j,(j=x-_)<Q){if(r<(j=Q-j)&&n.sane){f.msg="invalid distance too far back",n.mode=30;break t}if(W=s,(v=0)===l){if(v+=p-j,j<G){for(G-=j;F[x++]=s[v++],--j;);v=x-Q,W=F}}else if(l<j){if(v+=p+l-j,(j-=l)<G){for(G-=j;F[x++]=s[v++],--j;);if(v=0,l<G){for(G-=j=l;F[x++]=s[v++],--j;);v=x-Q,W=F}}}else if(v+=l-j,j<G){for(G-=j;F[x++]=s[v++],--j;);v=x-Q,W=F}for(;2<G;)F[x++]=W[v++],F[x++]=W[v++],F[x++]=W[v++],G-=3;G&&(F[x++]=W[v++],1<G&&(F[x++]=W[v++]))}else{for(v=x-Q;F[x++]=F[v++],F[x++]=F[v++],F[x++]=F[v++],2<(G-=3););G&&(F[x++]=F[v++],1<G&&(F[x++]=F[v++]))}break}}break}}while(c<g&&x<w);c-=G=y>>3,h&=(1<<(y-=G<<3))-1,f.next_in=c,f.next_out=x,f.avail_in=c<g?g-c+5:5-(c-g),f.avail_out=x<w?w-x+257:257-(x-w),n.hold=h,n.bits=y}},{}],49:[function(m,B,b){var f=m("../utils/common"),a=m("./adler32"),n=m("./crc32"),c=m("./inffast"),g=m("./inftrees"),x=1,_=2,w=0,i=-2,p=1,r=852,l=592;function s(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(v){var W;return v&&v.state?(W=v.state,v.total_in=v.total_out=W.total=0,v.msg="",W.wrap&&(v.adler=1&W.wrap),W.mode=p,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new f.Buf32(r),W.distcode=W.distdyn=new f.Buf32(l),W.sane=1,W.back=-1,w):i}function T(v){var W;return v&&v.state?((W=v.state).wsize=0,W.whave=0,W.wnext=0,y(v)):i}function S(v,W){var e,F;return v&&v.state?(F=v.state,W<0?(e=0,W=-W):(e=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?i:(F.window!==null&&F.wbits!==W&&(F.window=null),F.wrap=e,F.wbits=W,T(v))):i}function D(v,W){var e,F;return v?(F=new h,(v.state=F).window=null,(e=S(v,W))!==w&&(v.state=null),e):i}var R,U,j=!0;function G(v){if(j){var W;for(R=new f.Buf32(512),U=new f.Buf32(32),W=0;W<144;)v.lens[W++]=8;for(;W<256;)v.lens[W++]=9;for(;W<280;)v.lens[W++]=7;for(;W<288;)v.lens[W++]=8;for(g(x,v.lens,0,288,R,0,v.work,{bits:9}),W=0;W<32;)v.lens[W++]=5;g(_,v.lens,0,32,U,0,v.work,{bits:5}),j=!1}v.lencode=R,v.lenbits=9,v.distcode=U,v.distbits=5}function Q(v,W,e,F){var at,M=v.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new f.Buf8(M.wsize)),F>=M.wsize?(f.arraySet(M.window,W,e-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(F<(at=M.wsize-M.wnext)&&(at=F),f.arraySet(M.window,W,e-F,at,M.wnext),(F-=at)?(f.arraySet(M.window,W,e-F,F,0),M.wnext=F,M.whave=M.wsize):(M.wnext+=at,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=at))),0}b.inflateReset=T,b.inflateReset2=S,b.inflateResetKeep=y,b.inflateInit=function(v){return D(v,15)},b.inflateInit2=D,b.inflate=function(v,W){var e,F,at,M,lt,H,st,C,z,nt,J,Y,yt,Ot,ht,mt,Et,bt,Rt,Pt,t,L,I,d,o=0,u=new f.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return i;(e=v.state).mode===12&&(e.mode=13),lt=v.next_out,at=v.output,st=v.avail_out,M=v.next_in,F=v.input,H=v.avail_in,C=e.hold,z=e.bits,nt=H,J=st,L=w;t:for(;;)switch(e.mode){case p:if(e.wrap===0){e.mode=13;break}for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(2&e.wrap&&C===35615){u[e.check=0]=255&C,u[1]=C>>>8&255,e.check=n(e.check,u,2,0),z=C=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&C)<<8)+(C>>8))%31){v.msg="incorrect header check",e.mode=30;break}if((15&C)!=8){v.msg="unknown compression method",e.mode=30;break}if(z-=4,t=8+(15&(C>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){v.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,v.adler=e.check=1,e.mode=512&C?10:12,z=C=0;break;case 2:for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(e.flags=C,(255&e.flags)!=8){v.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){v.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=C>>8&1),512&e.flags&&(u[0]=255&C,u[1]=C>>>8&255,e.check=n(e.check,u,2,0)),z=C=0,e.mode=3;case 3:for(;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.head&&(e.head.time=C),512&e.flags&&(u[0]=255&C,u[1]=C>>>8&255,u[2]=C>>>16&255,u[3]=C>>>24&255,e.check=n(e.check,u,4,0)),z=C=0,e.mode=4;case 4:for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.head&&(e.head.xflags=255&C,e.head.os=C>>8),512&e.flags&&(u[0]=255&C,u[1]=C>>>8&255,e.check=n(e.check,u,2,0)),z=C=0,e.mode=5;case 5:if(1024&e.flags){for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.length=C,e.head&&(e.head.extra_len=C),512&e.flags&&(u[0]=255&C,u[1]=C>>>8&255,e.check=n(e.check,u,2,0)),z=C=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(H<(Y=e.length)&&(Y=H),Y&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),f.arraySet(e.head.extra,F,M,Y,t)),512&e.flags&&(e.check=n(e.check,F,Y,M)),H-=Y,M+=Y,e.length-=Y),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(H===0)break t;for(Y=0;t=F[M+Y++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&Y<H;);if(512&e.flags&&(e.check=n(e.check,F,Y,M)),H-=Y,M+=Y,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(H===0)break t;for(Y=0;t=F[M+Y++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&Y<H;);if(512&e.flags&&(e.check=n(e.check,F,Y,M)),H-=Y,M+=Y,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(C!==(65535&e.check)){v.msg="header crc mismatch",e.mode=30;break}z=C=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),v.adler=e.check=0,e.mode=12;break;case 10:for(;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}v.adler=e.check=s(C),z=C=0,e.mode=11;case 11:if(e.havedict===0)return v.next_out=lt,v.avail_out=st,v.next_in=M,v.avail_in=H,e.hold=C,e.bits=z,2;v.adler=e.check=1,e.mode=12;case 12:if(W===5||W===6)break t;case 13:if(e.last){C>>>=7&z,z-=7&z,e.mode=27;break}for(;z<3;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}switch(e.last=1&C,z-=1,3&(C>>>=1)){case 0:e.mode=14;break;case 1:if(G(e),e.mode=20,W!==6)break;C>>>=2,z-=2;break t;case 2:e.mode=17;break;case 3:v.msg="invalid block type",e.mode=30}C>>>=2,z-=2;break;case 14:for(C>>>=7&z,z-=7&z;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if((65535&C)!=(C>>>16^65535)){v.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&C,z=C=0,e.mode=15,W===6)break t;case 15:e.mode=16;case 16:if(Y=e.length){if(H<Y&&(Y=H),st<Y&&(Y=st),Y===0)break t;f.arraySet(at,F,M,Y,lt),H-=Y,M+=Y,st-=Y,lt+=Y,e.length-=Y;break}e.mode=12;break;case 17:for(;z<14;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(e.nlen=257+(31&C),C>>>=5,z-=5,e.ndist=1+(31&C),C>>>=5,z-=5,e.ncode=4+(15&C),C>>>=4,z-=4,286<e.nlen||30<e.ndist){v.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;z<3;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.lens[O[e.have++]]=7&C,C>>>=3,z-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,I={bits:e.lenbits},L=g(0,e.lens,0,19,e.lencode,0,e.work,I),e.lenbits=I.bits,L){v.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;mt=(o=e.lencode[C&(1<<e.lenbits)-1])>>>16&255,Et=65535&o,!((ht=o>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(Et<16)C>>>=ht,z-=ht,e.lens[e.have++]=Et;else{if(Et===16){for(d=ht+2;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(C>>>=ht,z-=ht,e.have===0){v.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],Y=3+(3&C),C>>>=2,z-=2}else if(Et===17){for(d=ht+3;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}z-=ht,t=0,Y=3+(7&(C>>>=ht)),C>>>=3,z-=3}else{for(d=ht+7;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}z-=ht,t=0,Y=11+(127&(C>>>=ht)),C>>>=7,z-=7}if(e.have+Y>e.nlen+e.ndist){v.msg="invalid bit length repeat",e.mode=30;break}for(;Y--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){v.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,I={bits:e.lenbits},L=g(x,e.lens,0,e.nlen,e.lencode,0,e.work,I),e.lenbits=I.bits,L){v.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,I={bits:e.distbits},L=g(_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,I),e.distbits=I.bits,L){v.msg="invalid distances set",e.mode=30;break}if(e.mode=20,W===6)break t;case 20:e.mode=21;case 21:if(6<=H&&258<=st){v.next_out=lt,v.avail_out=st,v.next_in=M,v.avail_in=H,e.hold=C,e.bits=z,c(v,J),lt=v.next_out,at=v.output,st=v.avail_out,M=v.next_in,F=v.input,H=v.avail_in,C=e.hold,z=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;mt=(o=e.lencode[C&(1<<e.lenbits)-1])>>>16&255,Et=65535&o,!((ht=o>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(mt&&(240&mt)==0){for(bt=ht,Rt=mt,Pt=Et;mt=(o=e.lencode[Pt+((C&(1<<bt+Rt)-1)>>bt)])>>>16&255,Et=65535&o,!(bt+(ht=o>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}C>>>=bt,z-=bt,e.back+=bt}if(C>>>=ht,z-=ht,e.back+=ht,e.length=Et,mt===0){e.mode=26;break}if(32&mt){e.back=-1,e.mode=12;break}if(64&mt){v.msg="invalid literal/length code",e.mode=30;break}e.extra=15&mt,e.mode=22;case 22:if(e.extra){for(d=e.extra;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.length+=C&(1<<e.extra)-1,C>>>=e.extra,z-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;mt=(o=e.distcode[C&(1<<e.distbits)-1])>>>16&255,Et=65535&o,!((ht=o>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if((240&mt)==0){for(bt=ht,Rt=mt,Pt=Et;mt=(o=e.distcode[Pt+((C&(1<<bt+Rt)-1)>>bt)])>>>16&255,Et=65535&o,!(bt+(ht=o>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}C>>>=bt,z-=bt,e.back+=bt}if(C>>>=ht,z-=ht,e.back+=ht,64&mt){v.msg="invalid distance code",e.mode=30;break}e.offset=Et,e.extra=15&mt,e.mode=24;case 24:if(e.extra){for(d=e.extra;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.offset+=C&(1<<e.extra)-1,C>>>=e.extra,z-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){v.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(st===0)break t;if(Y=J-st,e.offset>Y){if((Y=e.offset-Y)>e.whave&&e.sane){v.msg="invalid distance too far back",e.mode=30;break}yt=Y>e.wnext?(Y-=e.wnext,e.wsize-Y):e.wnext-Y,Y>e.length&&(Y=e.length),Ot=e.window}else Ot=at,yt=lt-e.offset,Y=e.length;for(st<Y&&(Y=st),st-=Y,e.length-=Y;at[lt++]=Ot[yt++],--Y;);e.length===0&&(e.mode=21);break;case 26:if(st===0)break t;at[lt++]=e.length,st--,e.mode=21;break;case 27:if(e.wrap){for(;z<32;){if(H===0)break t;H--,C|=F[M++]<<z,z+=8}if(J-=st,v.total_out+=J,e.total+=J,J&&(v.adler=e.check=e.flags?n(e.check,at,J,lt-J):a(e.check,at,J,lt-J)),J=st,(e.flags?C:s(C))!==e.check){v.msg="incorrect data check",e.mode=30;break}z=C=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(C!==(4294967295&e.total)){v.msg="incorrect length check",e.mode=30;break}z=C=0}e.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return i}return v.next_out=lt,v.avail_out=st,v.next_in=M,v.avail_in=H,e.hold=C,e.bits=z,(e.wsize||J!==v.avail_out&&e.mode<30&&(e.mode<27||W!==4))&&Q(v,v.output,v.next_out,J-v.avail_out)?(e.mode=31,-4):(nt-=v.avail_in,J-=v.avail_out,v.total_in+=nt,v.total_out+=J,e.total+=J,e.wrap&&J&&(v.adler=e.check=e.flags?n(e.check,at,J,v.next_out-J):a(e.check,at,J,v.next_out-J)),v.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(nt==0&&J===0||W===4)&&L===w&&(L=-5),L)},b.inflateEnd=function(v){if(!v||!v.state)return i;var W=v.state;return W.window&&(W.window=null),v.state=null,w},b.inflateGetHeader=function(v,W){var e;return v&&v.state?(2&(e=v.state).wrap)==0?i:((e.head=W).done=!1,w):i},b.inflateSetDictionary=function(v,W){var e,F=W.length;return v&&v.state?(e=v.state).wrap!==0&&e.mode!==11?i:e.mode===11&&a(1,W,F,0)!==e.check?-3:Q(v,W,F,F)?(e.mode=31,-4):(e.havedict=1,w):i},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,B,b){var f=m("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];B.exports=function(x,_,w,i,p,r,l,s){var h,y,T,S,D,R,U,j,G,Q=s.bits,v=0,W=0,e=0,F=0,at=0,M=0,lt=0,H=0,st=0,C=0,z=null,nt=0,J=new f.Buf16(16),Y=new f.Buf16(16),yt=null,Ot=0;for(v=0;v<=15;v++)J[v]=0;for(W=0;W<i;W++)J[_[w+W]]++;for(at=Q,F=15;1<=F&&J[F]===0;F--);if(F<at&&(at=F),F===0)return p[r++]=20971520,p[r++]=20971520,s.bits=1,0;for(e=1;e<F&&J[e]===0;e++);for(at<e&&(at=e),v=H=1;v<=15;v++)if(H<<=1,(H-=J[v])<0)return-1;if(0<H&&(x===0||F!==1))return-1;for(Y[1]=0,v=1;v<15;v++)Y[v+1]=Y[v]+J[v];for(W=0;W<i;W++)_[w+W]!==0&&(l[Y[_[w+W]]++]=W);if(R=x===0?(z=yt=l,19):x===1?(z=a,nt-=257,yt=n,Ot-=257,256):(z=c,yt=g,-1),v=e,D=r,lt=W=C=0,T=-1,S=(st=1<<(M=at))-1,x===1&&852<st||x===2&&592<st)return 1;for(;;){for(U=v-lt,G=l[W]<R?(j=0,l[W]):l[W]>R?(j=yt[Ot+l[W]],z[nt+l[W]]):(j=96,0),h=1<<v-lt,e=y=1<<M;p[D+(C>>lt)+(y-=h)]=U<<24|j<<16|G|0,y!==0;);for(h=1<<v-1;C&h;)h>>=1;if(h!==0?(C&=h-1,C+=h):C=0,W++,--J[v]==0){if(v===F)break;v=_[w+l[W]]}if(at<v&&(C&S)!==T){for(lt===0&&(lt=at),D+=e,H=1<<(M=v-lt);M+lt<F&&!((H-=J[M+lt])<=0);)M++,H<<=1;if(st+=1<<M,x===1&&852<st||x===2&&592<st)return 1;p[T=C&S]=at<<24|M<<16|D-r|0}}return C!==0&&(p[D+C]=v-lt<<24|64<<16|0),s.bits=at,0}},{"../utils/common":41}],51:[function(m,B,b){B.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,B,b){var f=m("../utils/common"),a=0,n=1;function c(o){for(var u=o.length;0<=--u;)o[u]=0}var g=0,x=29,_=256,w=_+1+x,i=30,p=19,r=2*w+1,l=15,s=16,h=7,y=256,T=16,S=17,D=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(w+2));c(Q);var v=new Array(2*i);c(v);var W=new Array(512);c(W);var e=new Array(256);c(e);var F=new Array(x);c(F);var at,M,lt,H=new Array(i);function st(o,u,O,A,k){this.static_tree=o,this.extra_bits=u,this.extra_base=O,this.elems=A,this.max_length=k,this.has_stree=o&&o.length}function C(o,u){this.dyn_tree=o,this.max_code=0,this.stat_desc=u}function z(o){return o<256?W[o]:W[256+(o>>>7)]}function nt(o,u){o.pending_buf[o.pending++]=255&u,o.pending_buf[o.pending++]=u>>>8&255}function J(o,u,O){o.bi_valid>s-O?(o.bi_buf|=u<<o.bi_valid&65535,nt(o,o.bi_buf),o.bi_buf=u>>s-o.bi_valid,o.bi_valid+=O-s):(o.bi_buf|=u<<o.bi_valid&65535,o.bi_valid+=O)}function Y(o,u,O){J(o,O[2*u],O[2*u+1])}function yt(o,u){for(var O=0;O|=1&o,o>>>=1,O<<=1,0<--u;);return O>>>1}function Ot(o,u,O){var A,k,P=new Array(l+1),Z=0;for(A=1;A<=l;A++)P[A]=Z=Z+O[A-1]<<1;for(k=0;k<=u;k++){var E=o[2*k+1];E!==0&&(o[2*k]=yt(P[E]++,E))}}function ht(o){var u;for(u=0;u<w;u++)o.dyn_ltree[2*u]=0;for(u=0;u<i;u++)o.dyn_dtree[2*u]=0;for(u=0;u<p;u++)o.bl_tree[2*u]=0;o.dyn_ltree[2*y]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0}function mt(o){8<o.bi_valid?nt(o,o.bi_buf):0<o.bi_valid&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0}function Et(o,u,O,A){var k=2*u,P=2*O;return o[k]<o[P]||o[k]===o[P]&&A[u]<=A[O]}function bt(o,u,O){for(var A=o.heap[O],k=O<<1;k<=o.heap_len&&(k<o.heap_len&&Et(u,o.heap[k+1],o.heap[k],o.depth)&&k++,!Et(u,A,o.heap[k],o.depth));)o.heap[O]=o.heap[k],O=k,k<<=1;o.heap[O]=A}function Rt(o,u,O){var A,k,P,Z,E=0;if(o.last_lit!==0)for(;A=o.pending_buf[o.d_buf+2*E]<<8|o.pending_buf[o.d_buf+2*E+1],k=o.pending_buf[o.l_buf+E],E++,A===0?Y(o,k,u):(Y(o,(P=e[k])+_+1,u),(Z=R[P])!==0&&J(o,k-=F[P],Z),Y(o,P=z(--A),O),(Z=U[P])!==0&&J(o,A-=H[P],Z)),E<o.last_lit;);Y(o,y,u)}function Pt(o,u){var O,A,k,P=u.dyn_tree,Z=u.stat_desc.static_tree,E=u.stat_desc.has_stree,X=u.stat_desc.elems,tt=-1;for(o.heap_len=0,o.heap_max=r,O=0;O<X;O++)P[2*O]!==0?(o.heap[++o.heap_len]=tt=O,o.depth[O]=0):P[2*O+1]=0;for(;o.heap_len<2;)P[2*(k=o.heap[++o.heap_len]=tt<2?++tt:0)]=1,o.depth[k]=0,o.opt_len--,E&&(o.static_len-=Z[2*k+1]);for(u.max_code=tt,O=o.heap_len>>1;1<=O;O--)bt(o,P,O);for(k=X;O=o.heap[1],o.heap[1]=o.heap[o.heap_len--],bt(o,P,1),A=o.heap[1],o.heap[--o.heap_max]=O,o.heap[--o.heap_max]=A,P[2*k]=P[2*O]+P[2*A],o.depth[k]=(o.depth[O]>=o.depth[A]?o.depth[O]:o.depth[A])+1,P[2*O+1]=P[2*A+1]=k,o.heap[1]=k++,bt(o,P,1),2<=o.heap_len;);o.heap[--o.heap_max]=o.heap[1],function(rt,vt){var K,q,N,V,ot,dt,wt=vt.dyn_tree,St=vt.max_code,zt=vt.stat_desc.static_tree,Ct=vt.stat_desc.has_stree,jt=vt.stat_desc.extra_bits,it=vt.stat_desc.extra_base,ut=vt.stat_desc.max_length,$=0;for(V=0;V<=l;V++)rt.bl_count[V]=0;for(wt[2*rt.heap[rt.heap_max]+1]=0,K=rt.heap_max+1;K<r;K++)ut<(V=wt[2*wt[2*(q=rt.heap[K])+1]+1]+1)&&(V=ut,$++),wt[2*q+1]=V,St<q||(rt.bl_count[V]++,ot=0,it<=q&&(ot=jt[q-it]),dt=wt[2*q],rt.opt_len+=dt*(V+ot),Ct&&(rt.static_len+=dt*(zt[2*q+1]+ot)));if($!==0){do{for(V=ut-1;rt.bl_count[V]===0;)V--;rt.bl_count[V]--,rt.bl_count[V+1]+=2,rt.bl_count[ut]--,$-=2}while(0<$);for(V=ut;V!==0;V--)for(q=rt.bl_count[V];q!==0;)St<(N=rt.heap[--K])||(wt[2*N+1]!==V&&(rt.opt_len+=(V-wt[2*N+1])*wt[2*N],wt[2*N+1]=V),q--)}}(o,u),Ot(P,tt,o.bl_count)}function t(o,u,O){var A,k,P=-1,Z=u[1],E=0,X=7,tt=4;for(Z===0&&(X=138,tt=3),u[2*(O+1)+1]=65535,A=0;A<=O;A++)k=Z,Z=u[2*(A+1)+1],++E<X&&k===Z||(E<tt?o.bl_tree[2*k]+=E:k!==0?(k!==P&&o.bl_tree[2*k]++,o.bl_tree[2*T]++):E<=10?o.bl_tree[2*S]++:o.bl_tree[2*D]++,P=k,tt=(E=0)===Z?(X=138,3):k===Z?(X=6,3):(X=7,4))}function L(o,u,O){var A,k,P=-1,Z=u[1],E=0,X=7,tt=4;for(Z===0&&(X=138,tt=3),A=0;A<=O;A++)if(k=Z,Z=u[2*(A+1)+1],!(++E<X&&k===Z)){if(E<tt)for(;Y(o,k,o.bl_tree),--E!=0;);else k!==0?(k!==P&&(Y(o,k,o.bl_tree),E--),Y(o,T,o.bl_tree),J(o,E-3,2)):E<=10?(Y(o,S,o.bl_tree),J(o,E-3,3)):(Y(o,D,o.bl_tree),J(o,E-11,7));P=k,tt=(E=0)===Z?(X=138,3):k===Z?(X=6,3):(X=7,4)}}c(H);var I=!1;function d(o,u,O,A){J(o,(g<<1)+(A?1:0),3),function(k,P,Z,E){mt(k),nt(k,Z),nt(k,~Z),f.arraySet(k.pending_buf,k.window,P,Z,k.pending),k.pending+=Z}(o,u,O)}b._tr_init=function(o){I||(function(){var u,O,A,k,P,Z=new Array(l+1);for(k=A=0;k<x-1;k++)for(F[k]=A,u=0;u<1<<R[k];u++)e[A++]=k;for(e[A-1]=k,k=P=0;k<16;k++)for(H[k]=P,u=0;u<1<<U[k];u++)W[P++]=k;for(P>>=7;k<i;k++)for(H[k]=P<<7,u=0;u<1<<U[k]-7;u++)W[256+P++]=k;for(O=0;O<=l;O++)Z[O]=0;for(u=0;u<=143;)Q[2*u+1]=8,u++,Z[8]++;for(;u<=255;)Q[2*u+1]=9,u++,Z[9]++;for(;u<=279;)Q[2*u+1]=7,u++,Z[7]++;for(;u<=287;)Q[2*u+1]=8,u++,Z[8]++;for(Ot(Q,w+1,Z),u=0;u<i;u++)v[2*u+1]=5,v[2*u]=yt(u,5);at=new st(Q,R,_+1,w,l),M=new st(v,U,0,i,l),lt=new st(new Array(0),j,0,p,h)}(),I=!0),o.l_desc=new C(o.dyn_ltree,at),o.d_desc=new C(o.dyn_dtree,M),o.bl_desc=new C(o.bl_tree,lt),o.bi_buf=0,o.bi_valid=0,ht(o)},b._tr_stored_block=d,b._tr_flush_block=function(o,u,O,A){var k,P,Z=0;0<o.level?(o.strm.data_type===2&&(o.strm.data_type=function(E){var X,tt=4093624447;for(X=0;X<=31;X++,tt>>>=1)if(1&tt&&E.dyn_ltree[2*X]!==0)return a;if(E.dyn_ltree[18]!==0||E.dyn_ltree[20]!==0||E.dyn_ltree[26]!==0)return n;for(X=32;X<_;X++)if(E.dyn_ltree[2*X]!==0)return n;return a}(o)),Pt(o,o.l_desc),Pt(o,o.d_desc),Z=function(E){var X;for(t(E,E.dyn_ltree,E.l_desc.max_code),t(E,E.dyn_dtree,E.d_desc.max_code),Pt(E,E.bl_desc),X=p-1;3<=X&&E.bl_tree[2*G[X]+1]===0;X--);return E.opt_len+=3*(X+1)+5+5+4,X}(o),k=o.opt_len+3+7>>>3,(P=o.static_len+3+7>>>3)<=k&&(k=P)):k=P=O+5,O+4<=k&&u!==-1?d(o,u,O,A):o.strategy===4||P===k?(J(o,2+(A?1:0),3),Rt(o,Q,v)):(J(o,4+(A?1:0),3),function(E,X,tt,rt){var vt;for(J(E,X-257,5),J(E,tt-1,5),J(E,rt-4,4),vt=0;vt<rt;vt++)J(E,E.bl_tree[2*G[vt]+1],3);L(E,E.dyn_ltree,X-1),L(E,E.dyn_dtree,tt-1)}(o,o.l_desc.max_code+1,o.d_desc.max_code+1,Z+1),Rt(o,o.dyn_ltree,o.dyn_dtree)),ht(o),A&&mt(o)},b._tr_tally=function(o,u,O){return o.pending_buf[o.d_buf+2*o.last_lit]=u>>>8&255,o.pending_buf[o.d_buf+2*o.last_lit+1]=255&u,o.pending_buf[o.l_buf+o.last_lit]=255&O,o.last_lit++,u===0?o.dyn_ltree[2*O]++:(o.matches++,u--,o.dyn_ltree[2*(e[O]+_+1)]++,o.dyn_dtree[2*z(u)]++),o.last_lit===o.lit_bufsize-1},b._tr_align=function(o){J(o,2,3),Y(o,y,Q),function(u){u.bi_valid===16?(nt(u,u.bi_buf),u.bi_buf=0,u.bi_valid=0):8<=u.bi_valid&&(u.pending_buf[u.pending++]=255&u.bi_buf,u.bi_buf>>=8,u.bi_valid-=8)}(o)}},{"../utils/common":41}],53:[function(m,B,b){B.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,B,b){(function(f){(function(a,n){if(!a.setImmediate){var c,g,x,_,w=1,i={},p=!1,r=a.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(a);l=l&&l.setTimeout?l:a,c={}.toString.call(a.process)==="[object process]"?function(T){process.nextTick(function(){h(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,S=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=S,T}}()?(_="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),function(T){a.postMessage(_+T,"*")}):a.MessageChannel?((x=new MessageChannel).port1.onmessage=function(T){h(T.data)},function(T){x.port2.postMessage(T)}):r&&"onreadystatechange"in r.createElement("script")?(g=r.documentElement,function(T){var S=r.createElement("script");S.onreadystatechange=function(){h(T),S.onreadystatechange=null,g.removeChild(S),S=null},g.appendChild(S)}):function(T){setTimeout(h,0,T)},l.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var S=new Array(arguments.length-1),D=0;D<S.length;D++)S[D]=arguments[D+1];var R={callback:T,args:S};return i[w]=R,c(w),w++},l.clearImmediate=s}function s(T){delete i[T]}function h(T){if(p)setTimeout(h,0,T);else{var S=i[T];if(S){p=!0;try{(function(D){var R=D.callback,U=D.args;switch(U.length){case 0:R();break;case 1:R(U[0]);break;case 2:R(U[0],U[1]);break;case 3:R(U[0],U[1],U[2]);break;default:R.apply(n,U)}})(S)}finally{s(T),p=!1}}}}function y(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(_)===0&&h(+T.data.slice(_.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Xt)),Xt.exports}var Se=Oe();const Ae=ve(Se);var Te=Gt('<meta name="description" content="Converter for heif">'),ze=Gt('<div class="encoding-options"><label>Quality: <input type="range" min="0" max="100"> <span> </span></label> <label><input type="checkbox"> Lossless</label> <label><input type="checkbox"> SharpYUV</label></div>'),Ce=Gt('<p><a download="converted.zip">Download zip</a></p>'),Ie=Gt('<div class="text-column"><label><input type="checkbox">   </label> <!>  <br> <input type="file" multiple accept="image/*"> <!></div>');function Ue(et,kt){ae(kt,!1);let m=Nt(!0),B=Nt(80),b=Nt(!1),f=Nt(!1),a=Nt(void 0);function n(){if(!At(m))return{quality:At(B),lossless:At(b),sharpYUV:At(f)}}me(()=>{At(a)&&(URL.revokeObjectURL(At(a)),Lt(a,void 0))});async function c(s){const h=Array.from(s.target.files??[]);if(!h.length)return;const y=xe.pool(Ee,{workerOpts:{type:"module"}}),T=h.map(async S=>{try{if(S.type==="image/heic"||S.type==="image/heif")return console.warn(`Skipping ${S.name} as it is already in HEIC format.`),S;const D=await y.exec("jsEncodeImages",[S,n()]);if(D.error)throw console.error(`Error encoding ${S.name}`,D.error),D.error;const R=S.name.replace(/\.[^/.]+$/,"")+".heic";return new File([D.data],R,{type:"image/heic"})}catch(D){throw console.error(`Error processing file ${S.name}:`,D),D}});try{const S=new Ae;await Promise.all(T).then(R=>{R.forEach(U=>{U instanceof File&&S.file(U.name,U)})});const D=await S.generateAsync({type:"blob"});At(a)&&URL.revokeObjectURL(At(a)),Lt(a,URL.createObjectURL(D))}finally{y.terminate()}}pe();var g=Ie();he(s=>{var h=Te();fe.title="About",Mt(s,h)});var x=Bt(g),_=Bt(x);Zt(_),$t(),Dt(x);var w=Wt(x,2);{var i=s=>{var h=ze(),y=Bt(h),T=Wt(Bt(y));Zt(T);var S=Wt(T,2),D=Bt(S,!0);Dt(S),Dt(y);var R=Wt(y,2),U=Bt(R);Zt(U),$t(),Dt(R);var j=Wt(R,2),G=Bt(j);Zt(G),$t(),Dt(j),Dt(h),Jt(()=>ce(D,At(B))),_e(T,()=>At(B),Q=>Lt(B,Q)),Kt(U,()=>At(b),Q=>Lt(b,Q)),Kt(G,()=>At(f),Q=>Lt(f,Q)),Mt(s,h)};Qt(w,s=>{At(m)||s(i)})}var p=Wt(w,4),r=Wt(p,2);{var l=s=>{var h=Ce(),y=Bt(h);Dt(h),Jt(()=>de(y,"href",At(a))),Mt(s,h)};Qt(r,s=>{At(a)&&s(l)})}Dt(g),Kt(_,()=>At(m),s=>Lt(m,s)),le("change",p,c),Mt(et,g),ue()}export{Ue as component};
