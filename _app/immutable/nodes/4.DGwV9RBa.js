import{t as Xt,a as Zt}from"../chunks/Ea50xoAq.js";import"../chunks/C8hlWbzK.js";import{w as re,ab as ne,h as ie,ax as se,p as ae,y as jt,a as ue,$ as fe,c as Dt,s as Ft,a9 as Vt,r as Wt,al as Ht,ak as qt,t as le}from"../chunks/9F2vzMZ2.js";import{l as oe,e as ce,s as he}from"../chunks/DDleSGqJ.js";import{i as de}from"../chunks/DgeTr_Ph.js";import{h as pe}from"../chunks/Do36sPF_.js";import{r as Gt}from"../chunks/DvF3j95z.js";import{i as me}from"../chunks/CKQyVXh9.js";import{a as _e}from"../chunks/D7XNQ8p4.js";function ve(tt,kt,v=kt){var P=se();oe(tt,"input",k=>{var f=k?tt.defaultValue:tt.value;if(f=$t(tt)?Kt(f):f,v(f),P&&f!==(f=kt())){var a=tt.selectionStart,n=tt.selectionEnd;tt.value=f??"",n!==null&&(tt.selectionStart=a,tt.selectionEnd=Math.min(n,tt.value.length))}}),(ie&&tt.defaultValue!==tt.value||re(kt)==null&&tt.value)&&v($t(tt)?Kt(tt.value):tt.value),ne(()=>{var k=kt();$t(tt)&&k===Kt(tt.value)||tt.type==="date"&&!k&&!tt.value||k!==tt.value&&(tt.value=k??"")})}function Jt(tt,kt,v=kt){oe(tt,"change",P=>{var k=P?tt.defaultChecked:tt.checked;v(k)}),(ie&&tt.defaultChecked!==tt.checked||re(kt)==null)&&v(tt.checked),ne(()=>{var P=kt();tt.checked=!!P})}function $t(tt){var kt=tt.type;return kt==="number"||kt==="range"}function Kt(tt){return tt===""?null:+tt}var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ge(tt){return tt&&tt.__esModule&&Object.prototype.hasOwnProperty.call(tt,"default")?tt.default:tt}function we(tt){if(Object.prototype.hasOwnProperty.call(tt,"__esModule"))return tt;var kt=tt.default;if(typeof kt=="function"){var v=function P(){return this instanceof P?Reflect.construct(kt,arguments,this.constructor):kt.apply(this,arguments)};v.prototype=kt.prototype}else v={};return Object.defineProperty(v,"__esModule",{value:!0}),Object.keys(tt).forEach(function(P){var k=Object.getOwnPropertyDescriptor(tt,P);Object.defineProperty(v,P,k.get?k:{enumerable:!0,get:function(){return tt[P]}})}),v}var Nt={exports:{}};const ye={},be=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),Lt=we(be);/**
 * workerpool.js
 * https://github.com/josdejong/workerpool
 *
 * Offload tasks to a pool of workers on node.js and in the browser.
 *
 * @version 9.2.0
 * @date    2024-10-11
 *
 * @license
 * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */var ke=Nt.exports,Qt;function xe(){return Qt||(Qt=1,function(tt,kt){(function(v,P){P(kt)})(ke,function(v){var P={},k={exports:{}};(function(l){var O=function(R){return typeof R<"u"&&R.versions!=null&&R.versions.node!=null&&R+""=="[object process]"};l.exports.isNode=O,l.exports.platform=typeof process<"u"&&O(process)?"node":"browser";var S=l.exports.platform==="node"&&Lt;l.exports.isMainThread=l.exports.platform==="node"?(!S||S.isMainThread)&&!process.connected:typeof Window<"u",l.exports.cpus=l.exports.platform==="browser"?self.navigator.hardwareConcurrency:Lt.cpus().length})(k);var f=k.exports,a={},n;function c(){if(n)return a;n=1;function l(R,Z){var E=this;if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(typeof R!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var V=[],Q=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var rt=function(N,X){V.push(N),Q.push(X)};this.then=function(G,N){return new l(function(X,st){var dt=G?O(G,X,st):X,wt=N?O(N,X,st):st;rt(dt,wt)},E)};var vt=function(N){return E.resolved=!0,E.rejected=!1,E.pending=!1,V.forEach(function(X){X(N)}),rt=function(st,dt){st(N)},vt=K=function(){},E},K=function(N){return E.resolved=!1,E.rejected=!0,E.pending=!1,Q.forEach(function(X){X(N)}),rt=function(st,dt){dt(N)},vt=K=function(){},E};this.cancel=function(){return Z?Z.cancel():K(new S),E},this.timeout=function(G){if(Z)Z.timeout(G);else{var N=setTimeout(function(){K(new x("Promise timed out after "+G+" ms"))},G);E.always(function(){clearTimeout(N)})}return E},R(function(G){vt(G)},function(G){K(G)})}function O(R,Z,E){return function(V){try{var Q=R(V);Q&&typeof Q.then=="function"&&typeof Q.catch=="function"?Q.then(Z,E):Z(Q)}catch(rt){E(rt)}}}l.prototype.catch=function(R){return this.then(null,R)},l.prototype.always=function(R){return this.then(R,R)},l.prototype.finally=function(R){var Z=this,E=function(){return new l(function(Q){return Q()}).then(R).then(function(){return Z})};return this.then(E,E)},l.all=function(R){return new l(function(Z,E){var V=R.length,Q=[];V?R.forEach(function(rt,vt){rt.then(function(K){Q[vt]=K,V--,V==0&&Z(Q)},function(K){V=0,E(K)})}):Z(Q)})},l.defer=function(){var R={};return R.promise=new l(function(Z,E){R.resolve=Z,R.reject=E}),R};function S(R){this.message=R||"promise cancelled",this.stack=new Error().stack}S.prototype=new Error,S.prototype.constructor=Error,S.prototype.name="CancellationError",l.CancellationError=S;function x(R){this.message=R||"timeout exceeded",this.stack=new Error().stack}return x.prototype=new Error,x.prototype.constructor=Error,x.prototype.name="TimeoutError",l.TimeoutError=x,a.Promise=l,a}function m(l,O){(O==null||O>l.length)&&(O=l.length);for(var S=0,x=Array(O);S<O;S++)x[S]=l[S];return x}function w(l,O){var S=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!S){if(Array.isArray(l)||(S=o(l))||O){S&&(l=S);var x=0,R=function(){};return{s:R,n:function(){return x>=l.length?{done:!0}:{done:!1,value:l[x++]}},e:function(Q){throw Q},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,E=!0,V=!1;return{s:function(){S=S.call(l)},n:function(){var Q=S.next();return E=Q.done,Q},e:function(Q){V=!0,Z=Q},f:function(){try{E||S.return==null||S.return()}finally{if(V)throw Z}}}}function g(l,O,S){return(O=r(O))in l?Object.defineProperty(l,O,{value:S,enumerable:!0,configurable:!0,writable:!0}):l[O]=S,l}function _(l,O){var S=Object.keys(l);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);O&&(x=x.filter(function(R){return Object.getOwnPropertyDescriptor(l,R).enumerable})),S.push.apply(S,x)}return S}function i(l){for(var O=1;O<arguments.length;O++){var S=arguments[O]!=null?arguments[O]:{};O%2?_(Object(S),!0).forEach(function(x){g(l,x,S[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(S)):_(Object(S)).forEach(function(x){Object.defineProperty(l,x,Object.getOwnPropertyDescriptor(S,x))})}return l}function p(l,O){if(typeof l!="object"||!l)return l;var S=l[Symbol.toPrimitive];if(S!==void 0){var x=S.call(l,O);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(l)}function r(l){var O=p(l,"string");return typeof O=="symbol"?O:O+""}function s(l){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},s(l)}function o(l,O){if(l){if(typeof l=="string")return m(l,O);var S={}.toString.call(l).slice(8,-1);return S==="Object"&&l.constructor&&(S=l.constructor.name),S==="Map"||S==="Set"?Array.from(l):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?m(l,O):void 0}}var h={exports:{}},b={},T;function A(){return T||(T=1,b.validateOptions=function(O,S,x){if(O){var R=O?Object.keys(O):[],Z=R.find(function(V){return!S.includes(V)});if(Z)throw new Error('Object "'+x+'" contains an unknown option "'+Z+'"');var E=S.find(function(V){return Object.prototype[V]&&!R.includes(V)});if(E)throw new Error('Object "'+x+'" contains an inherited option "'+E+'" which is not defined in the object itself but in its prototype. Only plain objects are allowed. Please remove the option from the prototype or override it with a value "undefined".');return O}},b.workerOptsNames=["credentials","name","type"],b.forkOptsNames=["cwd","detached","env","execPath","execArgv","gid","serialization","signal","killSignal","silent","stdio","uid","windowsVerbatimArguments","timeout"],b.workerThreadOptsNames=["argv","env","eval","execArgv","stdin","stdout","stderr","workerData","trackUnmanagedFds","transferList","resourceLimits","name"]),b}var D,B;function U(){return B||(B=1,D=`!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).worker=n()}(this,(function(){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={};var r=function(e,n){this.message=e,this.transfer=n},o={};function i(e,n){var t=this;if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");var r=[],o=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var a=function(e,n){r.push(e),o.push(n)};this.then=function(e,n){return new i((function(t,r){var o=e?u(e,t,r):t,i=n?u(n,t,r):r;a(o,i)}),t)};var f=function(e){return t.resolved=!0,t.rejected=!1,t.pending=!1,r.forEach((function(n){n(e)})),a=function(n,t){n(e)},f=d=function(){},t},d=function(e){return t.resolved=!1,t.rejected=!0,t.pending=!1,o.forEach((function(n){n(e)})),a=function(n,t){t(e)},f=d=function(){},t};this.cancel=function(){return n?n.cancel():d(new s),t},this.timeout=function(e){if(n)n.timeout(e);else{var r=setTimeout((function(){d(new c("Promise timed out after "+e+" ms"))}),e);t.always((function(){clearTimeout(r)}))}return t},e((function(e){f(e)}),(function(e){d(e)}))}function u(e,n,t){return function(r){try{var o=e(r);o&&"function"==typeof o.then&&"function"==typeof o.catch?o.then(n,t):n(o)}catch(e){t(e)}}}function s(e){this.message=e||"promise cancelled",this.stack=(new Error).stack}function c(e){this.message=e||"timeout exceeded",this.stack=(new Error).stack}return i.prototype.catch=function(e){return this.then(null,e)},i.prototype.always=function(e){return this.then(e,e)},i.prototype.finally=function(e){var n=this,t=function(){return new i((function(e){return e()})).then(e).then((function(){return n}))};return this.then(t,t)},i.all=function(e){return new i((function(n,t){var r=e.length,o=[];r?e.forEach((function(e,i){e.then((function(e){o[i]=e,0==--r&&n(o)}),(function(e){r=0,t(e)}))})):n(o)}))},i.defer=function(){var e={};return e.promise=new i((function(n,t){e.resolve=n,e.reject=t})),e},s.prototype=new Error,s.prototype.constructor=Error,s.prototype.name="CancellationError",i.CancellationError=s,c.prototype=new Error,c.prototype.constructor=Error,c.prototype.name="TimeoutError",i.TimeoutError=c,o.Promise=i,function(n){var t=r,i=o.Promise,u="__workerpool-cleanup__",s={exit:function(){}},c={addAbortListener:function(e){s.abortListeners.push(e)},emit:s.emit};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)s.on=function(e,n){addEventListener(e,(function(e){n(e.data)}))},s.send=function(e,n){n?postMessage(e,n):postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");var a;try{a=require("worker_threads")}catch(n){if("object"!==e(n)||null===n||"MODULE_NOT_FOUND"!==n.code)throw n}if(a&&null!==a.parentPort){var f=a.parentPort;s.send=f.postMessage.bind(f),s.on=f.on.bind(f),s.exit=process.exit.bind(process)}else s.on=process.on.bind(process),s.send=function(e){process.send(e)},s.on("disconnect",(function(){process.exit(1)})),s.exit=process.exit.bind(process)}function d(e){return Object.getOwnPropertyNames(e).reduce((function(n,t){return Object.defineProperty(n,t,{value:e[t],enumerable:!0})}),{})}function l(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}s.methods={},s.methods.run=function(e,n){var t=new Function("return ("+e+").apply(this, arguments);");return t.worker=c,t.apply(t,n)},s.methods.methods=function(){return Object.keys(s.methods)},s.terminationHandler=void 0,s.abortListenerTimeout=1e3,s.abortListeners=[],s.terminateAndExit=function(e){var n=function(){s.exit(e)};if(!s.terminationHandler)return n();var t=s.terminationHandler(e);return l(t)?(t.then(n,n),t):(n(),new i((function(e,n){n(new Error("Worker terminating"))})))},s.cleanup=function(e){if(!s.abortListeners.length)return s.send({id:e,method:u,error:d(new Error("Worker terminating"))}),new i((function(e){e()}));var n,t=s.abortListeners.map((function(e){return e()})),r=new i((function(e,t){n=setTimeout((function(){t(new Error("Timeout occured waiting for abort handler, killing worker"))}),s.abortListenerTimeout)})),o=i.all(t).then((function(){clearTimeout(n),s.abortListeners.length||(s.abortListeners=[])}),(function(){clearTimeout(n),s.exit()}));return i.all([o,r]).then((function(){s.send({id:e,method:u,error:null})}),(function(n){s.send({id:e,method:u,error:n?d(n):null})}))};var p=null;s.on("message",(function(e){if("__workerpool-terminate__"===e)return s.terminateAndExit(0);if(e.method===u)return s.cleanup(e.id);try{var n=s.methods[e.method];if(!n)throw new Error('Unknown method "'+e.method+'"');p=e.id;var r=n.apply(n,e.params);l(r)?r.then((function(n){n instanceof t?s.send({id:e.id,result:n.message,error:null},n.transfer):s.send({id:e.id,result:n,error:null}),p=null})).catch((function(n){s.send({id:e.id,result:null,error:d(n)}),p=null})):(r instanceof t?s.send({id:e.id,result:r.message,error:null},r.transfer):s.send({id:e.id,result:r,error:null}),p=null)}catch(n){s.send({id:e.id,result:null,error:d(n)})}})),s.register=function(e,n){if(e)for(var t in e)e.hasOwnProperty(t)&&(s.methods[t]=e[t],s.methods[t].worker=c);n&&(s.terminationHandler=n.onTerminate,s.abortListenerTimeout=n.abortListenerTimeout||1e3),s.send("ready")},s.emit=function(e){if(p){if(e instanceof t)return void s.send({id:p,isEvent:!0,payload:e.message},e.transfer);s.send({id:p,isEvent:!0,payload:e})}},n.add=s.register,n.emit=s.emit}(t),n(t)}));
//# sourceMappingURL=worker.min.js.map
`),D}var j;function q(){if(j)return h.exports;j=1;var l=c(),O=l.Promise,S=f,x=A(),R=x.validateOptions,Z=x.forkOptsNames,E=x.workerThreadOptsNames,V=x.workerOptsNames,Q="__workerpool-terminate__",rt="__workerpool-cleanup__";function vt(){var it=G();if(!it)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return it}function K(){if(typeof Worker!="function"&&((typeof Worker>"u"?"undefined":s(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function G(){try{return Lt}catch(it){if(s(it)==="object"&&it!==null&&it.code==="MODULE_NOT_FOUND")return null;throw it}}function N(){if(S.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var it=new Blob([U()],{type:"text/javascript"});return window.URL.createObjectURL(it)}else return __dirname+"/worker.js"}function X(it,ut){if(ut.workerType==="web")return K(),st(it,ut.workerOpts,Worker);if(ut.workerType==="thread")return $=vt(),dt(it,$,ut);if(ut.workerType==="process"||!ut.workerType)return wt(it,St(ut),Lt);if(S.platform==="browser")return K(),st(it,ut.workerOpts,Worker);var $=G();return $?dt(it,$,ut):wt(it,St(ut),Lt)}function st(it,ut,$){R(ut,V,"workerOpts");var ft=new $(it,ut);return ft.isBrowserWorker=!0,ft.on=function(ct,_t){this.addEventListener(ct,function(gt){_t(gt.data)})},ft.send=function(ct,_t){this.postMessage(ct,_t)},ft}function dt(it,ut,$){var ft,ct;R($==null?void 0:$.workerThreadOpts,E,"workerThreadOpts");var _t=new ut.Worker(it,i({stdout:(ft=$==null?void 0:$.emitStdStreams)!==null&&ft!==void 0?ft:!1,stderr:(ct=$==null?void 0:$.emitStdStreams)!==null&&ct!==void 0?ct:!1},$==null?void 0:$.workerThreadOpts));return _t.isWorkerThread=!0,_t.send=function(gt,pt){this.postMessage(gt,pt)},_t.kill=function(){return this.terminate(),!0},_t.disconnect=function(){this.terminate()},$!=null&&$.emitStdStreams&&(_t.stdout.on("data",function(gt){return _t.emit("stdout",gt)}),_t.stderr.on("data",function(gt){return _t.emit("stderr",gt)})),_t}function wt(it,ut,$){R(ut.forkOpts,Z,"forkOpts");var ft=$.fork(it,ut.forkArgs,ut.forkOpts),ct=ft.send;return ft.send=function(_t){return ct.call(ft,_t)},ut.emitStdStreams&&(ft.stdout.on("data",function(_t){return ft.emit("stdout",_t)}),ft.stderr.on("data",function(_t){return ft.emit("stderr",_t)})),ft.isChildProcess=!0,ft}function St(it){it=it||{};var ut=process.execArgv.join(" "),$=ut.indexOf("--inspect")!==-1,ft=ut.indexOf("--debug-brk")!==-1,ct=[];return $&&(ct.push("--inspect="+it.debugPort),ft&&ct.push("--debug-brk")),process.execArgv.forEach(function(_t){_t.indexOf("--max-old-space-size")>-1&&ct.push(_t)}),Object.assign({},it,{forkArgs:it.forkArgs,forkOpts:Object.assign({},it.forkOpts,{execArgv:(it.forkOpts&&it.forkOpts.execArgv||[]).concat(ct),stdio:it.emitStdStreams?"pipe":void 0})})}function Tt(it){for(var ut=new Error(""),$=Object.keys(it),ft=0;ft<$.length;ft++)ut[$[ft]]=it[$[ft]];return ut}function zt(it,ut){if(Object.keys(it.processing).length===1){var $=Object.values(it.processing)[0];$.options&&typeof $.options.on=="function"&&$.options.on(ut)}}function Pt(it,ut){var $=this,ft=ut||{};this.script=it||N(),this.worker=X(this.script,ft),this.debugPort=ft.debugPort,this.forkOpts=ft.forkOpts,this.forkArgs=ft.forkArgs,this.workerOpts=ft.workerOpts,this.workerThreadOpts=ft.workerThreadOpts,this.workerTerminateTimeout=ft.workerTerminateTimeout,it||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("stdout",function(pt){zt($,{stdout:pt.toString()})}),this.worker.on("stderr",function(pt){zt($,{stderr:pt.toString()})}),this.worker.on("message",function(pt){if(!$.terminated)if(typeof pt=="string"&&pt==="ready")$.worker.ready=!0,_t();else{var At=pt.id,xt=$.processing[At];if(xt!==void 0&&(pt.isEvent?xt.options&&typeof xt.options.on=="function"&&xt.options.on(pt.payload):(delete $.processing[At],$.terminating===!0&&$.terminate(),pt.error?xt.resolver.reject(Tt(pt.error)):xt.resolver.resolve(pt.result))),pt.method===rt){var Ct=$.tracking[pt.id];Ct!==void 0&&(pt.error?(clearTimeout(Ct.timeoutId),Ct.resolver.reject(Tt(pt.error))):($.tracking&&clearTimeout(Ct.timeoutId),Ct.resolver.resolve(Ct.result))),delete $.tracking[At]}}});function ct(pt){$.terminated=!0;for(var At in $.processing)$.processing[At]!==void 0&&$.processing[At].resolver.reject(pt);$.processing=Object.create(null)}function _t(){var pt=w($.requestQueue.splice(0)),At;try{for(pt.s();!(At=pt.n()).done;){var xt=At.value;$.worker.send(xt.message,xt.transfer)}}catch(Ct){pt.e(Ct)}finally{pt.f()}}var gt=this.worker;this.worker.on("error",ct),this.worker.on("exit",function(pt,At){var xt=`Workerpool Worker terminated Unexpectedly
`;xt+="    exitCode: `"+pt+"`\n",xt+="    signalCode: `"+At+"`\n",xt+="    workerpool.script: `"+$.script+"`\n",xt+="    spawnArgs: `"+gt.spawnargs+"`\n",xt+="    spawnfile: `"+gt.spawnfile+"`\n",xt+="    stdout: `"+gt.stdout+"`\n",xt+="    stderr: `"+gt.stderr+"`\n",ct(new Error(xt))}),this.processing=Object.create(null),this.tracking=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}return Pt.prototype.methods=function(){return this.exec("methods")},Pt.prototype.exec=function(it,ut,$,ft){$||($=O.defer());var ct=++this.lastId;this.processing[ct]={id:ct,resolver:$,options:ft};var _t={message:{id:ct,method:it,params:ut},transfer:ft&&ft.transfer};this.terminated?$.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(_t.message,_t.transfer):this.requestQueue.push(_t);var gt=this;return $.promise.catch(function(pt){if(pt instanceof O.CancellationError||pt instanceof O.TimeoutError)return gt.tracking[ct]={id:ct,resolver:O.defer()},delete gt.processing[ct],gt.tracking[ct].resolver.promise=gt.tracking[ct].resolver.promise.catch(function(At){delete gt.tracking[ct];var xt=gt.terminateAndNotify(!0).then(function(){throw At},function(Ct){throw Ct});return xt}),gt.worker.send({id:ct,method:rt}),gt.tracking[ct].timeoutId=setTimeout(function(){gt.tracking[ct].resolver.reject(pt)},gt.workerTerminateTimeout),gt.tracking[ct].resolver.promise;throw pt})},Pt.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},Pt.prototype.terminate=function(it,ut){var $=this;if(it){for(var ft in this.processing)this.processing[ft]!==void 0&&this.processing[ft].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}for(var ct=0,_t=Object.values($.tracking);ct<_t.length;ct++){var gt=_t[ct];clearTimeout(gt.timeoutId),gt.resolver.reject(new Error("Worker Terminating"))}if($.tracking=Object.create(null),typeof ut=="function"&&(this.terminationHandler=ut),this.busy())this.terminating=!0;else{var pt=function(Ct){if($.terminated=!0,$.cleaning=!1,$.worker!=null&&$.worker.removeAllListeners&&$.worker.removeAllListeners("message"),$.worker=null,$.terminating=!1,$.terminationHandler)$.terminationHandler(Ct,$);else if(Ct)throw Ct};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){pt(new Error("worker already killed!"));return}var At=setTimeout(function(){$.worker&&$.worker.kill()},this.workerTerminateTimeout);this.worker.once("exit",function(){clearTimeout(At),$.worker&&($.worker.killed=!0),pt()}),this.worker.ready?this.worker.send(Q):this.requestQueue.push({message:Q}),this.cleaning=!0;return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");pt()}},Pt.prototype.terminateAndNotify=function(it,ut){var $=O.defer();return ut&&$.promise.timeout(ut),this.terminate(it,function(ft,ct){ft?$.reject(ft):$.resolve(ct)}),$.promise},h.exports=Pt,h.exports._tryRequireWorkerThreads=G,h.exports._setupProcessWorker=wt,h.exports._setupBrowserWorker=st,h.exports._setupWorkerThreadWorker=dt,h.exports.ensureWorkerThreads=vt,h.exports}var et,y;function W(){if(y)return et;y=1;var l=65535;et=O;function O(){this.ports=Object.create(null),this.length=0}return O.prototype.nextAvailableStartingAt=function(S){for(;this.ports[S]===!0;)S++;if(S>=l)throw new Error("WorkerPool debug port limit reached: "+S+">= "+l);return this.ports[S]=!0,this.length++,S},O.prototype.releasePort=function(S){delete this.ports[S],this.length--},et}var e,F;function at(){if(F)return e;F=1;var l=c(),O=l.Promise,S=q(),x=f,R=W(),Z=new R;function E(K,G){typeof K=="string"?this.script=K||null:(this.script=null,G=K),this.workers=[],this.tasks=[],G=G||{},this.forkArgs=Object.freeze(G.forkArgs||[]),this.forkOpts=Object.freeze(G.forkOpts||{}),this.workerOpts=Object.freeze(G.workerOpts||{}),this.workerThreadOpts=Object.freeze(G.workerThreadOpts||{}),this.debugPortStart=G.debugPortStart||43210,this.nodeWorker=G.nodeWorker,this.workerType=G.workerType||G.nodeWorker||"auto",this.maxQueueSize=G.maxQueueSize||1/0,this.workerTerminateTimeout=G.workerTerminateTimeout||1e3,this.onCreateWorker=G.onCreateWorker||function(){return null},this.onTerminateWorker=G.onTerminateWorker||function(){return null},this.emitStdStreams=G.emitStdStreams||!1,G&&"maxWorkers"in G?(V(G.maxWorkers),this.maxWorkers=G.maxWorkers):this.maxWorkers=Math.max((x.cpus||4)-1,1),G&&"minWorkers"in G&&(G.minWorkers==="max"?this.minWorkers=this.maxWorkers:(Q(G.minWorkers),this.minWorkers=G.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&S.ensureWorkerThreads()}E.prototype.exec=function(K,G,N){if(G&&!Array.isArray(G))throw new TypeError('Array expected as argument "params"');if(typeof K=="string"){var X=O.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var st=this.tasks,dt={method:K,params:G,resolver:X,timeout:null,options:N};st.push(dt);var wt=X.promise.timeout;return X.promise.timeout=function(Tt){return st.indexOf(dt)!==-1?(dt.timeout=Tt,X.promise):wt.call(X.promise,Tt)},this._next(),X.promise}else{if(typeof K=="function")return this.exec("run",[String(K),G],N);throw new TypeError('Function or string expected as argument "method"')}},E.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var K=this;return this.exec("methods").then(function(G){var N={};return G.forEach(function(X){N[X]=function(){return K.exec(X,Array.prototype.slice.call(arguments))}}),N})},E.prototype._next=function(){if(this.tasks.length>0){var K=this._getWorker();if(K){var G=this,N=this.tasks.shift();if(N.resolver.promise.pending){var X=K.exec(N.method,N.params,N.resolver,N.options).then(G._boundNext).catch(function(){if(K.terminated)return G._removeWorker(K)}).then(function(){G._next()});typeof N.timeout=="number"&&X.timeout(N.timeout)}else G._next()}}},E.prototype._getWorker=function(){for(var K=this.workers,G=0;G<K.length;G++){var N=K[G];if(N.busy()===!1)return N}return K.length<this.maxWorkers?(N=this._createWorkerHandler(),K.push(N),N):null},E.prototype._removeWorker=function(K){var G=this;return Z.releasePort(K.debugPort),this._removeWorkerFromList(K),this._ensureMinWorkers(),new O(function(N,X){K.terminate(!1,function(st){G.onTerminateWorker({forkArgs:K.forkArgs,forkOpts:K.forkOpts,workerThreadOpts:K.workerThreadOpts,script:K.script}),st?X(st):N(K)})})},E.prototype._removeWorkerFromList=function(K){var G=this.workers.indexOf(K);G!==-1&&this.workers.splice(G,1)},E.prototype.terminate=function(K,G){var N=this;this.tasks.forEach(function(St){St.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var X=function(Tt){Z.releasePort(Tt.debugPort),this._removeWorkerFromList(Tt)},st=X.bind(this),dt=[],wt=this.workers.slice();return wt.forEach(function(St){var Tt=St.terminateAndNotify(K,G).then(st).always(function(){N.onTerminateWorker({forkArgs:St.forkArgs,forkOpts:St.forkOpts,workerThreadOpts:St.workerThreadOpts,script:St.script})});dt.push(Tt)}),O.all(dt)},E.prototype.stats=function(){var K=this.workers.length,G=this.workers.filter(function(N){return N.busy()}).length;return{totalWorkers:K,busyWorkers:G,idleWorkers:K-G,pendingTasks:this.tasks.length,activeTasks:G}},E.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var K=this.workers.length;K<this.minWorkers;K++)this.workers.push(this._createWorkerHandler())},E.prototype._createWorkerHandler=function(){var K=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerOpts:this.workerOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new S(K.script||this.script,{forkArgs:K.forkArgs||this.forkArgs,forkOpts:K.forkOpts||this.forkOpts,workerOpts:K.workerOpts||this.workerOpts,workerThreadOpts:K.workerThreadOpts||this.workerThreadOpts,debugPort:Z.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout,emitStdStreams:this.emitStdStreams})};function V(K){if(!rt(K)||!vt(K)||K<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function Q(K){if(!rt(K)||!vt(K)||K<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function rt(K){return typeof K=="number"}function vt(K){return Math.round(K)==K}return e=E,e}var M={},lt,H;function ot(){if(H)return lt;H=1;function l(O,S){this.message=O,this.transfer=S}return lt=l,lt}var C;function z(){return C||(C=1,function(l){var O=ot(),S=c().Promise,x="__workerpool-terminate__",R="__workerpool-cleanup__",Z=1e3,E={exit:function(){}},V={addAbortListener:function(X){E.abortListeners.push(X)},emit:E.emit};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")E.on=function(N,X){addEventListener(N,function(st){X(st.data)})},E.send=function(N,X){X?postMessage(N,X):postMessage(N)};else if(typeof process<"u"){var Q;try{Q=Lt}catch(N){if(!(s(N)==="object"&&N!==null&&N.code==="MODULE_NOT_FOUND"))throw N}if(Q&&Q.parentPort!==null){var rt=Q.parentPort;E.send=rt.postMessage.bind(rt),E.on=rt.on.bind(rt),E.exit=process.exit.bind(process)}else E.on=process.on.bind(process),E.send=function(N){process.send(N)},E.on("disconnect",function(){process.exit(1)}),E.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function vt(N){return Object.getOwnPropertyNames(N).reduce(function(X,st){return Object.defineProperty(X,st,{value:N[st],enumerable:!0})},{})}function K(N){return N&&typeof N.then=="function"&&typeof N.catch=="function"}E.methods={},E.methods.run=function(X,st){var dt=new Function("return ("+X+").apply(this, arguments);");return dt.worker=V,dt.apply(dt,st)},E.methods.methods=function(){return Object.keys(E.methods)},E.terminationHandler=void 0,E.abortListenerTimeout=Z,E.abortListeners=[],E.terminateAndExit=function(N){var X=function(){E.exit(N)};if(!E.terminationHandler)return X();var st=E.terminationHandler(N);return K(st)?(st.then(X,X),st):(X(),new S(function(dt,wt){wt(new Error("Worker terminating"))}))},E.cleanup=function(N){if(!E.abortListeners.length)return E.send({id:N,method:R,error:vt(new Error("Worker terminating"))}),new S(function(zt){zt()});var X=function(){E.exit()},st=function(){E.abortListeners.length||(E.abortListeners=[])},dt=E.abortListeners.map(function(zt){return zt()}),wt,St=new S(function(zt,Pt){wt=setTimeout(function(){Pt(new Error("Timeout occured waiting for abort handler, killing worker"))},E.abortListenerTimeout)}),Tt=S.all(dt).then(function(){clearTimeout(wt),st()},function(){clearTimeout(wt),X()});return S.all([Tt,St]).then(function(){E.send({id:N,method:R,error:null})},function(zt){E.send({id:N,method:R,error:zt?vt(zt):null})})};var G=null;E.on("message",function(N){if(N===x)return E.terminateAndExit(0);if(N.method===R)return E.cleanup(N.id);try{var X=E.methods[N.method];if(X){G=N.id;var st=X.apply(X,N.params);K(st)?st.then(function(dt){dt instanceof O?E.send({id:N.id,result:dt.message,error:null},dt.transfer):E.send({id:N.id,result:dt,error:null}),G=null}).catch(function(dt){E.send({id:N.id,result:null,error:vt(dt)}),G=null}):(st instanceof O?E.send({id:N.id,result:st.message,error:null},st.transfer):E.send({id:N.id,result:st,error:null}),G=null)}else throw new Error('Unknown method "'+N.method+'"')}catch(dt){E.send({id:N.id,result:null,error:vt(dt)})}}),E.register=function(N,X){if(N)for(var st in N)N.hasOwnProperty(st)&&(E.methods[st]=N[st],E.methods[st].worker=V);X&&(E.terminationHandler=X.onTerminate,E.abortListenerTimeout=X.abortListenerTimeout||Z),E.send("ready")},E.emit=function(N){if(G){if(N instanceof O){E.send({id:G,isEvent:!0,payload:N.message},N.transfer);return}E.send({id:G,isEvent:!0,payload:N})}},l.add=E.register,l.emit=E.emit}(M)),M}var nt=f.platform,J=f.isMainThread,Y=f.cpus;function yt(l,O){var S=at();return new S(l,O)}var Ot=P.pool=yt;function ht(l,O){var S=z();S.add(l,O)}var mt=P.worker=ht;function Et(l){var O=z();O.emit(l)}var bt=P.workerEmit=Et,Rt=c(),It=Rt.Promise,t=P.Promise=It,L=P.Transfer=ot(),I=P.platform=nt,d=P.isMainThread=J,u=P.cpus=Y;v.Promise=t,v.Transfer=L,v.cpus=u,v.default=P,v.isMainThread=d,v.platform=I,v.pool=Ot,v.worker=mt,v.workerEmit=bt,Object.defineProperty(v,"__esModule",{value:!0})})}(Nt,Nt.exports)),Nt.exports}var Ee=xe();const Oe=""+new URL("../workers/heic-lze3Q2_L.js",import.meta.url).href;function Ut(tt){throw new Error('Could not dynamically require "'+tt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var te;function Se(){return te||(te=1,function(tt,kt){(function(v){tt.exports=v()})(function(){return function v(P,k,f){function a(m,w){if(!k[m]){if(!P[m]){var g=typeof Ut=="function"&&Ut;if(!w&&g)return g(m,!0);if(n)return n(m,!0);var _=new Error("Cannot find module '"+m+"'");throw _.code="MODULE_NOT_FOUND",_}var i=k[m]={exports:{}};P[m][0].call(i.exports,function(p){var r=P[m][1][p];return a(r||p)},i,i.exports,v,P,k,f)}return k[m].exports}for(var n=typeof Ut=="function"&&Ut,c=0;c<f.length;c++)a(f[c]);return a}({1:[function(v,P,k){var f=v("./utils"),a=v("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";k.encode=function(c){for(var m,w,g,_,i,p,r,s=[],o=0,h=c.length,b=h,T=f.getTypeOf(c)!=="string";o<c.length;)b=h-o,g=T?(m=c[o++],w=o<h?c[o++]:0,o<h?c[o++]:0):(m=c.charCodeAt(o++),w=o<h?c.charCodeAt(o++):0,o<h?c.charCodeAt(o++):0),_=m>>2,i=(3&m)<<4|w>>4,p=1<b?(15&w)<<2|g>>6:64,r=2<b?63&g:64,s.push(n.charAt(_)+n.charAt(i)+n.charAt(p)+n.charAt(r));return s.join("")},k.decode=function(c){var m,w,g,_,i,p,r=0,s=0,o="data:";if(c.substr(0,o.length)===o)throw new Error("Invalid base64 input, it looks like a data url.");var h,b=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===n.charAt(64)&&b--,c.charAt(c.length-2)===n.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=a.uint8array?new Uint8Array(0|b):new Array(0|b);r<c.length;)m=n.indexOf(c.charAt(r++))<<2|(_=n.indexOf(c.charAt(r++)))>>4,w=(15&_)<<4|(i=n.indexOf(c.charAt(r++)))>>2,g=(3&i)<<6|(p=n.indexOf(c.charAt(r++))),h[s++]=m,i!==64&&(h[s++]=w),p!==64&&(h[s++]=g);return h}},{"./support":30,"./utils":32}],2:[function(v,P,k){var f=v("./external"),a=v("./stream/DataWorker"),n=v("./stream/Crc32Probe"),c=v("./stream/DataLengthProbe");function m(w,g,_,i,p){this.compressedSize=w,this.uncompressedSize=g,this.crc32=_,this.compression=i,this.compressedContent=p}m.prototype={getContentWorker:function(){var w=new a(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return w.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new a(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(w,g,_){return w.pipe(new n).pipe(new c("uncompressedSize")).pipe(g.compressWorker(_)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},P.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(v,P,k){var f=v("./stream/GenericWorker");k.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},k.DEFLATE=v("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(v,P,k){var f=v("./utils"),a=function(){for(var n,c=[],m=0;m<256;m++){n=m;for(var w=0;w<8;w++)n=1&n?3988292384^n>>>1:n>>>1;c[m]=n}return c}();P.exports=function(n,c){return n!==void 0&&n.length?f.getTypeOf(n)!=="string"?function(m,w,g,_){var i=a,p=_+g;m^=-1;for(var r=_;r<p;r++)m=m>>>8^i[255&(m^w[r])];return-1^m}(0|c,n,n.length,0):function(m,w,g,_){var i=a,p=_+g;m^=-1;for(var r=_;r<p;r++)m=m>>>8^i[255&(m^w.charCodeAt(r))];return-1^m}(0|c,n,n.length,0):0}},{"./utils":32}],5:[function(v,P,k){k.base64=!1,k.binary=!1,k.dir=!1,k.createFolders=!0,k.date=null,k.compression=null,k.compressionOptions=null,k.comment=null,k.unixPermissions=null,k.dosPermissions=null},{}],6:[function(v,P,k){var f=null;f=typeof Promise<"u"?Promise:v("lie"),P.exports={Promise:f}},{lie:37}],7:[function(v,P,k){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=v("pako"),n=v("./utils"),c=v("./stream/GenericWorker"),m=f?"uint8array":"array";function w(g,_){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=_,this.meta={}}k.magic="\b\0",n.inherits(w,c),w.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(m,g.data),!1)},w.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(_){g.push({data:_,meta:g.meta})}},k.compressWorker=function(g){return new w("Deflate",g)},k.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(v,P,k){function f(i,p){var r,s="";for(r=0;r<p;r++)s+=String.fromCharCode(255&i),i>>>=8;return s}function a(i,p,r,s,o,h){var b,T,A=i.file,D=i.compression,B=h!==m.utf8encode,U=n.transformTo("string",h(A.name)),j=n.transformTo("string",m.utf8encode(A.name)),q=A.comment,et=n.transformTo("string",h(q)),y=n.transformTo("string",m.utf8encode(q)),W=j.length!==A.name.length,e=y.length!==q.length,F="",at="",M="",lt=A.dir,H=A.date,ot={crc32:0,compressedSize:0,uncompressedSize:0};p&&!r||(ot.crc32=i.crc32,ot.compressedSize=i.compressedSize,ot.uncompressedSize=i.uncompressedSize);var C=0;p&&(C|=8),B||!W&&!e||(C|=2048);var z=0,nt=0;lt&&(z|=16),o==="UNIX"?(nt=798,z|=function(Y,yt){var Ot=Y;return Y||(Ot=yt?16893:33204),(65535&Ot)<<16}(A.unixPermissions,lt)):(nt=20,z|=function(Y){return 63&(Y||0)}(A.dosPermissions)),b=H.getUTCHours(),b<<=6,b|=H.getUTCMinutes(),b<<=5,b|=H.getUTCSeconds()/2,T=H.getUTCFullYear()-1980,T<<=4,T|=H.getUTCMonth()+1,T<<=5,T|=H.getUTCDate(),W&&(at=f(1,1)+f(w(U),4)+j,F+="up"+f(at.length,2)+at),e&&(M=f(1,1)+f(w(et),4)+y,F+="uc"+f(M.length,2)+M);var J="";return J+=`
\0`,J+=f(C,2),J+=D.magic,J+=f(b,2),J+=f(T,2),J+=f(ot.crc32,4),J+=f(ot.compressedSize,4),J+=f(ot.uncompressedSize,4),J+=f(U.length,2),J+=f(F.length,2),{fileRecord:g.LOCAL_FILE_HEADER+J+U+F,dirRecord:g.CENTRAL_FILE_HEADER+f(nt,2)+J+f(et.length,2)+"\0\0\0\0"+f(z,4)+f(s,4)+U+F+et}}var n=v("../utils"),c=v("../stream/GenericWorker"),m=v("../utf8"),w=v("../crc32"),g=v("../signature");function _(i,p,r,s){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=r,this.encodeFileName=s,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(_,c),_.prototype.push=function(i){var p=i.meta.percent||0,r=this.entriesCount,s=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,c.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:r?(p+100*(r-s-1))/r:100}}))},_.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var p=this.streamFiles&&!i.file.dir;if(p){var r=a(i,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(i){this.accumulate=!1;var p=this.streamFiles&&!i.file.dir,r=a(i,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),p)this.push({data:function(s){return g.DATA_DESCRIPTOR+f(s.crc32,4)+f(s.compressedSize,4)+f(s.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var i=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var r=this.bytesWritten-i,s=function(o,h,b,T,A){var D=n.transformTo("string",A(T));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(o,2)+f(o,2)+f(h,4)+f(b,4)+f(D.length,2)+D}(this.dirRecords.length,r,i,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(i){this._sources.push(i);var p=this;return i.on("data",function(r){p.processChunk(r)}),i.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),i.on("error",function(r){p.error(r)}),this},_.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(i){var p=this._sources;if(!c.prototype.error.call(this,i))return!1;for(var r=0;r<p.length;r++)try{p[r].error(i)}catch{}return!0},_.prototype.lock=function(){c.prototype.lock.call(this);for(var i=this._sources,p=0;p<i.length;p++)i[p].lock()},P.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(v,P,k){var f=v("../compressions"),a=v("./ZipFileWorker");k.generateWorker=function(n,c,m){var w=new a(c.streamFiles,m,c.platform,c.encodeFileName),g=0;try{n.forEach(function(_,i){g++;var p=function(h,b){var T=h||b,A=f[T];if(!A)throw new Error(T+" is not a valid compression method !");return A}(i.options.compression,c.compression),r=i.options.compressionOptions||c.compressionOptions||{},s=i.dir,o=i.date;i._compressWorker(p,r).withStreamInfo("file",{name:_,dir:s,date:o,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=g}catch(_){w.error(_)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(v,P,k){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new f;for(var n in this)typeof this[n]!="function"&&(a[n]=this[n]);return a}}(f.prototype=v("./object")).loadAsync=v("./load"),f.support=v("./support"),f.defaults=v("./defaults"),f.version="3.10.1",f.loadAsync=function(a,n){return new f().loadAsync(a,n)},f.external=v("./external"),P.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(v,P,k){var f=v("./utils"),a=v("./external"),n=v("./utf8"),c=v("./zipEntries"),m=v("./stream/Crc32Probe"),w=v("./nodejsUtils");function g(_){return new a.Promise(function(i,p){var r=_.decompressed.getContentWorker().pipe(new m);r.on("error",function(s){p(s)}).on("end",function(){r.streamInfo.crc32!==_.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}P.exports=function(_,i){var p=this;return i=f.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),w.isNode&&w.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",_,!0,i.optimizedBinaryString,i.base64).then(function(r){var s=new c(i);return s.load(r),s}).then(function(r){var s=[a.Promise.resolve(r)],o=r.files;if(i.checkCRC32)for(var h=0;h<o.length;h++)s.push(g(o[h]));return a.Promise.all(s)}).then(function(r){for(var s=r.shift(),o=s.files,h=0;h<o.length;h++){var b=o[h],T=b.fileNameStr,A=f.resolve(b.fileNameStr);p.file(A,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:i.createFolders}),b.dir||(p.file(A).unsafeOriginalName=T)}return s.zipComment.length&&(p.comment=s.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(v,P,k){var f=v("../utils"),a=v("../stream/GenericWorker");function n(c,m){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(m)}f.inherits(n,a),n.prototype._bindStream=function(c){var m=this;(this._stream=c).pause(),c.on("data",function(w){m.push({data:w,meta:{percent:0}})}).on("error",function(w){m.isPaused?this.generatedError=w:m.error(w)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},n.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},P.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(v,P,k){var f=v("readable-stream").Readable;function a(n,c,m){f.call(this,c),this._helper=n;var w=this;n.on("data",function(g,_){w.push(g)||w._helper.pause(),m&&m(_)}).on("error",function(g){w.emit("error",g)}).on("end",function(){w.push(null)})}v("../utils").inherits(a,f),a.prototype._read=function(){this._helper.resume()},P.exports=a},{"../utils":32,"readable-stream":16}],14:[function(v,P,k){P.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,a);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,a)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var a=new Buffer(f);return a.fill(0),a},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(v,P,k){function f(A,D,B){var U,j=n.getTypeOf(D),q=n.extend(B||{},w);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(A=o(A)),q.createFolders&&(U=s(A))&&h.call(this,U,!0);var et=j==="string"&&q.binary===!1&&q.base64===!1;B&&B.binary!==void 0||(q.binary=!et),(D instanceof g&&D.uncompressedSize===0||q.dir||!D||D.length===0)&&(q.base64=!1,q.binary=!0,D="",q.compression="STORE",j="string");var y=null;y=D instanceof g||D instanceof c?D:p.isNode&&p.isStream(D)?new r(A,D):n.prepareContent(A,D,q.binary,q.optimizedBinaryString,q.base64);var W=new _(A,y,q);this.files[A]=W}var a=v("./utf8"),n=v("./utils"),c=v("./stream/GenericWorker"),m=v("./stream/StreamHelper"),w=v("./defaults"),g=v("./compressedObject"),_=v("./zipObject"),i=v("./generate"),p=v("./nodejsUtils"),r=v("./nodejs/NodejsStreamInputAdapter"),s=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var D=A.lastIndexOf("/");return 0<D?A.substring(0,D):""},o=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},h=function(A,D){return D=D!==void 0?D:w.createFolders,A=o(A),this.files[A]||f.call(this,A,null,{dir:!0,createFolders:D}),this.files[A]};function b(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var D,B,U;for(D in this.files)U=this.files[D],(B=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&A(B,U)},filter:function(A){var D=[];return this.forEach(function(B,U){A(B,U)&&D.push(U)}),D},file:function(A,D,B){if(arguments.length!==1)return A=this.root+A,f.call(this,A,D,B),this;if(b(A)){var U=A;return this.filter(function(q,et){return!et.dir&&U.test(q)})}var j=this.files[this.root+A];return j&&!j.dir?j:null},folder:function(A){if(!A)return this;if(b(A))return this.filter(function(j,q){return q.dir&&A.test(j)});var D=this.root+A,B=h.call(this,D),U=this.clone();return U.root=B.name,U},remove:function(A){A=this.root+A;var D=this.files[A];if(D||(A.slice(-1)!=="/"&&(A+="/"),D=this.files[A]),D&&!D.dir)delete this.files[A];else for(var B=this.filter(function(j,q){return q.name.slice(0,A.length)===A}),U=0;U<B.length;U++)delete this.files[B[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var D,B={};try{if((B=n.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");n.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var U=B.comment||this.comment||"";D=i.generateWorker(this,B,U)}catch(j){(D=new c("error")).error(j)}return new m(D,B.type||"string",B.mimeType)},generateAsync:function(A,D){return this.generateInternalStream(A).accumulate(D)},generateNodeStream:function(A,D){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(D)}};P.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(v,P,k){P.exports=v("stream")},{stream:void 0}],17:[function(v,P,k){var f=v("./DataReader");function a(n){f.call(this,n);for(var c=0;c<this.data.length;c++)n[c]=255&n[c]}v("../utils").inherits(a,f),a.prototype.byteAt=function(n){return this.data[this.zero+n]},a.prototype.lastIndexOfSignature=function(n){for(var c=n.charCodeAt(0),m=n.charCodeAt(1),w=n.charCodeAt(2),g=n.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===c&&this.data[_+1]===m&&this.data[_+2]===w&&this.data[_+3]===g)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(n){var c=n.charCodeAt(0),m=n.charCodeAt(1),w=n.charCodeAt(2),g=n.charCodeAt(3),_=this.readData(4);return c===_[0]&&m===_[1]&&w===_[2]&&g===_[3]},a.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},P.exports=a},{"../utils":32,"./DataReader":18}],18:[function(v,P,k){var f=v("../utils");function a(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var c,m=0;for(this.checkOffset(n),c=this.index+n-1;c>=this.index;c--)m=(m<<8)+this.byteAt(c);return this.index+=n,m},readString:function(n){return f.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},P.exports=a},{"../utils":32}],19:[function(v,P,k){var f=v("./Uint8ArrayReader");function a(n){f.call(this,n)}v("../utils").inherits(a,f),a.prototype.readData=function(n){this.checkOffset(n);var c=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},P.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(v,P,k){var f=v("./DataReader");function a(n){f.call(this,n)}v("../utils").inherits(a,f),a.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},a.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},a.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},a.prototype.readData=function(n){this.checkOffset(n);var c=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},P.exports=a},{"../utils":32,"./DataReader":18}],21:[function(v,P,k){var f=v("./ArrayReader");function a(n){f.call(this,n)}v("../utils").inherits(a,f),a.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,c},P.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(v,P,k){var f=v("../utils"),a=v("../support"),n=v("./ArrayReader"),c=v("./StringReader"),m=v("./NodeBufferReader"),w=v("./Uint8ArrayReader");P.exports=function(g){var _=f.getTypeOf(g);return f.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new m(g):a.uint8array?new w(f.transformTo("uint8array",g)):new n(f.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(v,P,k){k.LOCAL_FILE_HEADER="PK",k.CENTRAL_FILE_HEADER="PK",k.CENTRAL_DIRECTORY_END="PK",k.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",k.ZIP64_CENTRAL_DIRECTORY_END="PK",k.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(v,P,k){var f=v("./GenericWorker"),a=v("../utils");function n(c){f.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(n,f),n.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},P.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(v,P,k){var f=v("./GenericWorker"),a=v("../crc32");function n(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}v("../utils").inherits(n,f),n.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},P.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(v,P,k){var f=v("../utils"),a=v("./GenericWorker");function n(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}f.inherits(n,a),n.prototype.processChunk=function(c){if(c){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+c.data.length}a.prototype.processChunk.call(this,c)},P.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(v,P,k){var f=v("../utils"),a=v("./GenericWorker");function n(c){a.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(w){m.dataIsReady=!0,m.data=w,m.max=w&&w.length||0,m.type=f.getTypeOf(w),m.isPaused||m._tickAndRepeat()},function(w){m.error(w)})}f.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,m);break;case"uint8array":c=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":c=this.data.slice(this.index,m)}return this.index=m,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},P.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(v,P,k){function f(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,n){return this._listeners[a].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,n){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,n)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var n=this;return a.on("data",function(c){n.processChunk(c)}),a.on("end",function(){n.end()}),a.on("error",function(c){n.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,n){return this.extraStreamInfo[a]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},P.exports=f},{}],29:[function(v,P,k){var f=v("../utils"),a=v("./ConvertWorker"),n=v("./GenericWorker"),c=v("../base64"),m=v("../support"),w=v("../external"),g=null;if(m.nodestream)try{g=v("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(p,r){return new w.Promise(function(s,o){var h=[],b=p._internalType,T=p._outputType,A=p._mimeType;p.on("data",function(D,B){h.push(D),r&&r(B)}).on("error",function(D){h=[],o(D)}).on("end",function(){try{var D=function(B,U,j){switch(B){case"blob":return f.newBlob(f.transformTo("arraybuffer",U),j);case"base64":return c.encode(U);default:return f.transformTo(B,U)}}(T,function(B,U){var j,q=0,et=null,y=0;for(j=0;j<U.length;j++)y+=U[j].length;switch(B){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(et=new Uint8Array(y),j=0;j<U.length;j++)et.set(U[j],q),q+=U[j].length;return et;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+B+"'")}}(b,h),A);s(D)}catch(B){o(B)}h=[]}).resume()})}function i(p,r,s){var o=r;switch(r){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=r,this._mimeType=s,f.checkSupport(o),this._worker=p.pipe(new a(o)),p.lock()}catch(h){this._worker=new n("error"),this._worker.error(h)}}i.prototype={accumulate:function(p){return _(this,p)},on:function(p,r){var s=this;return p==="data"?this._worker.on(p,function(o){r.call(s,o.data,o.meta)}):this._worker.on(p,function(){f.delay(r,arguments,s)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},p)}},P.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(v,P,k){if(k.base64=!0,k.array=!0,k.string=!0,k.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",k.nodebuffer=typeof Buffer<"u",k.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")k.blob=!1;else{var f=new ArrayBuffer(0);try{k.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(f),k.blob=a.getBlob("application/zip").size===0}catch{k.blob=!1}}}try{k.nodestream=!!v("readable-stream").Readable}catch{k.nodestream=!1}},{"readable-stream":16}],31:[function(v,P,k){for(var f=v("./utils"),a=v("./support"),n=v("./nodejsUtils"),c=v("./stream/GenericWorker"),m=new Array(256),w=0;w<256;w++)m[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;m[254]=m[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function _(){c.call(this,"utf-8 encode")}k.utf8encode=function(i){return a.nodebuffer?n.newBufferFrom(i,"utf-8"):function(p){var r,s,o,h,b,T=p.length,A=0;for(h=0;h<T;h++)(64512&(s=p.charCodeAt(h)))==55296&&h+1<T&&(64512&(o=p.charCodeAt(h+1)))==56320&&(s=65536+(s-55296<<10)+(o-56320),h++),A+=s<128?1:s<2048?2:s<65536?3:4;for(r=a.uint8array?new Uint8Array(A):new Array(A),h=b=0;b<A;h++)(64512&(s=p.charCodeAt(h)))==55296&&h+1<T&&(64512&(o=p.charCodeAt(h+1)))==56320&&(s=65536+(s-55296<<10)+(o-56320),h++),s<128?r[b++]=s:(s<2048?r[b++]=192|s>>>6:(s<65536?r[b++]=224|s>>>12:(r[b++]=240|s>>>18,r[b++]=128|s>>>12&63),r[b++]=128|s>>>6&63),r[b++]=128|63&s);return r}(i)},k.utf8decode=function(i){return a.nodebuffer?f.transformTo("nodebuffer",i).toString("utf-8"):function(p){var r,s,o,h,b=p.length,T=new Array(2*b);for(r=s=0;r<b;)if((o=p[r++])<128)T[s++]=o;else if(4<(h=m[o]))T[s++]=65533,r+=h-1;else{for(o&=h===2?31:h===3?15:7;1<h&&r<b;)o=o<<6|63&p[r++],h--;1<h?T[s++]=65533:o<65536?T[s++]=o:(o-=65536,T[s++]=55296|o>>10&1023,T[s++]=56320|1023&o)}return T.length!==s&&(T.subarray?T=T.subarray(0,s):T.length=s),f.applyFromCharCode(T)}(i=f.transformTo(a.uint8array?"uint8array":"array",i))},f.inherits(g,c),g.prototype.processChunk=function(i){var p=f.transformTo(a.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var r=p;(p=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),p.set(r,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var s=function(h,b){var T;for((b=b||h.length)>h.length&&(b=h.length),T=b-1;0<=T&&(192&h[T])==128;)T--;return T<0||T===0?b:T+m[h[T]]>b?T:b}(p),o=p;s!==p.length&&(a.uint8array?(o=p.subarray(0,s),this.leftOver=p.subarray(s,p.length)):(o=p.slice(0,s),this.leftOver=p.slice(s,p.length))),this.push({data:k.utf8decode(o),meta:i.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:k.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},k.Utf8DecodeWorker=g,f.inherits(_,c),_.prototype.processChunk=function(i){this.push({data:k.utf8encode(i.data),meta:i.meta})},k.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(v,P,k){var f=v("./support"),a=v("./base64"),n=v("./nodejsUtils"),c=v("./external");function m(r){return r}function w(r,s){for(var o=0;o<r.length;++o)s[o]=255&r.charCodeAt(o);return s}v("setimmediate"),k.newBlob=function(r,s){k.checkSupport("blob");try{return new Blob([r],{type:s})}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(r),o.getBlob(s)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(r,s,o){var h=[],b=0,T=r.length;if(T<=o)return String.fromCharCode.apply(null,r);for(;b<T;)s==="array"||s==="nodebuffer"?h.push(String.fromCharCode.apply(null,r.slice(b,Math.min(b+o,T)))):h.push(String.fromCharCode.apply(null,r.subarray(b,Math.min(b+o,T)))),b+=o;return h.join("")},stringifyByChar:function(r){for(var s="",o=0;o<r.length;o++)s+=String.fromCharCode(r[o]);return s},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}}()}};function _(r){var s=65536,o=k.getTypeOf(r),h=!0;if(o==="uint8array"?h=g.applyCanBeUsed.uint8array:o==="nodebuffer"&&(h=g.applyCanBeUsed.nodebuffer),h)for(;1<s;)try{return g.stringifyByChunk(r,o,s)}catch{s=Math.floor(s/2)}return g.stringifyByChar(r)}function i(r,s){for(var o=0;o<r.length;o++)s[o]=r[o];return s}k.applyFromCharCode=_;var p={};p.string={string:m,array:function(r){return w(r,new Array(r.length))},arraybuffer:function(r){return p.string.uint8array(r).buffer},uint8array:function(r){return w(r,new Uint8Array(r.length))},nodebuffer:function(r){return w(r,n.allocBuffer(r.length))}},p.array={string:_,array:m,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return n.newBufferFrom(r)}},p.arraybuffer={string:function(r){return _(new Uint8Array(r))},array:function(r){return i(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:m,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return n.newBufferFrom(new Uint8Array(r))}},p.uint8array={string:_,array:function(r){return i(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:m,nodebuffer:function(r){return n.newBufferFrom(r)}},p.nodebuffer={string:_,array:function(r){return i(r,new Array(r.length))},arraybuffer:function(r){return p.nodebuffer.uint8array(r).buffer},uint8array:function(r){return i(r,new Uint8Array(r.length))},nodebuffer:m},k.transformTo=function(r,s){if(s=s||"",!r)return s;k.checkSupport(r);var o=k.getTypeOf(s);return p[o][r](s)},k.resolve=function(r){for(var s=r.split("/"),o=[],h=0;h<s.length;h++){var b=s[h];b==="."||b===""&&h!==0&&h!==s.length-1||(b===".."?o.pop():o.push(b))}return o.join("/")},k.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":f.nodebuffer&&n.isBuffer(r)?"nodebuffer":f.uint8array&&r instanceof Uint8Array?"uint8array":f.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},k.checkSupport=function(r){if(!f[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},k.MAX_VALUE_16BITS=65535,k.MAX_VALUE_32BITS=-1,k.pretty=function(r){var s,o,h="";for(o=0;o<(r||"").length;o++)h+="\\x"+((s=r.charCodeAt(o))<16?"0":"")+s.toString(16).toUpperCase();return h},k.delay=function(r,s,o){setImmediate(function(){r.apply(o||null,s||[])})},k.inherits=function(r,s){function o(){}o.prototype=s.prototype,r.prototype=new o},k.extend=function(){var r,s,o={};for(r=0;r<arguments.length;r++)for(s in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],s)&&o[s]===void 0&&(o[s]=arguments[r][s]);return o},k.prepareContent=function(r,s,o,h,b){return c.Promise.resolve(s).then(function(T){return f.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(A,D){var B=new FileReader;B.onload=function(U){A(U.target.result)},B.onerror=function(U){D(U.target.error)},B.readAsArrayBuffer(T)}):T}).then(function(T){var A=k.getTypeOf(T);return A?(A==="arraybuffer"?T=k.transformTo("uint8array",T):A==="string"&&(b?T=a.decode(T):o&&h!==!0&&(T=function(D){return w(D,f.uint8array?new Uint8Array(D.length):new Array(D.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(v,P,k){var f=v("./reader/readerFor"),a=v("./utils"),n=v("./signature"),c=v("./zipEntry"),m=v("./support");function w(g){this.files=[],this.loadOptions=g}w.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(g)+")")}},isSignature:function(g,_){var i=this.reader.index;this.reader.setIndex(g);var p=this.reader.readString(4)===_;return this.reader.setIndex(i),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),_=m.uint8array?"uint8array":"array",i=a.transformTo(_,g);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,_,i,p=this.zip64EndOfCentralSize-44;0<p;)g=this.reader.readInt(2),_=this.reader.readInt(4),i=this.reader.readData(_),this.zip64ExtensibleData[g]={id:g,length:_,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,_;for(g=0;g<this.files.length;g++)_=this.files[g],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var _=g;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var p=_-i;if(0<p)this.isSignature(_,n.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(g){this.reader=f(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},P.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(v,P,k){var f=v("./reader/readerFor"),a=v("./utils"),n=v("./compressedObject"),c=v("./crc32"),m=v("./utf8"),w=v("./compressions"),g=v("./support");function _(i,p){this.options=i,this.loadOptions=p}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var p,r;if(i.skip(22),this.fileNameLength=i.readInt(2),r=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(s){for(var o in w)if(Object.prototype.hasOwnProperty.call(w,o)&&w[o].magic===s)return w[o];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,p,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var p=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(p),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=f(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var p,r,s,o=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<o;)p=i.readInt(2),r=i.readInt(2),s=i.readData(r),this.extraFields[p]={id:p,length:r,value:s};i.setIndex(o)},handleUTF8:function(){var i=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var r=a.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var s=this.findExtraFieldUnicodeComment();if(s!==null)this.fileCommentStr=s;else{var o=a.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var p=f(i.value);return p.readInt(1)!==1||c(this.fileName)!==p.readInt(4)?null:m.utf8decode(p.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var p=f(i.value);return p.readInt(1)!==1||c(this.fileComment)!==p.readInt(4)?null:m.utf8decode(p.readData(i.length-5))}return null}},P.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(v,P,k){function f(p,r,s){this.name=p,this.dir=s.dir,this.date=s.date,this.comment=s.comment,this.unixPermissions=s.unixPermissions,this.dosPermissions=s.dosPermissions,this._data=r,this._dataBinary=s.binary,this.options={compression:s.compression,compressionOptions:s.compressionOptions}}var a=v("./stream/StreamHelper"),n=v("./stream/DataWorker"),c=v("./utf8"),m=v("./compressedObject"),w=v("./stream/GenericWorker");f.prototype={internalStream:function(p){var r=null,s="string";try{if(!p)throw new Error("No output type specified.");var o=(s=p.toLowerCase())==="string"||s==="text";s!=="binarystring"&&s!=="text"||(s="string"),r=this._decompressWorker();var h=!this._dataBinary;h&&!o&&(r=r.pipe(new c.Utf8EncodeWorker)),!h&&o&&(r=r.pipe(new c.Utf8DecodeWorker))}catch(b){(r=new w("error")).error(b)}return new a(r,s,"")},async:function(p,r){return this.internalStream(p).accumulate(r)},nodeStream:function(p,r){return this.internalStream(p||"nodebuffer").toNodejsStream(r)},_compressWorker:function(p,r){if(this._data instanceof m&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var s=this._decompressWorker();return this._dataBinary||(s=s.pipe(new c.Utf8EncodeWorker)),m.createWorkerFrom(s,p,r)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof w?this._data:new n(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<g.length;i++)f.prototype[g[i]]=_;P.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(v,P,k){(function(f){var a,n,c=f.MutationObserver||f.WebKitMutationObserver;if(c){var m=0,w=new c(p),g=f.document.createTextNode("");w.observe(g,{characterData:!0}),a=function(){g.data=m=++m%2}}else if(f.setImmediate||f.MessageChannel===void 0)a="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var r=f.document.createElement("script");r.onreadystatechange=function(){p(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},f.document.documentElement.appendChild(r)}:function(){setTimeout(p,0)};else{var _=new f.MessageChannel;_.port1.onmessage=p,a=function(){_.port2.postMessage(0)}}var i=[];function p(){var r,s;n=!0;for(var o=i.length;o;){for(s=i,i=[],r=-1;++r<o;)s[r]();o=i.length}n=!1}P.exports=function(r){i.push(r)!==1||n||a()}}).call(this,typeof Bt<"u"?Bt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(v,P,k){var f=v("immediate");function a(){}var n={},c=["REJECTED"],m=["FULFILLED"],w=["PENDING"];function g(o){if(typeof o!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,o!==a&&r(this,o)}function _(o,h,b){this.promise=o,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function i(o,h,b){f(function(){var T;try{T=h(b)}catch(A){return n.reject(o,A)}T===o?n.reject(o,new TypeError("Cannot resolve promise with itself")):n.resolve(o,T)})}function p(o){var h=o&&o.then;if(o&&(typeof o=="object"||typeof o=="function")&&typeof h=="function")return function(){h.apply(o,arguments)}}function r(o,h){var b=!1;function T(B){b||(b=!0,n.reject(o,B))}function A(B){b||(b=!0,n.resolve(o,B))}var D=s(function(){h(A,T)});D.status==="error"&&T(D.value)}function s(o,h){var b={};try{b.value=o(h),b.status="success"}catch(T){b.status="error",b.value=T}return b}(P.exports=g).prototype.finally=function(o){if(typeof o!="function")return this;var h=this.constructor;return this.then(function(b){return h.resolve(o()).then(function(){return b})},function(b){return h.resolve(o()).then(function(){throw b})})},g.prototype.catch=function(o){return this.then(null,o)},g.prototype.then=function(o,h){if(typeof o!="function"&&this.state===m||typeof h!="function"&&this.state===c)return this;var b=new this.constructor(a);return this.state!==w?i(b,this.state===m?o:h,this.outcome):this.queue.push(new _(b,o,h)),b},_.prototype.callFulfilled=function(o){n.resolve(this.promise,o)},_.prototype.otherCallFulfilled=function(o){i(this.promise,this.onFulfilled,o)},_.prototype.callRejected=function(o){n.reject(this.promise,o)},_.prototype.otherCallRejected=function(o){i(this.promise,this.onRejected,o)},n.resolve=function(o,h){var b=s(p,h);if(b.status==="error")return n.reject(o,b.value);var T=b.value;if(T)r(o,T);else{o.state=m,o.outcome=h;for(var A=-1,D=o.queue.length;++A<D;)o.queue[A].callFulfilled(h)}return o},n.reject=function(o,h){o.state=c,o.outcome=h;for(var b=-1,T=o.queue.length;++b<T;)o.queue[b].callRejected(h);return o},g.resolve=function(o){return o instanceof this?o:n.resolve(new this(a),o)},g.reject=function(o){var h=new this(a);return n.reject(h,o)},g.all=function(o){var h=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=o.length,T=!1;if(!b)return this.resolve([]);for(var A=new Array(b),D=0,B=-1,U=new this(a);++B<b;)j(o[B],B);return U;function j(q,et){h.resolve(q).then(function(y){A[et]=y,++D!==b||T||(T=!0,n.resolve(U,A))},function(y){T||(T=!0,n.reject(U,y))})}},g.race=function(o){var h=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=o.length,T=!1;if(!b)return this.resolve([]);for(var A=-1,D=new this(a);++A<b;)B=o[A],h.resolve(B).then(function(U){T||(T=!0,n.resolve(D,U))},function(U){T||(T=!0,n.reject(D,U))});var B;return D}},{immediate:36}],38:[function(v,P,k){var f={};(0,v("./lib/utils/common").assign)(f,v("./lib/deflate"),v("./lib/inflate"),v("./lib/zlib/constants")),P.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(v,P,k){var f=v("./zlib/deflate"),a=v("./utils/common"),n=v("./utils/strings"),c=v("./zlib/messages"),m=v("./zlib/zstream"),w=Object.prototype.toString,g=0,_=-1,i=0,p=8;function r(o){if(!(this instanceof r))return new r(o);this.options=a.assign({level:_,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},o||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var b=f.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(b!==g)throw new Error(c[b]);if(h.header&&f.deflateSetHeader(this.strm,h.header),h.dictionary){var T;if(T=typeof h.dictionary=="string"?n.string2buf(h.dictionary):w.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(b=f.deflateSetDictionary(this.strm,T))!==g)throw new Error(c[b]);this._dict_set=!0}}function s(o,h){var b=new r(h);if(b.push(o,!0),b.err)throw b.msg||c[b.err];return b.result}r.prototype.push=function(o,h){var b,T,A=this.strm,D=this.options.chunkSize;if(this.ended)return!1;T=h===~~h?h:h===!0?4:0,typeof o=="string"?A.input=n.string2buf(o):w.call(o)==="[object ArrayBuffer]"?A.input=new Uint8Array(o):A.input=o,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(D),A.next_out=0,A.avail_out=D),(b=f.deflate(A,T))!==1&&b!==g)return this.onEnd(b),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&b!==1);return T===4?(b=f.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===g):T!==2||(this.onEnd(g),!(A.avail_out=0))},r.prototype.onData=function(o){this.chunks.push(o)},r.prototype.onEnd=function(o){o===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},k.Deflate=r,k.deflate=s,k.deflateRaw=function(o,h){return(h=h||{}).raw=!0,s(o,h)},k.gzip=function(o,h){return(h=h||{}).gzip=!0,s(o,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(v,P,k){var f=v("./zlib/inflate"),a=v("./utils/common"),n=v("./utils/strings"),c=v("./zlib/constants"),m=v("./zlib/messages"),w=v("./zlib/zstream"),g=v("./zlib/gzheader"),_=Object.prototype.toString;function i(r){if(!(this instanceof i))return new i(r);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},r||{});var s=this.options;s.raw&&0<=s.windowBits&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),!(0<=s.windowBits&&s.windowBits<16)||r&&r.windowBits||(s.windowBits+=32),15<s.windowBits&&s.windowBits<48&&(15&s.windowBits)==0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var o=f.inflateInit2(this.strm,s.windowBits);if(o!==c.Z_OK)throw new Error(m[o]);this.header=new g,f.inflateGetHeader(this.strm,this.header)}function p(r,s){var o=new i(s);if(o.push(r,!0),o.err)throw o.msg||m[o.err];return o.result}i.prototype.push=function(r,s){var o,h,b,T,A,D,B=this.strm,U=this.options.chunkSize,j=this.options.dictionary,q=!1;if(this.ended)return!1;h=s===~~s?s:s===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof r=="string"?B.input=n.binstring2buf(r):_.call(r)==="[object ArrayBuffer]"?B.input=new Uint8Array(r):B.input=r,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new a.Buf8(U),B.next_out=0,B.avail_out=U),(o=f.inflate(B,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&j&&(D=typeof j=="string"?n.string2buf(j):_.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,o=f.inflateSetDictionary(this.strm,D)),o===c.Z_BUF_ERROR&&q===!0&&(o=c.Z_OK,q=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&o!==c.Z_STREAM_END&&(B.avail_in!==0||h!==c.Z_FINISH&&h!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=n.utf8border(B.output,B.next_out),T=B.next_out-b,A=n.buf2string(B.output,b),B.next_out=T,B.avail_out=U-T,T&&a.arraySet(B.output,B.output,b,T,0),this.onData(A)):this.onData(a.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(q=!0)}while((0<B.avail_in||B.avail_out===0)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(h=c.Z_FINISH),h===c.Z_FINISH?(o=f.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):h!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(B.avail_out=0))},i.prototype.onData=function(r){this.chunks.push(r)},i.prototype.onEnd=function(r){r===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},k.Inflate=i,k.inflate=p,k.inflateRaw=function(r,s){return(s=s||{}).raw=!0,p(r,s)},k.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(v,P,k){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";k.assign=function(c){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var w=m.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var g in w)w.hasOwnProperty(g)&&(c[g]=w[g])}}return c},k.shrinkBuf=function(c,m){return c.length===m?c:c.subarray?c.subarray(0,m):(c.length=m,c)};var a={arraySet:function(c,m,w,g,_){if(m.subarray&&c.subarray)c.set(m.subarray(w,w+g),_);else for(var i=0;i<g;i++)c[_+i]=m[w+i]},flattenChunks:function(c){var m,w,g,_,i,p;for(m=g=0,w=c.length;m<w;m++)g+=c[m].length;for(p=new Uint8Array(g),m=_=0,w=c.length;m<w;m++)i=c[m],p.set(i,_),_+=i.length;return p}},n={arraySet:function(c,m,w,g,_){for(var i=0;i<g;i++)c[_+i]=m[w+i]},flattenChunks:function(c){return[].concat.apply([],c)}};k.setTyped=function(c){c?(k.Buf8=Uint8Array,k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,a)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,n))},k.setTyped(f)},{}],42:[function(v,P,k){var f=v("./common"),a=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var c=new f.Buf8(256),m=0;m<256;m++)c[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function w(g,_){if(_<65537&&(g.subarray&&n||!g.subarray&&a))return String.fromCharCode.apply(null,f.shrinkBuf(g,_));for(var i="",p=0;p<_;p++)i+=String.fromCharCode(g[p]);return i}c[254]=c[254]=1,k.string2buf=function(g){var _,i,p,r,s,o=g.length,h=0;for(r=0;r<o;r++)(64512&(i=g.charCodeAt(r)))==55296&&r+1<o&&(64512&(p=g.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(_=new f.Buf8(h),r=s=0;s<h;r++)(64512&(i=g.charCodeAt(r)))==55296&&r+1<o&&(64512&(p=g.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),r++),i<128?_[s++]=i:(i<2048?_[s++]=192|i>>>6:(i<65536?_[s++]=224|i>>>12:(_[s++]=240|i>>>18,_[s++]=128|i>>>12&63),_[s++]=128|i>>>6&63),_[s++]=128|63&i);return _},k.buf2binstring=function(g){return w(g,g.length)},k.binstring2buf=function(g){for(var _=new f.Buf8(g.length),i=0,p=_.length;i<p;i++)_[i]=g.charCodeAt(i);return _},k.buf2string=function(g,_){var i,p,r,s,o=_||g.length,h=new Array(2*o);for(i=p=0;i<o;)if((r=g[i++])<128)h[p++]=r;else if(4<(s=c[r]))h[p++]=65533,i+=s-1;else{for(r&=s===2?31:s===3?15:7;1<s&&i<o;)r=r<<6|63&g[i++],s--;1<s?h[p++]=65533:r<65536?h[p++]=r:(r-=65536,h[p++]=55296|r>>10&1023,h[p++]=56320|1023&r)}return w(h,p)},k.utf8border=function(g,_){var i;for((_=_||g.length)>g.length&&(_=g.length),i=_-1;0<=i&&(192&g[i])==128;)i--;return i<0||i===0?_:i+c[g[i]]>_?i:_}},{"./common":41}],43:[function(v,P,k){P.exports=function(f,a,n,c){for(var m=65535&f|0,w=f>>>16&65535|0,g=0;n!==0;){for(n-=g=2e3<n?2e3:n;w=w+(m=m+a[c++]|0)|0,--g;);m%=65521,w%=65521}return m|w<<16|0}},{}],44:[function(v,P,k){P.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(v,P,k){var f=function(){for(var a,n=[],c=0;c<256;c++){a=c;for(var m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;n[c]=a}return n}();P.exports=function(a,n,c,m){var w=f,g=m+c;a^=-1;for(var _=m;_<g;_++)a=a>>>8^w[255&(a^n[_])];return-1^a}},{}],46:[function(v,P,k){var f,a=v("../utils/common"),n=v("./trees"),c=v("./adler32"),m=v("./crc32"),w=v("./messages"),g=0,_=4,i=0,p=-2,r=-1,s=4,o=2,h=8,b=9,T=286,A=30,D=19,B=2*T+1,U=15,j=3,q=258,et=q+j+1,y=42,W=113,e=1,F=2,at=3,M=4;function lt(t,L){return t.msg=w[L],L}function H(t){return(t<<1)-(4<t?9:0)}function ot(t){for(var L=t.length;0<=--L;)t[L]=0}function C(t){var L=t.state,I=L.pending;I>t.avail_out&&(I=t.avail_out),I!==0&&(a.arraySet(t.output,L.pending_buf,L.pending_out,I,t.next_out),t.next_out+=I,L.pending_out+=I,t.total_out+=I,t.avail_out-=I,L.pending-=I,L.pending===0&&(L.pending_out=0))}function z(t,L){n._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,L),t.block_start=t.strstart,C(t.strm)}function nt(t,L){t.pending_buf[t.pending++]=L}function J(t,L){t.pending_buf[t.pending++]=L>>>8&255,t.pending_buf[t.pending++]=255&L}function Y(t,L){var I,d,u=t.max_chain_length,l=t.strstart,O=t.prev_length,S=t.nice_match,x=t.strstart>t.w_size-et?t.strstart-(t.w_size-et):0,R=t.window,Z=t.w_mask,E=t.prev,V=t.strstart+q,Q=R[l+O-1],rt=R[l+O];t.prev_length>=t.good_match&&(u>>=2),S>t.lookahead&&(S=t.lookahead);do if(R[(I=L)+O]===rt&&R[I+O-1]===Q&&R[I]===R[l]&&R[++I]===R[l+1]){l+=2,I++;do;while(R[++l]===R[++I]&&R[++l]===R[++I]&&R[++l]===R[++I]&&R[++l]===R[++I]&&R[++l]===R[++I]&&R[++l]===R[++I]&&R[++l]===R[++I]&&R[++l]===R[++I]&&l<V);if(d=q-(V-l),l=V-q,O<d){if(t.match_start=L,S<=(O=d))break;Q=R[l+O-1],rt=R[l+O]}}while((L=E[L&Z])>x&&--u!=0);return O<=t.lookahead?O:t.lookahead}function yt(t){var L,I,d,u,l,O,S,x,R,Z,E=t.w_size;do{if(u=t.window_size-t.lookahead-t.strstart,t.strstart>=E+(E-et)){for(a.arraySet(t.window,t.window,E,E,0),t.match_start-=E,t.strstart-=E,t.block_start-=E,L=I=t.hash_size;d=t.head[--L],t.head[L]=E<=d?d-E:0,--I;);for(L=I=E;d=t.prev[--L],t.prev[L]=E<=d?d-E:0,--I;);u+=E}if(t.strm.avail_in===0)break;if(O=t.strm,S=t.window,x=t.strstart+t.lookahead,R=u,Z=void 0,Z=O.avail_in,R<Z&&(Z=R),I=Z===0?0:(O.avail_in-=Z,a.arraySet(S,O.input,O.next_in,Z,x),O.state.wrap===1?O.adler=c(O.adler,S,Z,x):O.state.wrap===2&&(O.adler=m(O.adler,S,Z,x)),O.next_in+=Z,O.total_in+=Z,Z),t.lookahead+=I,t.lookahead+t.insert>=j)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+j-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<j)););}while(t.lookahead<et&&t.strm.avail_in!==0)}function Ot(t,L){for(var I,d;;){if(t.lookahead<et){if(yt(t),t.lookahead<et&&L===g)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=j&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),I!==0&&t.strstart-I<=t.w_size-et&&(t.match_length=Y(t,I)),t.match_length>=j)if(d=n._tr_tally(t,t.strstart-t.match_start,t.match_length-j),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=j){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else d=n._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(d&&(z(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<j-1?t.strstart:j-1,L===_?(z(t,!0),t.strm.avail_out===0?at:M):t.last_lit&&(z(t,!1),t.strm.avail_out===0)?e:F}function ht(t,L){for(var I,d,u;;){if(t.lookahead<et){if(yt(t),t.lookahead<et&&L===g)return e;if(t.lookahead===0)break}if(I=0,t.lookahead>=j&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=j-1,I!==0&&t.prev_length<t.max_lazy_match&&t.strstart-I<=t.w_size-et&&(t.match_length=Y(t,I),t.match_length<=5&&(t.strategy===1||t.match_length===j&&4096<t.strstart-t.match_start)&&(t.match_length=j-1)),t.prev_length>=j&&t.match_length<=t.prev_length){for(u=t.strstart+t.lookahead-j,d=n._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-j),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=u&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,I=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=j-1,t.strstart++,d&&(z(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((d=n._tr_tally(t,0,t.window[t.strstart-1]))&&z(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(d=n._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<j-1?t.strstart:j-1,L===_?(z(t,!0),t.strm.avail_out===0?at:M):t.last_lit&&(z(t,!1),t.strm.avail_out===0)?e:F}function mt(t,L,I,d,u){this.good_length=t,this.max_lazy=L,this.nice_length=I,this.max_chain=d,this.func=u}function Et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*B),this.dyn_dtree=new a.Buf16(2*(2*A+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),ot(this.dyn_ltree),ot(this.dyn_dtree),ot(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*T+1),ot(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),ot(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function bt(t){var L;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=o,(L=t.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?y:W,t.adler=L.wrap===2?0:1,L.last_flush=g,n._tr_init(L),i):lt(t,p)}function Rt(t){var L=bt(t);return L===i&&function(I){I.window_size=2*I.w_size,ot(I.head),I.max_lazy_match=f[I.level].max_lazy,I.good_match=f[I.level].good_length,I.nice_match=f[I.level].nice_length,I.max_chain_length=f[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=j-1,I.match_available=0,I.ins_h=0}(t.state),L}function It(t,L,I,d,u,l){if(!t)return p;var O=1;if(L===r&&(L=6),d<0?(O=0,d=-d):15<d&&(O=2,d-=16),u<1||b<u||I!==h||d<8||15<d||L<0||9<L||l<0||s<l)return lt(t,p);d===8&&(d=9);var S=new Et;return(t.state=S).strm=t,S.wrap=O,S.gzhead=null,S.w_bits=d,S.w_size=1<<S.w_bits,S.w_mask=S.w_size-1,S.hash_bits=u+7,S.hash_size=1<<S.hash_bits,S.hash_mask=S.hash_size-1,S.hash_shift=~~((S.hash_bits+j-1)/j),S.window=new a.Buf8(2*S.w_size),S.head=new a.Buf16(S.hash_size),S.prev=new a.Buf16(S.w_size),S.lit_bufsize=1<<u+6,S.pending_buf_size=4*S.lit_bufsize,S.pending_buf=new a.Buf8(S.pending_buf_size),S.d_buf=1*S.lit_bufsize,S.l_buf=3*S.lit_bufsize,S.level=L,S.strategy=l,S.method=I,Rt(t)}f=[new mt(0,0,0,0,function(t,L){var I=65535;for(I>t.pending_buf_size-5&&(I=t.pending_buf_size-5);;){if(t.lookahead<=1){if(yt(t),t.lookahead===0&&L===g)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var d=t.block_start+I;if((t.strstart===0||t.strstart>=d)&&(t.lookahead=t.strstart-d,t.strstart=d,z(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-et&&(z(t,!1),t.strm.avail_out===0))return e}return t.insert=0,L===_?(z(t,!0),t.strm.avail_out===0?at:M):(t.strstart>t.block_start&&(z(t,!1),t.strm.avail_out),e)}),new mt(4,4,8,4,Ot),new mt(4,5,16,8,Ot),new mt(4,6,32,32,Ot),new mt(4,4,16,16,ht),new mt(8,16,32,32,ht),new mt(8,16,128,128,ht),new mt(8,32,128,256,ht),new mt(32,128,258,1024,ht),new mt(32,258,258,4096,ht)],k.deflateInit=function(t,L){return It(t,L,h,15,8,0)},k.deflateInit2=It,k.deflateReset=Rt,k.deflateResetKeep=bt,k.deflateSetHeader=function(t,L){return t&&t.state?t.state.wrap!==2?p:(t.state.gzhead=L,i):p},k.deflate=function(t,L){var I,d,u,l;if(!t||!t.state||5<L||L<0)return t?lt(t,p):p;if(d=t.state,!t.output||!t.input&&t.avail_in!==0||d.status===666&&L!==_)return lt(t,t.avail_out===0?-5:p);if(d.strm=t,I=d.last_flush,d.last_flush=L,d.status===y)if(d.wrap===2)t.adler=0,nt(d,31),nt(d,139),nt(d,8),d.gzhead?(nt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),nt(d,255&d.gzhead.time),nt(d,d.gzhead.time>>8&255),nt(d,d.gzhead.time>>16&255),nt(d,d.gzhead.time>>24&255),nt(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),nt(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(nt(d,255&d.gzhead.extra.length),nt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(t.adler=m(t.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(nt(d,0),nt(d,0),nt(d,0),nt(d,0),nt(d,0),nt(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),nt(d,3),d.status=W);else{var O=h+(d.w_bits-8<<4)<<8;O|=(2<=d.strategy||d.level<2?0:d.level<6?1:d.level===6?2:3)<<6,d.strstart!==0&&(O|=32),O+=31-O%31,d.status=W,J(d,O),d.strstart!==0&&(J(d,t.adler>>>16),J(d,65535&t.adler)),t.adler=1}if(d.status===69)if(d.gzhead.extra){for(u=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>u&&(t.adler=m(t.adler,d.pending_buf,d.pending-u,u)),C(t),u=d.pending,d.pending!==d.pending_buf_size));)nt(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>u&&(t.adler=m(t.adler,d.pending_buf,d.pending-u,u)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(d.status===73)if(d.gzhead.name){u=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>u&&(t.adler=m(t.adler,d.pending_buf,d.pending-u,u)),C(t),u=d.pending,d.pending===d.pending_buf_size)){l=1;break}l=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,nt(d,l)}while(l!==0);d.gzhead.hcrc&&d.pending>u&&(t.adler=m(t.adler,d.pending_buf,d.pending-u,u)),l===0&&(d.gzindex=0,d.status=91)}else d.status=91;if(d.status===91)if(d.gzhead.comment){u=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>u&&(t.adler=m(t.adler,d.pending_buf,d.pending-u,u)),C(t),u=d.pending,d.pending===d.pending_buf_size)){l=1;break}l=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,nt(d,l)}while(l!==0);d.gzhead.hcrc&&d.pending>u&&(t.adler=m(t.adler,d.pending_buf,d.pending-u,u)),l===0&&(d.status=103)}else d.status=103;if(d.status===103&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&C(t),d.pending+2<=d.pending_buf_size&&(nt(d,255&t.adler),nt(d,t.adler>>8&255),t.adler=0,d.status=W)):d.status=W),d.pending!==0){if(C(t),t.avail_out===0)return d.last_flush=-1,i}else if(t.avail_in===0&&H(L)<=H(I)&&L!==_)return lt(t,-5);if(d.status===666&&t.avail_in!==0)return lt(t,-5);if(t.avail_in!==0||d.lookahead!==0||L!==g&&d.status!==666){var S=d.strategy===2?function(x,R){for(var Z;;){if(x.lookahead===0&&(yt(x),x.lookahead===0)){if(R===g)return e;break}if(x.match_length=0,Z=n._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,Z&&(z(x,!1),x.strm.avail_out===0))return e}return x.insert=0,R===_?(z(x,!0),x.strm.avail_out===0?at:M):x.last_lit&&(z(x,!1),x.strm.avail_out===0)?e:F}(d,L):d.strategy===3?function(x,R){for(var Z,E,V,Q,rt=x.window;;){if(x.lookahead<=q){if(yt(x),x.lookahead<=q&&R===g)return e;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=j&&0<x.strstart&&(E=rt[V=x.strstart-1])===rt[++V]&&E===rt[++V]&&E===rt[++V]){Q=x.strstart+q;do;while(E===rt[++V]&&E===rt[++V]&&E===rt[++V]&&E===rt[++V]&&E===rt[++V]&&E===rt[++V]&&E===rt[++V]&&E===rt[++V]&&V<Q);x.match_length=q-(Q-V),x.match_length>x.lookahead&&(x.match_length=x.lookahead)}if(x.match_length>=j?(Z=n._tr_tally(x,1,x.match_length-j),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(Z=n._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++),Z&&(z(x,!1),x.strm.avail_out===0))return e}return x.insert=0,R===_?(z(x,!0),x.strm.avail_out===0?at:M):x.last_lit&&(z(x,!1),x.strm.avail_out===0)?e:F}(d,L):f[d.level].func(d,L);if(S!==at&&S!==M||(d.status=666),S===e||S===at)return t.avail_out===0&&(d.last_flush=-1),i;if(S===F&&(L===1?n._tr_align(d):L!==5&&(n._tr_stored_block(d,0,0,!1),L===3&&(ot(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),C(t),t.avail_out===0))return d.last_flush=-1,i}return L!==_?i:d.wrap<=0?1:(d.wrap===2?(nt(d,255&t.adler),nt(d,t.adler>>8&255),nt(d,t.adler>>16&255),nt(d,t.adler>>24&255),nt(d,255&t.total_in),nt(d,t.total_in>>8&255),nt(d,t.total_in>>16&255),nt(d,t.total_in>>24&255)):(J(d,t.adler>>>16),J(d,65535&t.adler)),C(t),0<d.wrap&&(d.wrap=-d.wrap),d.pending!==0?i:1)},k.deflateEnd=function(t){var L;return t&&t.state?(L=t.state.status)!==y&&L!==69&&L!==73&&L!==91&&L!==103&&L!==W&&L!==666?lt(t,p):(t.state=null,L===W?lt(t,-3):i):p},k.deflateSetDictionary=function(t,L){var I,d,u,l,O,S,x,R,Z=L.length;if(!t||!t.state||(l=(I=t.state).wrap)===2||l===1&&I.status!==y||I.lookahead)return p;for(l===1&&(t.adler=c(t.adler,L,Z,0)),I.wrap=0,Z>=I.w_size&&(l===0&&(ot(I.head),I.strstart=0,I.block_start=0,I.insert=0),R=new a.Buf8(I.w_size),a.arraySet(R,L,Z-I.w_size,I.w_size,0),L=R,Z=I.w_size),O=t.avail_in,S=t.next_in,x=t.input,t.avail_in=Z,t.next_in=0,t.input=L,yt(I);I.lookahead>=j;){for(d=I.strstart,u=I.lookahead-(j-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[d+j-1])&I.hash_mask,I.prev[d&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=d,d++,--u;);I.strstart=d,I.lookahead=j-1,yt(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=j-1,I.match_available=0,t.next_in=S,t.input=x,t.avail_in=O,I.wrap=l,i},k.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(v,P,k){P.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(v,P,k){P.exports=function(f,a){var n,c,m,w,g,_,i,p,r,s,o,h,b,T,A,D,B,U,j,q,et,y,W,e,F;n=f.state,c=f.next_in,e=f.input,m=c+(f.avail_in-5),w=f.next_out,F=f.output,g=w-(a-f.avail_out),_=w+(f.avail_out-257),i=n.dmax,p=n.wsize,r=n.whave,s=n.wnext,o=n.window,h=n.hold,b=n.bits,T=n.lencode,A=n.distcode,D=(1<<n.lenbits)-1,B=(1<<n.distbits)-1;t:do{b<15&&(h+=e[c++]<<b,b+=8,h+=e[c++]<<b,b+=8),U=T[h&D];e:for(;;){if(h>>>=j=U>>>24,b-=j,(j=U>>>16&255)===0)F[w++]=65535&U;else{if(!(16&j)){if((64&j)==0){U=T[(65535&U)+(h&(1<<j)-1)];continue e}if(32&j){n.mode=12;break t}f.msg="invalid literal/length code",n.mode=30;break t}q=65535&U,(j&=15)&&(b<j&&(h+=e[c++]<<b,b+=8),q+=h&(1<<j)-1,h>>>=j,b-=j),b<15&&(h+=e[c++]<<b,b+=8,h+=e[c++]<<b,b+=8),U=A[h&B];r:for(;;){if(h>>>=j=U>>>24,b-=j,!(16&(j=U>>>16&255))){if((64&j)==0){U=A[(65535&U)+(h&(1<<j)-1)];continue r}f.msg="invalid distance code",n.mode=30;break t}if(et=65535&U,b<(j&=15)&&(h+=e[c++]<<b,(b+=8)<j&&(h+=e[c++]<<b,b+=8)),i<(et+=h&(1<<j)-1)){f.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=j,b-=j,(j=w-g)<et){if(r<(j=et-j)&&n.sane){f.msg="invalid distance too far back",n.mode=30;break t}if(W=o,(y=0)===s){if(y+=p-j,j<q){for(q-=j;F[w++]=o[y++],--j;);y=w-et,W=F}}else if(s<j){if(y+=p+s-j,(j-=s)<q){for(q-=j;F[w++]=o[y++],--j;);if(y=0,s<q){for(q-=j=s;F[w++]=o[y++],--j;);y=w-et,W=F}}}else if(y+=s-j,j<q){for(q-=j;F[w++]=o[y++],--j;);y=w-et,W=F}for(;2<q;)F[w++]=W[y++],F[w++]=W[y++],F[w++]=W[y++],q-=3;q&&(F[w++]=W[y++],1<q&&(F[w++]=W[y++]))}else{for(y=w-et;F[w++]=F[y++],F[w++]=F[y++],F[w++]=F[y++],2<(q-=3););q&&(F[w++]=F[y++],1<q&&(F[w++]=F[y++]))}break}}break}}while(c<m&&w<_);c-=q=b>>3,h&=(1<<(b-=q<<3))-1,f.next_in=c,f.next_out=w,f.avail_in=c<m?m-c+5:5-(c-m),f.avail_out=w<_?_-w+257:257-(w-_),n.hold=h,n.bits=b}},{}],49:[function(v,P,k){var f=v("../utils/common"),a=v("./adler32"),n=v("./crc32"),c=v("./inffast"),m=v("./inftrees"),w=1,g=2,_=0,i=-2,p=1,r=852,s=592;function o(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(y){var W;return y&&y.state?(W=y.state,y.total_in=y.total_out=W.total=0,y.msg="",W.wrap&&(y.adler=1&W.wrap),W.mode=p,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new f.Buf32(r),W.distcode=W.distdyn=new f.Buf32(s),W.sane=1,W.back=-1,_):i}function T(y){var W;return y&&y.state?((W=y.state).wsize=0,W.whave=0,W.wnext=0,b(y)):i}function A(y,W){var e,F;return y&&y.state?(F=y.state,W<0?(e=0,W=-W):(e=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?i:(F.window!==null&&F.wbits!==W&&(F.window=null),F.wrap=e,F.wbits=W,T(y))):i}function D(y,W){var e,F;return y?(F=new h,(y.state=F).window=null,(e=A(y,W))!==_&&(y.state=null),e):i}var B,U,j=!0;function q(y){if(j){var W;for(B=new f.Buf32(512),U=new f.Buf32(32),W=0;W<144;)y.lens[W++]=8;for(;W<256;)y.lens[W++]=9;for(;W<280;)y.lens[W++]=7;for(;W<288;)y.lens[W++]=8;for(m(w,y.lens,0,288,B,0,y.work,{bits:9}),W=0;W<32;)y.lens[W++]=5;m(g,y.lens,0,32,U,0,y.work,{bits:5}),j=!1}y.lencode=B,y.lenbits=9,y.distcode=U,y.distbits=5}function et(y,W,e,F){var at,M=y.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new f.Buf8(M.wsize)),F>=M.wsize?(f.arraySet(M.window,W,e-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(F<(at=M.wsize-M.wnext)&&(at=F),f.arraySet(M.window,W,e-F,at,M.wnext),(F-=at)?(f.arraySet(M.window,W,e-F,F,0),M.wnext=F,M.whave=M.wsize):(M.wnext+=at,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=at))),0}k.inflateReset=T,k.inflateReset2=A,k.inflateResetKeep=b,k.inflateInit=function(y){return D(y,15)},k.inflateInit2=D,k.inflate=function(y,W){var e,F,at,M,lt,H,ot,C,z,nt,J,Y,yt,Ot,ht,mt,Et,bt,Rt,It,t,L,I,d,u=0,l=new f.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return i;(e=y.state).mode===12&&(e.mode=13),lt=y.next_out,at=y.output,ot=y.avail_out,M=y.next_in,F=y.input,H=y.avail_in,C=e.hold,z=e.bits,nt=H,J=ot,L=_;t:for(;;)switch(e.mode){case p:if(e.wrap===0){e.mode=13;break}for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(2&e.wrap&&C===35615){l[e.check=0]=255&C,l[1]=C>>>8&255,e.check=n(e.check,l,2,0),z=C=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&C)<<8)+(C>>8))%31){y.msg="incorrect header check",e.mode=30;break}if((15&C)!=8){y.msg="unknown compression method",e.mode=30;break}if(z-=4,t=8+(15&(C>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){y.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,y.adler=e.check=1,e.mode=512&C?10:12,z=C=0;break;case 2:for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(e.flags=C,(255&e.flags)!=8){y.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){y.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=C>>8&1),512&e.flags&&(l[0]=255&C,l[1]=C>>>8&255,e.check=n(e.check,l,2,0)),z=C=0,e.mode=3;case 3:for(;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.head&&(e.head.time=C),512&e.flags&&(l[0]=255&C,l[1]=C>>>8&255,l[2]=C>>>16&255,l[3]=C>>>24&255,e.check=n(e.check,l,4,0)),z=C=0,e.mode=4;case 4:for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.head&&(e.head.xflags=255&C,e.head.os=C>>8),512&e.flags&&(l[0]=255&C,l[1]=C>>>8&255,e.check=n(e.check,l,2,0)),z=C=0,e.mode=5;case 5:if(1024&e.flags){for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.length=C,e.head&&(e.head.extra_len=C),512&e.flags&&(l[0]=255&C,l[1]=C>>>8&255,e.check=n(e.check,l,2,0)),z=C=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(H<(Y=e.length)&&(Y=H),Y&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),f.arraySet(e.head.extra,F,M,Y,t)),512&e.flags&&(e.check=n(e.check,F,Y,M)),H-=Y,M+=Y,e.length-=Y),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(H===0)break t;for(Y=0;t=F[M+Y++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&Y<H;);if(512&e.flags&&(e.check=n(e.check,F,Y,M)),H-=Y,M+=Y,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(H===0)break t;for(Y=0;t=F[M+Y++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&Y<H;);if(512&e.flags&&(e.check=n(e.check,F,Y,M)),H-=Y,M+=Y,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;z<16;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(C!==(65535&e.check)){y.msg="header crc mismatch",e.mode=30;break}z=C=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),y.adler=e.check=0,e.mode=12;break;case 10:for(;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}y.adler=e.check=o(C),z=C=0,e.mode=11;case 11:if(e.havedict===0)return y.next_out=lt,y.avail_out=ot,y.next_in=M,y.avail_in=H,e.hold=C,e.bits=z,2;y.adler=e.check=1,e.mode=12;case 12:if(W===5||W===6)break t;case 13:if(e.last){C>>>=7&z,z-=7&z,e.mode=27;break}for(;z<3;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}switch(e.last=1&C,z-=1,3&(C>>>=1)){case 0:e.mode=14;break;case 1:if(q(e),e.mode=20,W!==6)break;C>>>=2,z-=2;break t;case 2:e.mode=17;break;case 3:y.msg="invalid block type",e.mode=30}C>>>=2,z-=2;break;case 14:for(C>>>=7&z,z-=7&z;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if((65535&C)!=(C>>>16^65535)){y.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&C,z=C=0,e.mode=15,W===6)break t;case 15:e.mode=16;case 16:if(Y=e.length){if(H<Y&&(Y=H),ot<Y&&(Y=ot),Y===0)break t;f.arraySet(at,F,M,Y,lt),H-=Y,M+=Y,ot-=Y,lt+=Y,e.length-=Y;break}e.mode=12;break;case 17:for(;z<14;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(e.nlen=257+(31&C),C>>>=5,z-=5,e.ndist=1+(31&C),C>>>=5,z-=5,e.ncode=4+(15&C),C>>>=4,z-=4,286<e.nlen||30<e.ndist){y.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;z<3;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.lens[O[e.have++]]=7&C,C>>>=3,z-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,I={bits:e.lenbits},L=m(0,e.lens,0,19,e.lencode,0,e.work,I),e.lenbits=I.bits,L){y.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;mt=(u=e.lencode[C&(1<<e.lenbits)-1])>>>16&255,Et=65535&u,!((ht=u>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(Et<16)C>>>=ht,z-=ht,e.lens[e.have++]=Et;else{if(Et===16){for(d=ht+2;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(C>>>=ht,z-=ht,e.have===0){y.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],Y=3+(3&C),C>>>=2,z-=2}else if(Et===17){for(d=ht+3;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}z-=ht,t=0,Y=3+(7&(C>>>=ht)),C>>>=3,z-=3}else{for(d=ht+7;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}z-=ht,t=0,Y=11+(127&(C>>>=ht)),C>>>=7,z-=7}if(e.have+Y>e.nlen+e.ndist){y.msg="invalid bit length repeat",e.mode=30;break}for(;Y--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){y.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,I={bits:e.lenbits},L=m(w,e.lens,0,e.nlen,e.lencode,0,e.work,I),e.lenbits=I.bits,L){y.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,I={bits:e.distbits},L=m(g,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,I),e.distbits=I.bits,L){y.msg="invalid distances set",e.mode=30;break}if(e.mode=20,W===6)break t;case 20:e.mode=21;case 21:if(6<=H&&258<=ot){y.next_out=lt,y.avail_out=ot,y.next_in=M,y.avail_in=H,e.hold=C,e.bits=z,c(y,J),lt=y.next_out,at=y.output,ot=y.avail_out,M=y.next_in,F=y.input,H=y.avail_in,C=e.hold,z=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;mt=(u=e.lencode[C&(1<<e.lenbits)-1])>>>16&255,Et=65535&u,!((ht=u>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(mt&&(240&mt)==0){for(bt=ht,Rt=mt,It=Et;mt=(u=e.lencode[It+((C&(1<<bt+Rt)-1)>>bt)])>>>16&255,Et=65535&u,!(bt+(ht=u>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}C>>>=bt,z-=bt,e.back+=bt}if(C>>>=ht,z-=ht,e.back+=ht,e.length=Et,mt===0){e.mode=26;break}if(32&mt){e.back=-1,e.mode=12;break}if(64&mt){y.msg="invalid literal/length code",e.mode=30;break}e.extra=15&mt,e.mode=22;case 22:if(e.extra){for(d=e.extra;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.length+=C&(1<<e.extra)-1,C>>>=e.extra,z-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;mt=(u=e.distcode[C&(1<<e.distbits)-1])>>>16&255,Et=65535&u,!((ht=u>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if((240&mt)==0){for(bt=ht,Rt=mt,It=Et;mt=(u=e.distcode[It+((C&(1<<bt+Rt)-1)>>bt)])>>>16&255,Et=65535&u,!(bt+(ht=u>>>24)<=z);){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}C>>>=bt,z-=bt,e.back+=bt}if(C>>>=ht,z-=ht,e.back+=ht,64&mt){y.msg="invalid distance code",e.mode=30;break}e.offset=Et,e.extra=15&mt,e.mode=24;case 24:if(e.extra){for(d=e.extra;z<d;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}e.offset+=C&(1<<e.extra)-1,C>>>=e.extra,z-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){y.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(ot===0)break t;if(Y=J-ot,e.offset>Y){if((Y=e.offset-Y)>e.whave&&e.sane){y.msg="invalid distance too far back",e.mode=30;break}yt=Y>e.wnext?(Y-=e.wnext,e.wsize-Y):e.wnext-Y,Y>e.length&&(Y=e.length),Ot=e.window}else Ot=at,yt=lt-e.offset,Y=e.length;for(ot<Y&&(Y=ot),ot-=Y,e.length-=Y;at[lt++]=Ot[yt++],--Y;);e.length===0&&(e.mode=21);break;case 26:if(ot===0)break t;at[lt++]=e.length,ot--,e.mode=21;break;case 27:if(e.wrap){for(;z<32;){if(H===0)break t;H--,C|=F[M++]<<z,z+=8}if(J-=ot,y.total_out+=J,e.total+=J,J&&(y.adler=e.check=e.flags?n(e.check,at,J,lt-J):a(e.check,at,J,lt-J)),J=ot,(e.flags?C:o(C))!==e.check){y.msg="incorrect data check",e.mode=30;break}z=C=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;z<32;){if(H===0)break t;H--,C+=F[M++]<<z,z+=8}if(C!==(4294967295&e.total)){y.msg="incorrect length check",e.mode=30;break}z=C=0}e.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return i}return y.next_out=lt,y.avail_out=ot,y.next_in=M,y.avail_in=H,e.hold=C,e.bits=z,(e.wsize||J!==y.avail_out&&e.mode<30&&(e.mode<27||W!==4))&&et(y,y.output,y.next_out,J-y.avail_out)?(e.mode=31,-4):(nt-=y.avail_in,J-=y.avail_out,y.total_in+=nt,y.total_out+=J,e.total+=J,e.wrap&&J&&(y.adler=e.check=e.flags?n(e.check,at,J,y.next_out-J):a(e.check,at,J,y.next_out-J)),y.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(nt==0&&J===0||W===4)&&L===_&&(L=-5),L)},k.inflateEnd=function(y){if(!y||!y.state)return i;var W=y.state;return W.window&&(W.window=null),y.state=null,_},k.inflateGetHeader=function(y,W){var e;return y&&y.state?(2&(e=y.state).wrap)==0?i:((e.head=W).done=!1,_):i},k.inflateSetDictionary=function(y,W){var e,F=W.length;return y&&y.state?(e=y.state).wrap!==0&&e.mode!==11?i:e.mode===11&&a(1,W,F,0)!==e.check?-3:et(y,W,F,F)?(e.mode=31,-4):(e.havedict=1,_):i},k.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(v,P,k){var f=v("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];P.exports=function(w,g,_,i,p,r,s,o){var h,b,T,A,D,B,U,j,q,et=o.bits,y=0,W=0,e=0,F=0,at=0,M=0,lt=0,H=0,ot=0,C=0,z=null,nt=0,J=new f.Buf16(16),Y=new f.Buf16(16),yt=null,Ot=0;for(y=0;y<=15;y++)J[y]=0;for(W=0;W<i;W++)J[g[_+W]]++;for(at=et,F=15;1<=F&&J[F]===0;F--);if(F<at&&(at=F),F===0)return p[r++]=20971520,p[r++]=20971520,o.bits=1,0;for(e=1;e<F&&J[e]===0;e++);for(at<e&&(at=e),y=H=1;y<=15;y++)if(H<<=1,(H-=J[y])<0)return-1;if(0<H&&(w===0||F!==1))return-1;for(Y[1]=0,y=1;y<15;y++)Y[y+1]=Y[y]+J[y];for(W=0;W<i;W++)g[_+W]!==0&&(s[Y[g[_+W]]++]=W);if(B=w===0?(z=yt=s,19):w===1?(z=a,nt-=257,yt=n,Ot-=257,256):(z=c,yt=m,-1),y=e,D=r,lt=W=C=0,T=-1,A=(ot=1<<(M=at))-1,w===1&&852<ot||w===2&&592<ot)return 1;for(;;){for(U=y-lt,q=s[W]<B?(j=0,s[W]):s[W]>B?(j=yt[Ot+s[W]],z[nt+s[W]]):(j=96,0),h=1<<y-lt,e=b=1<<M;p[D+(C>>lt)+(b-=h)]=U<<24|j<<16|q|0,b!==0;);for(h=1<<y-1;C&h;)h>>=1;if(h!==0?(C&=h-1,C+=h):C=0,W++,--J[y]==0){if(y===F)break;y=g[_+s[W]]}if(at<y&&(C&A)!==T){for(lt===0&&(lt=at),D+=e,H=1<<(M=y-lt);M+lt<F&&!((H-=J[M+lt])<=0);)M++,H<<=1;if(ot+=1<<M,w===1&&852<ot||w===2&&592<ot)return 1;p[T=C&A]=at<<24|M<<16|D-r|0}}return C!==0&&(p[D+C]=y-lt<<24|64<<16|0),o.bits=at,0}},{"../utils/common":41}],51:[function(v,P,k){P.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(v,P,k){var f=v("../utils/common"),a=0,n=1;function c(u){for(var l=u.length;0<=--l;)u[l]=0}var m=0,w=29,g=256,_=g+1+w,i=30,p=19,r=2*_+1,s=15,o=16,h=7,b=256,T=16,A=17,D=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(2*(_+2));c(et);var y=new Array(2*i);c(y);var W=new Array(512);c(W);var e=new Array(256);c(e);var F=new Array(w);c(F);var at,M,lt,H=new Array(i);function ot(u,l,O,S,x){this.static_tree=u,this.extra_bits=l,this.extra_base=O,this.elems=S,this.max_length=x,this.has_stree=u&&u.length}function C(u,l){this.dyn_tree=u,this.max_code=0,this.stat_desc=l}function z(u){return u<256?W[u]:W[256+(u>>>7)]}function nt(u,l){u.pending_buf[u.pending++]=255&l,u.pending_buf[u.pending++]=l>>>8&255}function J(u,l,O){u.bi_valid>o-O?(u.bi_buf|=l<<u.bi_valid&65535,nt(u,u.bi_buf),u.bi_buf=l>>o-u.bi_valid,u.bi_valid+=O-o):(u.bi_buf|=l<<u.bi_valid&65535,u.bi_valid+=O)}function Y(u,l,O){J(u,O[2*l],O[2*l+1])}function yt(u,l){for(var O=0;O|=1&u,u>>>=1,O<<=1,0<--l;);return O>>>1}function Ot(u,l,O){var S,x,R=new Array(s+1),Z=0;for(S=1;S<=s;S++)R[S]=Z=Z+O[S-1]<<1;for(x=0;x<=l;x++){var E=u[2*x+1];E!==0&&(u[2*x]=yt(R[E]++,E))}}function ht(u){var l;for(l=0;l<_;l++)u.dyn_ltree[2*l]=0;for(l=0;l<i;l++)u.dyn_dtree[2*l]=0;for(l=0;l<p;l++)u.bl_tree[2*l]=0;u.dyn_ltree[2*b]=1,u.opt_len=u.static_len=0,u.last_lit=u.matches=0}function mt(u){8<u.bi_valid?nt(u,u.bi_buf):0<u.bi_valid&&(u.pending_buf[u.pending++]=u.bi_buf),u.bi_buf=0,u.bi_valid=0}function Et(u,l,O,S){var x=2*l,R=2*O;return u[x]<u[R]||u[x]===u[R]&&S[l]<=S[O]}function bt(u,l,O){for(var S=u.heap[O],x=O<<1;x<=u.heap_len&&(x<u.heap_len&&Et(l,u.heap[x+1],u.heap[x],u.depth)&&x++,!Et(l,S,u.heap[x],u.depth));)u.heap[O]=u.heap[x],O=x,x<<=1;u.heap[O]=S}function Rt(u,l,O){var S,x,R,Z,E=0;if(u.last_lit!==0)for(;S=u.pending_buf[u.d_buf+2*E]<<8|u.pending_buf[u.d_buf+2*E+1],x=u.pending_buf[u.l_buf+E],E++,S===0?Y(u,x,l):(Y(u,(R=e[x])+g+1,l),(Z=B[R])!==0&&J(u,x-=F[R],Z),Y(u,R=z(--S),O),(Z=U[R])!==0&&J(u,S-=H[R],Z)),E<u.last_lit;);Y(u,b,l)}function It(u,l){var O,S,x,R=l.dyn_tree,Z=l.stat_desc.static_tree,E=l.stat_desc.has_stree,V=l.stat_desc.elems,Q=-1;for(u.heap_len=0,u.heap_max=r,O=0;O<V;O++)R[2*O]!==0?(u.heap[++u.heap_len]=Q=O,u.depth[O]=0):R[2*O+1]=0;for(;u.heap_len<2;)R[2*(x=u.heap[++u.heap_len]=Q<2?++Q:0)]=1,u.depth[x]=0,u.opt_len--,E&&(u.static_len-=Z[2*x+1]);for(l.max_code=Q,O=u.heap_len>>1;1<=O;O--)bt(u,R,O);for(x=V;O=u.heap[1],u.heap[1]=u.heap[u.heap_len--],bt(u,R,1),S=u.heap[1],u.heap[--u.heap_max]=O,u.heap[--u.heap_max]=S,R[2*x]=R[2*O]+R[2*S],u.depth[x]=(u.depth[O]>=u.depth[S]?u.depth[O]:u.depth[S])+1,R[2*O+1]=R[2*S+1]=x,u.heap[1]=x++,bt(u,R,1),2<=u.heap_len;);u.heap[--u.heap_max]=u.heap[1],function(rt,vt){var K,G,N,X,st,dt,wt=vt.dyn_tree,St=vt.max_code,Tt=vt.stat_desc.static_tree,zt=vt.stat_desc.has_stree,Pt=vt.stat_desc.extra_bits,it=vt.stat_desc.extra_base,ut=vt.stat_desc.max_length,$=0;for(X=0;X<=s;X++)rt.bl_count[X]=0;for(wt[2*rt.heap[rt.heap_max]+1]=0,K=rt.heap_max+1;K<r;K++)ut<(X=wt[2*wt[2*(G=rt.heap[K])+1]+1]+1)&&(X=ut,$++),wt[2*G+1]=X,St<G||(rt.bl_count[X]++,st=0,it<=G&&(st=Pt[G-it]),dt=wt[2*G],rt.opt_len+=dt*(X+st),zt&&(rt.static_len+=dt*(Tt[2*G+1]+st)));if($!==0){do{for(X=ut-1;rt.bl_count[X]===0;)X--;rt.bl_count[X]--,rt.bl_count[X+1]+=2,rt.bl_count[ut]--,$-=2}while(0<$);for(X=ut;X!==0;X--)for(G=rt.bl_count[X];G!==0;)St<(N=rt.heap[--K])||(wt[2*N+1]!==X&&(rt.opt_len+=(X-wt[2*N+1])*wt[2*N],wt[2*N+1]=X),G--)}}(u,l),Ot(R,Q,u.bl_count)}function t(u,l,O){var S,x,R=-1,Z=l[1],E=0,V=7,Q=4;for(Z===0&&(V=138,Q=3),l[2*(O+1)+1]=65535,S=0;S<=O;S++)x=Z,Z=l[2*(S+1)+1],++E<V&&x===Z||(E<Q?u.bl_tree[2*x]+=E:x!==0?(x!==R&&u.bl_tree[2*x]++,u.bl_tree[2*T]++):E<=10?u.bl_tree[2*A]++:u.bl_tree[2*D]++,R=x,Q=(E=0)===Z?(V=138,3):x===Z?(V=6,3):(V=7,4))}function L(u,l,O){var S,x,R=-1,Z=l[1],E=0,V=7,Q=4;for(Z===0&&(V=138,Q=3),S=0;S<=O;S++)if(x=Z,Z=l[2*(S+1)+1],!(++E<V&&x===Z)){if(E<Q)for(;Y(u,x,u.bl_tree),--E!=0;);else x!==0?(x!==R&&(Y(u,x,u.bl_tree),E--),Y(u,T,u.bl_tree),J(u,E-3,2)):E<=10?(Y(u,A,u.bl_tree),J(u,E-3,3)):(Y(u,D,u.bl_tree),J(u,E-11,7));R=x,Q=(E=0)===Z?(V=138,3):x===Z?(V=6,3):(V=7,4)}}c(H);var I=!1;function d(u,l,O,S){J(u,(m<<1)+(S?1:0),3),function(x,R,Z,E){mt(x),nt(x,Z),nt(x,~Z),f.arraySet(x.pending_buf,x.window,R,Z,x.pending),x.pending+=Z}(u,l,O)}k._tr_init=function(u){I||(function(){var l,O,S,x,R,Z=new Array(s+1);for(x=S=0;x<w-1;x++)for(F[x]=S,l=0;l<1<<B[x];l++)e[S++]=x;for(e[S-1]=x,x=R=0;x<16;x++)for(H[x]=R,l=0;l<1<<U[x];l++)W[R++]=x;for(R>>=7;x<i;x++)for(H[x]=R<<7,l=0;l<1<<U[x]-7;l++)W[256+R++]=x;for(O=0;O<=s;O++)Z[O]=0;for(l=0;l<=143;)et[2*l+1]=8,l++,Z[8]++;for(;l<=255;)et[2*l+1]=9,l++,Z[9]++;for(;l<=279;)et[2*l+1]=7,l++,Z[7]++;for(;l<=287;)et[2*l+1]=8,l++,Z[8]++;for(Ot(et,_+1,Z),l=0;l<i;l++)y[2*l+1]=5,y[2*l]=yt(l,5);at=new ot(et,B,g+1,_,s),M=new ot(y,U,0,i,s),lt=new ot(new Array(0),j,0,p,h)}(),I=!0),u.l_desc=new C(u.dyn_ltree,at),u.d_desc=new C(u.dyn_dtree,M),u.bl_desc=new C(u.bl_tree,lt),u.bi_buf=0,u.bi_valid=0,ht(u)},k._tr_stored_block=d,k._tr_flush_block=function(u,l,O,S){var x,R,Z=0;0<u.level?(u.strm.data_type===2&&(u.strm.data_type=function(E){var V,Q=4093624447;for(V=0;V<=31;V++,Q>>>=1)if(1&Q&&E.dyn_ltree[2*V]!==0)return a;if(E.dyn_ltree[18]!==0||E.dyn_ltree[20]!==0||E.dyn_ltree[26]!==0)return n;for(V=32;V<g;V++)if(E.dyn_ltree[2*V]!==0)return n;return a}(u)),It(u,u.l_desc),It(u,u.d_desc),Z=function(E){var V;for(t(E,E.dyn_ltree,E.l_desc.max_code),t(E,E.dyn_dtree,E.d_desc.max_code),It(E,E.bl_desc),V=p-1;3<=V&&E.bl_tree[2*q[V]+1]===0;V--);return E.opt_len+=3*(V+1)+5+5+4,V}(u),x=u.opt_len+3+7>>>3,(R=u.static_len+3+7>>>3)<=x&&(x=R)):x=R=O+5,O+4<=x&&l!==-1?d(u,l,O,S):u.strategy===4||R===x?(J(u,2+(S?1:0),3),Rt(u,et,y)):(J(u,4+(S?1:0),3),function(E,V,Q,rt){var vt;for(J(E,V-257,5),J(E,Q-1,5),J(E,rt-4,4),vt=0;vt<rt;vt++)J(E,E.bl_tree[2*q[vt]+1],3);L(E,E.dyn_ltree,V-1),L(E,E.dyn_dtree,Q-1)}(u,u.l_desc.max_code+1,u.d_desc.max_code+1,Z+1),Rt(u,u.dyn_ltree,u.dyn_dtree)),ht(u),S&&mt(u)},k._tr_tally=function(u,l,O){return u.pending_buf[u.d_buf+2*u.last_lit]=l>>>8&255,u.pending_buf[u.d_buf+2*u.last_lit+1]=255&l,u.pending_buf[u.l_buf+u.last_lit]=255&O,u.last_lit++,l===0?u.dyn_ltree[2*O]++:(u.matches++,l--,u.dyn_ltree[2*(e[O]+g+1)]++,u.dyn_dtree[2*z(l)]++),u.last_lit===u.lit_bufsize-1},k._tr_align=function(u){J(u,2,3),Y(u,b,et),function(l){l.bi_valid===16?(nt(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):8<=l.bi_valid&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)}(u)}},{"../utils/common":41}],53:[function(v,P,k){P.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(v,P,k){(function(f){(function(a,n){if(!a.setImmediate){var c,m,w,g,_=1,i={},p=!1,r=a.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(a);s=s&&s.setTimeout?s:a,c={}.toString.call(a.process)==="[object process]"?function(T){process.nextTick(function(){h(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,A=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=A,T}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),function(T){a.postMessage(g+T,"*")}):a.MessageChannel?((w=new MessageChannel).port1.onmessage=function(T){h(T.data)},function(T){w.port2.postMessage(T)}):r&&"onreadystatechange"in r.createElement("script")?(m=r.documentElement,function(T){var A=r.createElement("script");A.onreadystatechange=function(){h(T),A.onreadystatechange=null,m.removeChild(A),A=null},m.appendChild(A)}):function(T){setTimeout(h,0,T)},s.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),D=0;D<A.length;D++)A[D]=arguments[D+1];var B={callback:T,args:A};return i[_]=B,c(_),_++},s.clearImmediate=o}function o(T){delete i[T]}function h(T){if(p)setTimeout(h,0,T);else{var A=i[T];if(A){p=!0;try{(function(D){var B=D.callback,U=D.args;switch(U.length){case 0:B();break;case 1:B(U[0]);break;case 2:B(U[0],U[1]);break;case 3:B(U[0],U[1],U[2]);break;default:B.apply(n,U)}})(A)}finally{o(T),p=!1}}}}function b(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(g)===0&&h(+T.data.slice(g.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof Bt<"u"?Bt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Yt)),Yt.exports}var Ae=Se();const Te=ge(Ae);var Mt={exports:{}},ze=Mt.exports,ee;function Ce(){return ee||(ee=1,function(tt,kt){(function(v,P){P()})(ze,function(){function v(m,w){return typeof w>"u"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function P(m,w,g){var _=new XMLHttpRequest;_.open("GET",m),_.responseType="blob",_.onload=function(){c(_.response,w,g)},_.onerror=function(){console.error("could not download file")},_.send()}function k(m){var w=new XMLHttpRequest;w.open("HEAD",m,!1);try{w.send()}catch{}return 200<=w.status&&299>=w.status}function f(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(w)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Bt=="object"&&Bt.global===Bt?Bt:void 0,n=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(m,w,g){var _=a.URL||a.webkitURL,i=document.createElement("a");w=w||m.name||"download",i.download=w,i.rel="noopener",typeof m=="string"?(i.href=m,i.origin===location.origin?f(i):k(i.href)?P(m,w,g):f(i,i.target="_blank")):(i.href=_.createObjectURL(m),setTimeout(function(){_.revokeObjectURL(i.href)},4e4),setTimeout(function(){f(i)},0))}:"msSaveOrOpenBlob"in navigator?function(m,w,g){if(w=w||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(v(m,g),w);else if(k(m))P(m,w,g);else{var _=document.createElement("a");_.href=m,_.target="_blank",setTimeout(function(){f(_)})}}:function(m,w,g,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof m=="string")return P(m,w,g);var i=m.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&p||n)&&typeof FileReader<"u"){var s=new FileReader;s.onloadend=function(){var b=s.result;b=r?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=b:location=b,_=null},s.readAsDataURL(m)}else{var o=a.URL||a.webkitURL,h=o.createObjectURL(m);_?_.location=h:location.href=h,_=null,setTimeout(function(){o.revokeObjectURL(h)},4e4)}});a.saveAs=c.saveAs=c,tt.exports=c})}(Mt)),Mt.exports}var Ie=Ce(),Re=Xt('<meta name="description" content="Converter for heif">'),Pe=Xt('<div class="encoding-options"><label>Quality: <input type="range" min="0" max="100"> <span> </span></label> <label><input type="checkbox"> Lossless</label></div>'),je=Xt('<div class="text-column"><label><input type="checkbox">   </label> <!>  <br> <input type="file" multiple accept="image/*"></div>');function He(tt,kt){ae(kt,!1);let v=Ht(!0),P=Ht(80),k=Ht(!1),f=!1;function a(){if(!jt(v))return{quality:jt(P),lossless:jt(k),sharpYUV:f}}const n=Ee.pool(Oe,{workerOpts:{type:"module"}});_e(()=>{n.terminate(!0).catch(s=>{console.error("failure",s)})});async function c(s,o){return await n.exec("jsEncodeImages",[s,o])}async function m(s){const o=Array.from(s.target.files??[]);if(!o.length)return;const h=new Te,b=o.map(async A=>{try{if(A.type==="image/heic"||A.type==="image/heif"){console.warn(`Skipping ${A.name} as it is already in HEIC format.`),h.file(A.name,A);return}const D=await createImageBitmap(A),U=new OffscreenCanvas(D.width,D.height).getContext("2d");U.drawImage(D,0,0);const j=U.getImageData(0,0,D.width,D.height),q=await c([j],a());if(q.error){console.error(`Error encoding ${A.name}`,q.error);return}const et=A.name.replace(/\.[^/.]+$/,"")+".heic";h.file(et,q.data)}catch(D){console.error(`Error processing file ${A.name}:`,D)}});await Promise.all(b);const T=await h.generateAsync({type:"blob"});Ie.saveAs(T,"converted_images.zip")}me();var w=je();pe(s=>{var o=Re();fe.title="About",Zt(s,o)});var g=Dt(w),_=Dt(g);Gt(_),Vt(),Wt(g);var i=Ft(g,2);{var p=s=>{var o=Pe(),h=Dt(o),b=Ft(Dt(h));Gt(b);var T=Ft(b,2),A=Dt(T,!0);Wt(T),Wt(h);var D=Ft(h,2),B=Dt(D);Gt(B),Vt(),Wt(D),Wt(o),le(()=>he(A,jt(P))),ve(b,()=>jt(P),U=>qt(P,U)),Jt(B,()=>jt(k),U=>qt(k,U)),Zt(s,o)};de(i,s=>{jt(v)||s(p)})}var r=Ft(i,4);Wt(w),Jt(_,()=>jt(v),s=>qt(v,s)),ce("change",r,m),Zt(tt,w),ue()}export{He as component};
