import{t as w,a as y}from"../chunks/C40Lt10h.js";import"../chunks/DS3FZYJ0.js";import{p as D,C as e,a as J,$ as M,c as i,M as C,r as s,s as l,O as v,P as d,t as z}from"../chunks/DDedSiM2.js";import{s as N}from"../chunks/BFNVwhcV.js";import{i as Y}from"../chunks/8klTSOfK.js";import{h as P}from"../chunks/FuLw09dS.js";import{r as g,s as W}from"../chunks/B1B_G-Wy.js";import{e as B}from"../chunks/B0CZYdza.js";import{b as L,J as Q,a as Z}from"../chunks/Cg_NRMVG.js";import{i as G}from"../chunks/ZgGQqpiK.js";import{w as K}from"../chunks/4eif3qM-.js";const T=""+new URL("../workers/heic-CY6iNvqH.js",import.meta.url).href;var X=w('<meta name="description" content="Converter for heif">'),ee=w('<div class="encoding-options"><label>Quality: <input type="range" min="0" max="100"> <span> </span></label> <label><input type="checkbox"> Lossless</label> <label><input type="checkbox"> SharpYUV</label></div>'),ae=w('<p><a download="converted.zip">Download zip</a></p>'),te=w('<div class="text-column"><label><input type="checkbox"> 기본 옵션 사용</label> <!>  <br> <input type="file" multiple accept="image/*"> <!></div>');function ve(q,A){D(A,!1);let b=v(!0),h=v(80),k=v(!1),x=v(!1),m=v(void 0);function F(){if(!e(b))return{quality:e(h),lossless:e(k),sharpYUV:e(x)}}async function H(a){const o=Array.from(a.target.files??[]);if(!o.length)return;const n=new Worker(T,{type:"module"}),u=K(n),_=o.map(async t=>{try{if(t.type==="image/heic"||t.type==="image/heif")return console.warn(`Skipping ${t.name} as it is already in HEIC format.`),t;const r=await u.jsEncodeImages(t,F());if(r.error)throw console.error(`Error encoding ${t.name}`,r.error),r.error;const p=t.name.replace(/\.[^/.]+$/,"")+".heic";return new File([r.data],p,{type:"image/heic"})}catch(r){throw console.error(`Error processing file ${t.name}:`,r),r}});try{const t=new Q;await Promise.all(_).then(p=>{p.forEach(c=>{c instanceof File&&t.file(c.name,c)})});const r=await t.generateAsync({type:"blob"});e(m)&&URL.revokeObjectURL(e(m)),d(m,URL.createObjectURL(r))}finally{n.terminate()}}G();var U=te();P(a=>{var o=X();M.title="About",y(a,o)});var E=i(U),$=i(E);g($),C(),s(E);var O=l(E,2);{var I=a=>{var o=ee(),n=i(o),u=l(i(n));g(u);var _=l(u,2),t=i(_,!0);s(_),s(n);var r=l(n,2),p=i(r);g(p),C(),s(r);var c=l(r,2),j=i(c);g(j),C(),s(c),s(o),z(()=>N(t,e(h))),Z(u,()=>e(h),f=>d(h,f)),L(p,()=>e(k),f=>d(k,f)),L(j,()=>e(x),f=>d(x,f)),y(a,o)};Y(O,a=>{e(b)||a(I)})}var R=l(O,4),S=l(R,2);{var V=a=>{var o=ae(),n=i(o);s(o),z(()=>W(n,"href",e(m))),y(a,o)};Y(S,a=>{e(m)&&a(V)})}s(U),L($,()=>e(b),a=>d(b,a)),B("change",R,H),y(q,U),J()}export{ve as component};
