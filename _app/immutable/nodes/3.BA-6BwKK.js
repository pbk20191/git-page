import{t as w,a as y}from"../chunks/CtYR2VL8.js";import"../chunks/DMo5Fuas.js";import{p as W,K as e,a as D,$ as J,c as i,T as L,r as s,s as l,V as v,W as d,t as O}from"../chunks/BiaDghIV.js";import{s as N}from"../chunks/B-R2J0SN.js";import{i as V}from"../chunks/BtvvwYTc.js";import{h as B}from"../chunks/CuK0NPJf.js";import{r as g,s as K}from"../chunks/Cgoudy-_.js";import{e as M}from"../chunks/gFQPrapg.js";import{b as $,J as P,a as Q}from"../chunks/Dazn8mIu.js";import{i as T}from"../chunks/D5r5ET_F.js";import{w as Z}from"../chunks/4eif3qM-.js";const G=""+new URL("../workers/heic-CY6iNvqH.js",import.meta.url).href;var X=w('<meta name="description" content="Converter for heif">'),ee=w('<div class="encoding-options"><label>Quality: <input type="range" min="0" max="100"> <span> </span></label> <label><input type="checkbox"> Lossless</label> <label><input type="checkbox"> SharpYUV</label></div>'),ae=w('<p><a download="converted.zip">Download zip</a></p>'),te=w('<div class="text-column"><label><input type="checkbox"> 기본 옵션 사용</label> <!>  <br> <input type="file" multiple accept="image/*"> <!></div>');function ve(Y,q){W(q,!1);let b=v(!0),h=v(80),k=v(!1),x=v(!1),m=v(void 0);function A(){if(!e(b))return{quality:e(h),lossless:e(k),sharpYUV:e(x)}}async function F(a){const o=Array.from(a.target.files??[]);if(!o.length)return;const n=new Worker(G,{type:"module"}),u=Z(n),_=o.map(async t=>{try{if(t.type==="image/heic"||t.type==="image/heif")return console.warn(`Skipping ${t.name} as it is already in HEIC format.`),t;const r=await u.jsEncodeImages(t,A());if(r.error)throw console.error(`Error encoding ${t.name}`,r.error),r.error;const p=t.name.replace(/\.[^/.]+$/,"")+".heic";return new File([r.data],p,{type:"image/heic"})}catch(r){throw console.error(`Error processing file ${t.name}:`,r),r}});try{const t=new P;await Promise.all(_).then(p=>{p.forEach(c=>{c instanceof File&&t.file(c.name,c)})});const r=await t.generateAsync({type:"blob"});e(m)&&URL.revokeObjectURL(e(m)),d(m,URL.createObjectURL(r))}finally{n.terminate()}}T();var U=te();B(a=>{var o=X();J.title="About",y(a,o)});var E=i(U),C=i(E);g(C),L(),s(E);var R=l(E,2);{var H=a=>{var o=ee(),n=i(o),u=l(i(n));g(u);var _=l(u,2),t=i(_,!0);s(_),s(n);var r=l(n,2),p=i(r);g(p),L(),s(r);var c=l(r,2),z=i(c);g(z),L(),s(c),s(o),O(()=>N(t,e(h))),Q(u,()=>e(h),f=>d(h,f)),$(p,()=>e(k),f=>d(k,f)),$(z,()=>e(x),f=>d(x,f)),y(a,o)};V(R,a=>{e(b)||a(H)})}var j=l(R,4),I=l(j,2);{var S=a=>{var o=ae(),n=i(o);s(o),O(()=>K(n,"href",e(m))),y(a,o)};V(I,a=>{e(m)&&a(S)})}s(U),$(C,()=>e(b),a=>d(b,a)),M("change",j,F),y(Y,U),D()}export{ve as component};
